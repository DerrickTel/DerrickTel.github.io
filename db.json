{"meta":{"version":1,"warehouse":"3.0.2"},"models":{"Asset":[{"_id":"themes/Butterfly/source/img/algolia.svg","path":"img/algolia.svg","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/css/index.styl","path":"css/index.styl","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/css/var.styl","path":"css/var.styl","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/img/favicon.ico","path":"img/favicon.ico","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/img/404.jpg","path":"img/404.jpg","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/img/friend_404.gif","path":"img/friend_404.gif","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/img/comment_bg.png","path":"img/comment_bg.png","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/img/icp.png","path":"img/icp.png","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/img/post_loadding.svg","path":"img/post_loadding.svg","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/img/loading.gif","path":"img/loading.gif","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/img/post.jpg","path":"img/post.jpg","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/js/main.js","path":"js/main.js","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/js/tw_cn.js","path":"js/tw_cn.js","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/img/avatar.png","path":"img/avatar.png","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/js/search/algolia.js","path":"js/search/algolia.js","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/js/search/local-search.js","path":"js/search/local-search.js","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/js/third-party/canvas-nest.js","path":"js/third-party/canvas-nest.js","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/js/third-party/activate-power-mode.js","path":"js/third-party/activate-power-mode.js","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/js/third-party/canvas-ribbon.js","path":"js/third-party/canvas-ribbon.js","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/js/third-party/click_heart.js","path":"js/third-party/click_heart.js","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/js/third-party/fireworks.js","path":"js/third-party/fireworks.js","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/js/third-party/piao.js","path":"js/third-party/piao.js","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/js/third-party/ClickShowText.js","path":"js/third-party/ClickShowText.js","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/img/index.jpg","path":"img/index.jpg","modified":0,"renderable":1},{"_id":"source/image/cover/ANTD.png","path":"image/cover/ANTD.png","modified":0,"renderable":0},{"_id":"source/image/cover/HEXO.png","path":"image/cover/HEXO.png","modified":0,"renderable":0},{"_id":"source/image/cover/JWT.png","path":"image/cover/JWT.png","modified":0,"renderable":0},{"_id":"source/image/cover/JavaScript.png","path":"image/cover/JavaScript.png","modified":0,"renderable":0},{"_id":"source/image/cover/KDpgvguMpGfqaHPjicRK.svg","path":"image/cover/KDpgvguMpGfqaHPjicRK.svg","modified":0,"renderable":0},{"_id":"source/image/cover/React.jpeg","path":"image/cover/React.jpeg","modified":0,"renderable":0},{"_id":"source/image/cover/antdP.png","path":"image/cover/antdP.png","modified":0,"renderable":0},{"_id":"source/image/cover/css.png","path":"image/cover/css.png","modified":0,"renderable":0},{"_id":"source/image/cover/history.jpeg","path":"image/cover/history.jpeg","modified":0,"renderable":0},{"_id":"source/image/cover/http.png","path":"image/cover/http.png","modified":0,"renderable":0},{"_id":"source/image/cover/springboot.png","path":"image/cover/springboot.png","modified":0,"renderable":0},{"_id":"source/image/cover/web.jpeg","path":"image/cover/web.jpeg","modified":0,"renderable":0},{"_id":"source/image/cover/webpack.png","path":"image/cover/webpack.png","modified":0,"renderable":0},{"_id":"source/image/AntDesignFormæ€»ç»“/modal.png","path":"image/AntDesignFormæ€»ç»“/modal.png","modified":0,"renderable":0},{"_id":"themes/Butterfly/source/img/DerrickAlipay.jpg","path":"img/DerrickAlipay.jpg","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/img/DerrickWechat.png","path":"img/DerrickWechat.png","modified":0,"renderable":1},{"_id":"themes/Butterfly/source/img/1avatar.png","path":"img/1avatar.png","modified":0,"renderable":1},{"_id":"source/image/cover/decorator.png","path":"image/cover/decorator.png","modified":0,"renderable":0},{"_id":"source/image/AntDesignProæ¢ç´¢/2019031215120430.png","path":"image/AntDesignProæ¢ç´¢/2019031215120430.png","modified":0,"renderable":0},{"_id":"source/image/AntDesignProæ¢ç´¢/2019031215140926.png","path":"image/AntDesignProæ¢ç´¢/2019031215140926.png","modified":0,"renderable":0},{"_id":"source/image/AntDesignProæ¢ç´¢/2019031215175956.png","path":"image/AntDesignProæ¢ç´¢/2019031215175956.png","modified":0,"renderable":0},{"_id":"source/image/AntDesignProæ¢ç´¢/20190312150742764.png","path":"image/AntDesignProæ¢ç´¢/20190312150742764.png","modified":0,"renderable":0},{"_id":"source/image/AntDesignProæ¢ç´¢/20190312150929439.png","path":"image/AntDesignProæ¢ç´¢/20190312150929439.png","modified":0,"renderable":0},{"_id":"source/image/AntDesignProæ¢ç´¢/20190312151053807.png","path":"image/AntDesignProæ¢ç´¢/20190312151053807.png","modified":0,"renderable":0},{"_id":"source/image/AntDesignProæ¢ç´¢/20190312151839845.png","path":"image/AntDesignProæ¢ç´¢/20190312151839845.png","modified":0,"renderable":0},{"_id":"source/image/AntDesignProæ¢ç´¢/20190312152011733.png","path":"image/AntDesignProæ¢ç´¢/20190312152011733.png","modified":0,"renderable":0},{"_id":"source/image/CSSModulesè­¦å‘Š/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvMGM4ZDhiNjZlMGNmZTY0Ny5wbmc.jpeg","path":"image/CSSModulesè­¦å‘Š/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvMGM4ZDhiNjZlMGNmZTY0Ny5wbmc.jpeg","modified":0,"renderable":0},{"_id":"source/image/CSSModulesè­¦å‘Š/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvODU2M2ZjOGJhZTU1ODI3Yy5wbmc.jpeg","path":"image/CSSModulesè­¦å‘Š/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvODU2M2ZjOGJhZTU1ODI3Yy5wbmc.jpeg","modified":0,"renderable":0},{"_id":"source/image/CSSModulesè­¦å‘Š/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvYTkxMmI1YzhlNTk3YTYzYy5wbmc.jpeg","path":"image/CSSModulesè­¦å‘Š/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvYTkxMmI1YzhlNTk3YTYzYy5wbmc.jpeg","modified":0,"renderable":0},{"_id":"source/image/CSSModulesè­¦å‘Š/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvZWIwYzBmODU2NDE0OGZjMC5wbmc.jpeg","path":"image/CSSModulesè­¦å‘Š/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvZWIwYzBmODU2NDE0OGZjMC5wbmc.jpeg","modified":0,"renderable":0},{"_id":"source/image/CSSModulesè­¦å‘Š/aHR0cDovL2kyLnRpaW1nLmNvbS82OTE2NDMvMmVmODNhMzcxNjA4OWEwZS5wbmc.jpeg","path":"image/CSSModulesè­¦å‘Š/aHR0cDovL2kyLnRpaW1nLmNvbS82OTE2NDMvMmVmODNhMzcxNjA4OWEwZS5wbmc.jpeg","modified":0,"renderable":0}],"Cache":[{"_id":"themes/landscape/.gitignore","hash":"58d26d4b5f2f94c2d02a4e4a448088e4a2527c77","modified":1586602951118},{"_id":"themes/landscape/Gruntfile.js","hash":"71adaeaac1f3cc56e36c49d549b8d8a72235c9b9","modified":1586602951122},{"_id":"themes/landscape/LICENSE","hash":"c480fce396b23997ee23cc535518ffaaf7f458f8","modified":1586602951128},{"_id":"themes/landscape/README.md","hash":"37fae88639ef60d63bd0de22314d7cc4c5d94b07","modified":1586602951130},{"_id":"themes/landscape/_config.yml","hash":"79ac6b9ed6a4de5a21ea53fc3f5a3de92e2475ff","modified":1586602951131},{"_id":"themes/landscape/package.json","hash":"544f21a0b2c7034998b36ae94dba6e3e0f39f228","modified":1586602951183},{"_id":"source/_posts/hello-world.md","hash":"7d98d6592de80fdcd2949bd7401cec12afd98cdf","modified":1586602950995},{"_id":"themes/landscape/languages/de.yml","hash":"3ebf0775abbee928c8d7bda943c191d166ded0d3","modified":1586602951132},{"_id":"themes/landscape/languages/default.yml","hash":"3083f319b352d21d80fc5e20113ddf27889c9d11","modified":1586602951133},{"_id":"themes/landscape/languages/es.yml","hash":"76edb1171b86532ef12cfd15f5f2c1ac3949f061","modified":1586602951134},{"_id":"themes/landscape/languages/ja.yml","hash":"a73e1b9c80fd6e930e2628b393bfe3fb716a21a9","modified":1586602951136},{"_id":"themes/landscape/languages/fr.yml","hash":"415e1c580ced8e4ce20b3b0aeedc3610341c76fb","modified":1586602951135},{"_id":"themes/landscape/languages/ko.yml","hash":"881d6a0a101706e0452af81c580218e0bfddd9cf","modified":1586602951137},{"_id":"themes/landscape/languages/nl.yml","hash":"12ed59faba1fc4e8cdd1d42ab55ef518dde8039c","modified":1586602951137},{"_id":"themes/landscape/languages/pt.yml","hash":"57d07b75d434fbfc33b0ddb543021cb5f53318a8","modified":1586602951140},{"_id":"themes/landscape/languages/zh-CN.yml","hash":"ca40697097ab0b3672a80b455d3f4081292d1eed","modified":1586602951143},{"_id":"themes/landscape/languages/no.yml","hash":"965a171e70347215ec726952e63f5b47930931ef","modified":1586602951138},{"_id":"themes/landscape/languages/zh-TW.yml","hash":"53ce3000c5f767759c7d2c4efcaa9049788599c3","modified":1586602951144},{"_id":"themes/landscape/languages/ru.yml","hash":"4fda301bbd8b39f2c714e2c934eccc4b27c0a2b0","modified":1586602951142},{"_id":"themes/landscape/layout/index.ejs","hash":"aa1b4456907bdb43e629be3931547e2d29ac58c8","modified":1586602951172},{"_id":"themes/landscape/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1586602951170},{"_id":"themes/landscape/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1586602951171},{"_id":"themes/landscape/layout/layout.ejs","hash":"f155824ca6130080bb057fa3e868a743c69c4cf5","modified":1586602951174},{"_id":"themes/landscape/scripts/fancybox.js","hash":"aa411cd072399df1ddc8e2181a3204678a5177d9","modified":1586602951185},{"_id":"themes/landscape/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1586602951176},{"_id":"themes/landscape/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1586602951181},{"_id":"themes/landscape/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1586602951179},{"_id":"themes/landscape/layout/_partial/after-footer.ejs","hash":"d0d753d39038284d52b10e5075979cc97db9cd20","modified":1586602951147},{"_id":"themes/landscape/layout/_partial/article.ejs","hash":"c4c835615d96a950d51fa2c3b5d64d0596534fed","modified":1586602951150},{"_id":"themes/landscape/layout/_partial/gauges-analytics.ejs","hash":"aad6312ac197d6c5aaf2104ac863d7eba46b772a","modified":1586602951152},{"_id":"themes/landscape/layout/_partial/archive.ejs","hash":"950ddd91db8718153b329b96dc14439ab8463ba5","modified":1586602951149},{"_id":"themes/landscape/layout/_partial/google-analytics.ejs","hash":"f921e7f9223d7c95165e0f835f353b2938e40c45","modified":1586602951152},{"_id":"themes/landscape/layout/_partial/head.ejs","hash":"5abf77aec957d9445fc71a8310252f0013c84578","modified":1586602951153},{"_id":"themes/landscape/layout/_partial/header.ejs","hash":"7e749050be126eadbc42decfbea75124ae430413","modified":1586602951154},{"_id":"themes/landscape/layout/_partial/footer.ejs","hash":"93518893cf91287e797ebac543c560e2a63b8d0e","modified":1586602951151},{"_id":"themes/landscape/layout/_partial/mobile-nav.ejs","hash":"e952a532dfc583930a666b9d4479c32d4a84b44e","modified":1586602951155},{"_id":"themes/landscape/layout/_widget/archive.ejs","hash":"beb4a86fcc82a9bdda9289b59db5a1988918bec3","modified":1586602951166},{"_id":"themes/landscape/layout/_widget/category.ejs","hash":"dd1e5af3c6af3f5d6c85dfd5ca1766faed6a0b05","modified":1586602951167},{"_id":"themes/landscape/layout/_partial/sidebar.ejs","hash":"930da35cc2d447a92e5ee8f835735e6fd2232469","modified":1586602951165},{"_id":"themes/landscape/layout/_widget/recent_posts.ejs","hash":"0d4f064733f8b9e45c0ce131fe4a689d570c883a","modified":1586602951168},{"_id":"themes/landscape/layout/_widget/tagcloud.ejs","hash":"b4a2079101643f63993dcdb32925c9b071763b46","modified":1586602951170},{"_id":"themes/landscape/layout/_widget/tag.ejs","hash":"2de380865df9ab5f577f7d3bcadf44261eb5faae","modified":1586602951169},{"_id":"themes/landscape/layout/_partial/archive-post.ejs","hash":"c7a71425a946d05414c069ec91811b5c09a92c47","modified":1586602951148},{"_id":"themes/landscape/source/css/_extend.styl","hash":"222fbe6d222531d61c1ef0f868c90f747b1c2ced","modified":1586602951188},{"_id":"themes/landscape/source/css/_variables.styl","hash":"628e307579ea46b5928424313993f17b8d729e92","modified":1586602951215},{"_id":"themes/landscape/source/css/style.styl","hash":"a70d9c44dac348d742702f6ba87e5bb3084d65db","modified":1586602951232},{"_id":"themes/landscape/source/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1586602951234},{"_id":"themes/landscape/source/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1586602951235},{"_id":"themes/landscape/source/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1586602951237},{"_id":"themes/landscape/source/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1586602951239},{"_id":"themes/landscape/source/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1586602951243},{"_id":"themes/landscape/source/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1586602951244},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.css","hash":"aaa582fb9eb4b7092dc69fcb2d5b1c20cca58ab6","modified":1586602951253},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.js","hash":"d08b03a42d5c4ba456ef8ba33116fdbb7a9cabed","modified":1586602951256},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.pack.js","hash":"9e0d51ca1dbe66f6c0c7aefd552dc8122e694a6e","modified":1586602951260},{"_id":"themes/landscape/source/js/script.js","hash":"2876e0b19ce557fca38d7c6f49ca55922ab666a1","modified":1586602951262},{"_id":"themes/landscape/layout/_partial/post/category.ejs","hash":"c6bcd0e04271ffca81da25bcff5adf3d46f02fc0","modified":1586602951158},{"_id":"themes/landscape/layout/_partial/post/date.ejs","hash":"6197802873157656e3077c5099a7dda3d3b01c29","modified":1586602951160},{"_id":"themes/landscape/layout/_partial/post/gallery.ejs","hash":"3d9d81a3c693ff2378ef06ddb6810254e509de5b","modified":1586602951161},{"_id":"themes/landscape/layout/_partial/post/nav.ejs","hash":"16a904de7bceccbb36b4267565f2215704db2880","modified":1586602951162},{"_id":"themes/landscape/layout/_partial/post/title.ejs","hash":"2f275739b6f1193c123646a5a31f37d48644c667","modified":1586602951164},{"_id":"themes/landscape/layout/_partial/post/tag.ejs","hash":"2fcb0bf9c8847a644167a27824c9bb19ac74dd14","modified":1586602951163},{"_id":"themes/landscape/source/css/_partial/archive.styl","hash":"db15f5677dc68f1730e82190bab69c24611ca292","modified":1586602951191},{"_id":"themes/landscape/source/css/_partial/article.styl","hash":"10685f8787a79f79c9a26c2f943253450c498e3e","modified":1586602951194},{"_id":"themes/landscape/source/css/_partial/comment.styl","hash":"79d280d8d203abb3bd933ca9b8e38c78ec684987","modified":1586602951195},{"_id":"themes/landscape/source/css/_partial/footer.styl","hash":"e35a060b8512031048919709a8e7b1ec0e40bc1b","modified":1586602951196},{"_id":"themes/landscape/source/css/_partial/header.styl","hash":"85ab11e082f4dd86dde72bed653d57ec5381f30c","modified":1586602951197},{"_id":"themes/landscape/source/css/_partial/highlight.styl","hash":"bf4e7be1968dad495b04e83c95eac14c4d0ad7c0","modified":1586602951198},{"_id":"themes/landscape/source/css/_partial/mobile.styl","hash":"a399cf9e1e1cec3e4269066e2948d7ae5854d745","modified":1586602951202},{"_id":"themes/landscape/source/css/_partial/sidebar-aside.styl","hash":"890349df5145abf46ce7712010c89237900b3713","modified":1586602951204},{"_id":"themes/landscape/source/css/_partial/sidebar-bottom.styl","hash":"8fd4f30d319542babfd31f087ddbac550f000a8a","modified":1586602951206},{"_id":"themes/landscape/source/css/_partial/sidebar.styl","hash":"404ec059dc674a48b9ab89cd83f258dec4dcb24d","modified":1586602951210},{"_id":"themes/landscape/source/css/_util/grid.styl","hash":"0bf55ee5d09f193e249083602ac5fcdb1e571aed","modified":1586602951212},{"_id":"themes/landscape/source/css/fonts/FontAwesome.otf","hash":"b5b4f9be85f91f10799e87a083da1d050f842734","modified":1586602951218},{"_id":"themes/landscape/source/css/_util/mixin.styl","hash":"44f32767d9fd3c1c08a60d91f181ee53c8f0dbb3","modified":1586602951214},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.eot","hash":"7619748fe34c64fb157a57f6d4ef3678f63a8f5e","modified":1586602951220},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff","hash":"04c3bf56d87a0828935bd6b4aee859995f321693","modified":1586602951228},{"_id":"themes/landscape/source/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1586602951246},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1586602951248},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.js","hash":"dc3645529a4bf72983a39fa34c1eb9146e082019","modified":1586602951248},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1586602951250},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"47da1ae5401c24b5c17cc18e2730780f5c1a7a0c","modified":1586602951251},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-media.js","hash":"294420f9ff20f4e3584d212b0c262a00a96ecdb3","modified":1586602951249},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.ttf","hash":"7f09c97f333917034ad08fa7295e916c9f72fd3f","modified":1586602951226},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.svg","hash":"46fcc0194d75a0ddac0a038aee41b23456784814","modified":1586602951225},{"_id":"themes/landscape/source/css/images/banner.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1586602951231},{"_id":"themes/Butterfly/LICENSE","hash":"c372b56b7553dafd2d8a8abf12d0dd71b4e2bfc0","modified":1586605512476},{"_id":"themes/Butterfly/README.md","hash":"820ea54f95d0bd44e335c7f644959ce87a425750","modified":1586605512476},{"_id":"themes/Butterfly/README_CN.md","hash":"06ef4ef4bffd1ac8f60e59c28f885c63a9481e0f","modified":1586605512477},{"_id":"themes/Butterfly/_config.yml","hash":"718fd905fcc1516f7dc2a3e04ef8ae7e7af0848c","modified":1586613085442},{"_id":"themes/Butterfly/package.json","hash":"95c1780b8d0bad746201bda689591ee1fed50d13","modified":1586605512502},{"_id":"themes/Butterfly/.github/ISSUE_TEMPLATE.md","hash":"6f7e5583ca1a141cd847a117715454175adfb61f","modified":1586605512475},{"_id":"themes/Butterfly/.github/stale.yml","hash":"cd5a929ce25a6293a9f449e7b80dfe4307326797","modified":1586605512476},{"_id":"themes/Butterfly/languages/en.yml","hash":"405d4413c47e87f00b3238b4ae8bb39b42ca22bb","modified":1586605512478},{"_id":"themes/Butterfly/languages/default.yml","hash":"405d4413c47e87f00b3238b4ae8bb39b42ca22bb","modified":1586605512477},{"_id":"themes/Butterfly/languages/zh-CN.yml","hash":"508065bba5376f5b24f783b75b599ffbc509a8d6","modified":1586605512478},{"_id":"themes/Butterfly/languages/zh-TW.yml","hash":"50b84f0379d433b6247a56de94d6b3f9b7eae11b","modified":1586605512478},{"_id":"themes/Butterfly/layout/404.pug","hash":"ca0740ff0bf095756dcecb4aaf2ac7ec222cd2df","modified":1586605512479},{"_id":"themes/Butterfly/layout/archive.pug","hash":"bd62286afb64a51c97e800c5945620d51605d5fa","modified":1586605512479},{"_id":"themes/Butterfly/layout/category.pug","hash":"6bf52ce6605972ae627dd169dcbc70a03184aa60","modified":1586605512480},{"_id":"themes/Butterfly/layout/flink.pug","hash":"2130228c1d0cff16deac551a98ef395830e5f36c","modified":1586605512480},{"_id":"themes/Butterfly/layout/index.pug","hash":"dd4b6760f799e990271f866d8d765e21df0d6838","modified":1586605512501},{"_id":"themes/Butterfly/layout/page-tags.pug","hash":"110c07cd0cc829ebbb51a373dd0a3f6ff7d757c8","modified":1586605512501},{"_id":"themes/Butterfly/layout/page.pug","hash":"c964aee467fa721618a7296904930c76fbe500a7","modified":1586605512502},{"_id":"themes/Butterfly/layout/post.pug","hash":"96e08b68df172fb1619f09358f1da8c50b584176","modified":1586605512502},{"_id":"themes/Butterfly/layout/tag.pug","hash":"5fda92181fbb8db726a3d3e97048b0672d4b7b8c","modified":1586605512502},{"_id":"themes/Butterfly/layout/includes/additional-js.pug","hash":"d4969489466f02e3281cd442be8346136a0e45e9","modified":1586605512481},{"_id":"themes/Butterfly/layout/includes/footer.pug","hash":"855c5d7e427730178c2f6e4f3e816d7fbee40198","modified":1586605512484},{"_id":"themes/Butterfly/layout/includes/head.pug","hash":"b6a53054ddd8adb5bc39c36af140aadd1f4fb517","modified":1586605512485},{"_id":"themes/Butterfly/layout/includes/layout.pug","hash":"8f34a8ab1bf80da1570771ca23cbac2c514e9e0a","modified":1586605512492},{"_id":"themes/Butterfly/layout/includes/pagination.pug","hash":"a6587bcbdd1477bfba8c6c6c6a327224ed5a3951","modified":1586605512494},{"_id":"themes/Butterfly/layout/includes/recent-posts.pug","hash":"6a0ef6a4a2096a053ca3bfeb4636c64d0f633aef","modified":1586605512495},{"_id":"themes/Butterfly/layout/includes/rightside.pug","hash":"9ba725c0f9661a156f82dee35a422fdd4639a5ce","modified":1586605512495},{"_id":"themes/Butterfly/layout/includes/sidebar.pug","hash":"b41c97424c588209c0d24817f5120b50933135fd","modified":1586605512498},{"_id":"themes/Butterfly/scripts/events/404.js","hash":"551bd94e99cc567b3e287e30720c34eb3f5b205d","modified":1586605512502},{"_id":"themes/Butterfly/scripts/events/replace-config.js","hash":"4acb5a4519e1b5a29c23c83d1f70c1e298931e30","modified":1586605512503},{"_id":"themes/Butterfly/scripts/filters/hide-post.js","hash":"15046d3b80cd0d981dbd4caccd53972f184e98e3","modified":1586605512503},{"_id":"themes/Butterfly/scripts/filters/post-lazyload.js","hash":"05d0768fde7151bb6317ee844a62caa95a7af30c","modified":1586605512503},{"_id":"themes/Butterfly/scripts/filters/random-cover.js","hash":"d9a7e393abee3e835b46f441c731c4f92ec6f673","modified":1586605512503},{"_id":"themes/Butterfly/scripts/helpers/list-archives.js","hash":"27ffc169be6711ec08f47d625e679c06d1478391","modified":1586605512504},{"_id":"themes/Butterfly/scripts/helpers/related-post.js","hash":"5b18f227462b500a22e21c8d9c10e5097e928de8","modified":1586605512504},{"_id":"themes/Butterfly/scripts/tags/gallery.js","hash":"23bc9b8d90c569a160c6299704cc59f5e26579ad","modified":1586605512504},{"_id":"themes/Butterfly/scripts/tags/hide.js","hash":"ed32b4c668b53e0eb4f2076def51eea16b3ea4fd","modified":1586605512504},{"_id":"themes/Butterfly/scripts/tags/mermaid.js","hash":"ea088b5bd601a3ac3dc8ca99cef09988546b8c46","modified":1586605512504},{"_id":"themes/Butterfly/scripts/tags/note.js","hash":"03d608278de2dc9c6b2af69e8d36c77c0272e2bf","modified":1586605512505},{"_id":"themes/Butterfly/source/img/algolia.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1586605512513},{"_id":"themes/Butterfly/source/css/index.styl","hash":"f5fae01f87c5e99a840456ba67f90e80cad4fb75","modified":1586605512511},{"_id":"themes/Butterfly/source/css/var.styl","hash":"1e1546545bc8c685fb2cf1da4edae089b203959e","modified":1586605512512},{"_id":"themes/Butterfly/source/img/favicon.ico","hash":"47877628a0f0e0f06430845b0e3a75e0ba1361ce","modified":1586605512517},{"_id":"themes/Butterfly/source/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1586605512513},{"_id":"themes/Butterfly/source/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1586605512519},{"_id":"themes/Butterfly/source/img/comment_bg.png","hash":"1adfc4ee925fb4f922c24d7774e7c46d940fe31b","modified":1586605512517},{"_id":"themes/Butterfly/source/img/icp.png","hash":"cb1fd69b38ec23ce8366668ddffbbd0160de0104","modified":1586605512519},{"_id":"themes/Butterfly/source/img/post_loadding.svg","hash":"549c58cd09dbeefd573ce10646c49ded8bcc48ec","modified":1586605512528},{"_id":"themes/Butterfly/source/img/loading.gif","hash":"5f0287fb8fb98872fe1998c6f781111819e71806","modified":1586605512524},{"_id":"themes/Butterfly/source/img/post.jpg","hash":"554584218db9279874e48559f9a8e86b9ecca94b","modified":1586605512527},{"_id":"themes/Butterfly/source/js/main.js","hash":"1dd462d995e0d85ad9e1d60002a3d5ac02c88373","modified":1586605512528},{"_id":"themes/Butterfly/source/js/tw_cn.js","hash":"d468bf1634950ed1ffd7cedd3c87f2037e27543f","modified":1586605512533},{"_id":"themes/Butterfly/source/js/utils.js","hash":"e3423175d06a8fddc937d77990a172180476dbec","modified":1586605512534},{"_id":"themes/Butterfly/source/img/avatar.png","hash":"92434097d199cec038f7aa9a25e32054b0d49f21","modified":1586611615432},{"_id":"themes/Butterfly/layout/includes/comments/disqus.pug","hash":"821d968122bab8ce1ce04dc553b731eaf8e0d181","modified":1586605512481},{"_id":"themes/Butterfly/layout/includes/comments/disqusjs.pug","hash":"050085054a68942e8833c6a4033fb437b6b01e52","modified":1586605512481},{"_id":"themes/Butterfly/layout/includes/comments/index.pug","hash":"91d361f12923a5750605ab6449cba33600c7868b","modified":1586605512482},{"_id":"themes/Butterfly/layout/includes/comments/gitalk.pug","hash":"e98f5c199a76ad939a29a46c0dcbf7e85ec60ed2","modified":1586605512482},{"_id":"themes/Butterfly/layout/includes/comments/laibili.pug","hash":"00022f763085b6852bc172b0ba91b0eacb403389","modified":1586605512483},{"_id":"themes/Butterfly/layout/includes/comments/utterances.pug","hash":"9427cb07bcfe2bc7198755eeebf60f9fe430a342","modified":1586605512483},{"_id":"themes/Butterfly/layout/includes/comments/valine.pug","hash":"e58e3d3e004ae1de4235993da901cf59b9bdcc53","modified":1586605512484},{"_id":"themes/Butterfly/layout/includes/head/Open_Graph.pug","hash":"90c872160a9d6e71d02a26517b35abac9ba56df1","modified":1586605512485},{"_id":"themes/Butterfly/layout/includes/head/analytics.pug","hash":"8ec0609f14c284c3e6120940d7c4d7f1f201cd67","modified":1586605512486},{"_id":"themes/Butterfly/layout/includes/head/comment.pug","hash":"7d59c68eafede1974380a139cad47ebf0bc64b24","modified":1586605512486},{"_id":"themes/Butterfly/layout/includes/head/config.pug","hash":"b2aa39591062f68d92b24c11b74091f3798e18f3","modified":1586605512487},{"_id":"themes/Butterfly/layout/includes/head/config_site.pug","hash":"2c7a5a097a2f815ba43a4e99c810405da3b9eebc","modified":1586605512487},{"_id":"themes/Butterfly/layout/includes/head/darkmode.pug","hash":"dcc8c01e1b0f8a4960ed873f49fb0f18d9912d21","modified":1586605512488},{"_id":"themes/Butterfly/layout/includes/head/dns_prefetch.pug","hash":"54f091a1736e6186707a5ead25bf98fcd55e9661","modified":1586605512488},{"_id":"themes/Butterfly/layout/includes/head/google_adsense.pug","hash":"ff4ceda534cdd711cfa2cb9e95e36258988674e1","modified":1586605512489},{"_id":"themes/Butterfly/layout/includes/head/noscript.pug","hash":"47a10164395d8200c8d962df68a01e7deee4053b","modified":1586605512490},{"_id":"themes/Butterfly/layout/includes/head/pwa.pug","hash":"be1ff710e4381fc684243313dcadf0140d7469de","modified":1586605512490},{"_id":"themes/Butterfly/layout/includes/head/site_verification.pug","hash":"f5c8ec73c797ff3455e732fa7c92c856692f3ce5","modified":1586605512490},{"_id":"themes/Butterfly/layout/includes/head/subtitle.pug","hash":"4816345ccad0cd9994291b93eea61ecfca8c5d00","modified":1586605512490},{"_id":"themes/Butterfly/layout/includes/header/header.pug","hash":"61a5a52aff9b501b802a6b8c83a789086710831b","modified":1586605512491},{"_id":"themes/Butterfly/layout/includes/header/index.pug","hash":"387ee38180784500439dac819a8e76763d0d57c5","modified":1586605512491},{"_id":"themes/Butterfly/layout/includes/header/menu_item.pug","hash":"92527e432748c978aca4127db93421d263b7a4b8","modified":1586605512491},{"_id":"themes/Butterfly/layout/includes/header/post-info.pug","hash":"25036c657069fbb2fb17e9b973571ca5168aa2bf","modified":1586605512491},{"_id":"themes/Butterfly/layout/includes/header/social.pug","hash":"0d684f897fcdfe1e98300851b7fd955a30b68dd9","modified":1586605512492},{"_id":"themes/Butterfly/layout/includes/math/index.pug","hash":"ec97f284626b67208370b5084e5c5822844fa30a","modified":1586605512492},{"_id":"themes/Butterfly/layout/includes/math/katex.pug","hash":"73356f1068c7426597e268d6c4aefa2b0ac3a1d9","modified":1586605512492},{"_id":"themes/Butterfly/layout/includes/math/mathjax.pug","hash":"6ccfaa776fc913ccf8b34825d918ab2b4d457434","modified":1586605512492},{"_id":"themes/Butterfly/layout/includes/math/mermaid.pug","hash":"db848ff451d4c58670af415882ca6bb2e0da971b","modified":1586605512493},{"_id":"themes/Butterfly/layout/includes/mixins/UI.pug","hash":"c5bb1e3cb5e0154f1c2b91eac484c60783a6e4eb","modified":1586605512493},{"_id":"themes/Butterfly/layout/includes/mixins/article-sort.pug","hash":"3d86443ad9bc1975a950ad9ca8c38fa35169404d","modified":1586605512493},{"_id":"themes/Butterfly/layout/includes/mobile-sidebar/index.pug","hash":"d12fab033fb32b55abbc9be9b04cc6ab6465b98e","modified":1586605512493},{"_id":"themes/Butterfly/layout/includes/mobile-sidebar/mobile-menus.pug","hash":"006c7156dff7a07b738d982433c0f52142826bb5","modified":1586605512493},{"_id":"themes/Butterfly/layout/includes/post/post-copyright.pug","hash":"8efc0b7886bdb5959e173b5e11f5ffb8d1c5230e","modified":1586605512494},{"_id":"themes/Butterfly/layout/includes/post/reward.pug","hash":"f0594d919091ad1f9b88389cba3cee5eabca23f7","modified":1586605512494},{"_id":"themes/Butterfly/layout/includes/search/algolia.pug","hash":"44d5a061df53a276d22b3855652645d90117d0b6","modified":1586605512496},{"_id":"themes/Butterfly/layout/includes/search/index.pug","hash":"b01828b37d789797aeb5433f1705cff3c540a4d5","modified":1586605512496},{"_id":"themes/Butterfly/layout/includes/search/local-search.pug","hash":"a45b5453e35479e58cd44b6bd2af0e08789890af","modified":1586605512496},{"_id":"themes/Butterfly/layout/includes/share/index.pug","hash":"c341aaa00113681b22f945f5004e6b22c8a0ca69","modified":1586605512497},{"_id":"themes/Butterfly/layout/includes/share/add-this.pug","hash":"2980f1889226ca981aa23b8eb1853fde26dcf89a","modified":1586605512497},{"_id":"themes/Butterfly/layout/includes/share/addtoany.pug","hash":"bbf5b70460b17c4fecb9ee6880aa71cdb2d807a8","modified":1586605512497},{"_id":"themes/Butterfly/layout/includes/share/share-js.pug","hash":"07c62fda87785fb9294f9027a71d80197cd9d849","modified":1586605512498},{"_id":"themes/Butterfly/layout/includes/third-party/canvas-nest.pug","hash":"3d7a3654ae03fd2665ea355ee9eac48af0ee82af","modified":1586605512499},{"_id":"themes/Butterfly/layout/includes/third-party/canvas-ribbon-piao.pug","hash":"001f28c633d2ec2d5ef9ca047fb1fe61ffefd66f","modified":1586605512499},{"_id":"themes/Butterfly/layout/includes/third-party/canvas-ribbon.pug","hash":"b4acf48c98ba2a6a5a5fb5387a0fd610bdfd55ef","modified":1586605512499},{"_id":"themes/Butterfly/layout/includes/third-party/pangu.pug","hash":"3f7de99f4307ac9bfd89e669aaa7c2ae54d5224a","modified":1586605512499},{"_id":"themes/Butterfly/layout/includes/widget/card_ad.pug","hash":"2e940de1a6261fd378e16e4cd3362a9d69c12f50","modified":1586605512499},{"_id":"themes/Butterfly/layout/includes/widget/card_announcement.pug","hash":"53d784e8d1d1da34c7407d440bf71dd306c413a8","modified":1586605512500},{"_id":"themes/Butterfly/layout/includes/widget/card_archives.pug","hash":"4abbd02c7dcb2c0a42062d6c18d87faa60988914","modified":1586605512500},{"_id":"themes/Butterfly/layout/includes/widget/card_author.pug","hash":"974d311f355bbdf8c816703447aaee1c8bc13084","modified":1586605512500},{"_id":"themes/Butterfly/layout/includes/widget/card_categories.pug","hash":"7d4201dfe3a096c2470c2f1f4ded7b02e3250a40","modified":1586605512500},{"_id":"themes/Butterfly/layout/includes/widget/card_recent_post.pug","hash":"a3efcad9b4cbd609cf57021d1759d0ef5e479187","modified":1586605512500},{"_id":"themes/Butterfly/layout/includes/widget/card_tags.pug","hash":"284f10318cd7e048fcf6fad70c38c562520244b8","modified":1586605512501},{"_id":"themes/Butterfly/layout/includes/widget/card_webinfo.pug","hash":"6caff3cb958ccb0da7d88b51d87e22d27fcd9625","modified":1586605512501},{"_id":"themes/Butterfly/layout/includes/widget/index.pug","hash":"97286029b3c5fde6b284e7b560ecc5f5a199ff71","modified":1586605512501},{"_id":"themes/Butterfly/source/css/_highlight/diff.styl","hash":"b0079f6da761935b720d70dafd826ef62fad86d2","modified":1586605512505},{"_id":"themes/Butterfly/source/css/_highlight/theme.styl","hash":"efceb8105830544cef5e4afad3243326b3118fc1","modified":1586605512506},{"_id":"themes/Butterfly/source/css/_highlight/highlight.styl","hash":"647d9451374df4786684397f82334d541929d66a","modified":1586605512505},{"_id":"themes/Butterfly/source/css/_layout/404.styl","hash":"964d16c30f307ec354b47375aa5f00f0417c7bf0","modified":1586605512506},{"_id":"themes/Butterfly/source/css/_global/index.styl","hash":"f512f4fe7a78862551f72fca4867a941b9e4d434","modified":1586605512505},{"_id":"themes/Butterfly/source/css/_layout/aside.styl","hash":"e1efce89dcce9930bdd164d7d39135ea497ee7b0","modified":1586605512506},{"_id":"themes/Butterfly/source/css/_layout/flink.styl","hash":"0631c50cdccd29ca41fbac3423b2fd91a9be49b8","modified":1586605512506},{"_id":"themes/Butterfly/source/css/_layout/category.styl","hash":"7267043e52a9e620adfa860bdb3e4de400ff2596","modified":1586605512506},{"_id":"themes/Butterfly/source/css/_layout/footer.styl","hash":"d8709e29efcfa0a7356384026dfbaac8861d3baa","modified":1586605512507},{"_id":"themes/Butterfly/source/css/_layout/gallery.styl","hash":"750bfc09261fe3e06f17f934eee9fee96ee2b4c2","modified":1586605512507},{"_id":"themes/Butterfly/source/css/_layout/mobile-sidebar.styl","hash":"f2d5dbb8e0b0ec786f00a09f0f51a82a0fa41ae1","modified":1586605512507},{"_id":"themes/Butterfly/source/css/_layout/head.styl","hash":"b4bb249bc38f75fc55dde3e2017b4890004a20bd","modified":1586605512507},{"_id":"themes/Butterfly/source/css/_layout/post.styl","hash":"814c8c712f2041f905ba4fcc75bb837d70aa1880","modified":1586605512508},{"_id":"themes/Butterfly/source/css/_layout/page.styl","hash":"8df965312dc8eae05a3e34a72aa924a39629aed7","modified":1586605512508},{"_id":"themes/Butterfly/source/css/_layout/reward.styl","hash":"92b615795f02eff2a018edb425f923968c9e9814","modified":1586605512509},{"_id":"themes/Butterfly/source/css/_layout/note.styl","hash":"1ec06d5ac4148798babd2475a5d10f0d3a1b5870","modified":1586605512507},{"_id":"themes/Butterfly/source/css/_layout/pagination.styl","hash":"d6f0b7d9dc10761c15a5a2b84cc63e914a10d339","modified":1586605512508},{"_id":"themes/Butterfly/source/css/_layout/relatedposts.styl","hash":"1103f2cead8ab1aa9945c20c7d608bb4b829d2cd","modified":1586605512508},{"_id":"themes/Butterfly/source/css/_layout/rightside.styl","hash":"9a44881bd4c2aea0b0774809d91d58e4067496ed","modified":1586605512509},{"_id":"themes/Butterfly/source/css/_layout/sidebar.styl","hash":"33da3da65715ce1a85b8ecab92e0eab6ce620a58","modified":1586605512509},{"_id":"themes/Butterfly/source/css/_layout/third-party.styl","hash":"c9a517fe216ef4d54f0ce5697d5cd460ddab4687","modified":1586605512509},{"_id":"themes/Butterfly/source/css/_mode/readmode.styl","hash":"26342e889e8488f8a25249e0bb6da3362e8ff0f6","modified":1586605512510},{"_id":"themes/Butterfly/source/css/_mode/darkmode.styl","hash":"aebf5f315995d2e5eff763298bd3412a6fc95d2a","modified":1586605512510},{"_id":"themes/Butterfly/source/css/_search/algolia.styl","hash":"280f621301da0bea641276e212f50e67f060b6d4","modified":1586605512510},{"_id":"themes/Butterfly/source/css/_search/index.styl","hash":"d4c414d689bebe706021f7e904ec874c26a6cff6","modified":1586605512511},{"_id":"themes/Butterfly/source/css/_search/local-search.styl","hash":"7e66ab006450b73f5a300d8c6a91a6c895975ffd","modified":1586605512511},{"_id":"themes/Butterfly/source/css/_third-party/normalize.min.css","hash":"001bd6d68a9b9af5dd0158fe116889434f36b1fd","modified":1586605512511},{"_id":"themes/Butterfly/source/js/search/algolia.js","hash":"09219d497f54c834ec506a4f63d02f6cad7c2dc7","modified":1586605512529},{"_id":"themes/Butterfly/source/js/search/local-search.js","hash":"bf9ebb4ac93ccdd93e9eb37f69d17d5327e01040","modified":1586605512530},{"_id":"themes/Butterfly/source/js/third-party/canvas-nest.js","hash":"978402a16f3ceebe453806e3e25a5905a89776be","modified":1586605512531},{"_id":"themes/Butterfly/source/js/third-party/activate-power-mode.js","hash":"2c4ab494225b7d04eed934efc43a43791e596f4a","modified":1586605512531},{"_id":"themes/Butterfly/source/js/third-party/canvas-ribbon.js","hash":"05fc79ebcf673e2d257583554eef62d162ade5e8","modified":1586605512531},{"_id":"themes/Butterfly/source/js/third-party/click_heart.js","hash":"004ea645ed8c5e354711b5fc0dbfe015e181916b","modified":1586605512532},{"_id":"themes/Butterfly/source/js/third-party/fireworks.js","hash":"411ced4031a856a5b87f7c62d3800027d12bacec","modified":1586605512532},{"_id":"themes/Butterfly/source/js/third-party/piao.js","hash":"05da3437664bb335e2336a52be8587e7719f7b89","modified":1586605512532},{"_id":"themes/Butterfly/source/js/third-party/ClickShowText.js","hash":"32864aee35b5d739a36702b8d916b17bac52b17e","modified":1586605512530},{"_id":"themes/Butterfly/source/img/index.jpg","hash":"d79fc7faf6d37b088bd638ceef641dd33beb353f","modified":1586605512523},{"_id":"source/_posts/5åˆ†é’Ÿå¿«é€Ÿç²¾é€šAnt-Design-Form-1åˆ†é’Ÿå¿«é€Ÿæ„å»ºå¤æ‚Ant-Design-Formè¡¨å•.md","hash":"2d87ac645616954ea5dfd1711fbcf05df531b484","modified":1586613359783},{"_id":"source/_posts/HTTPHTTPSåè®®.md","hash":"9e3ad3d9ebc5378bf5c78fc081b3b97d67fb1649","modified":1586605839636},{"_id":"source/_posts/Hexo+GitHubæ„å»ºä½ çš„åšå®¢.md","hash":"23e89c75b844fe61234f43ec2c751a549df723c5","modified":1586605839523},{"_id":"source/_posts/JWT-spring-boot-JAVA-ä½¿ç”¨æ­¥éª¤-spring-boot2-0.md","hash":"a1f6d9c1fb2c0ccd77d602f2fb629985e8147f03","modified":1586605839840},{"_id":"source/_posts/JavaScript-æµ…æ‹·è´-æ·±æ‹·è´-èµ‹å€¼-å¼•ç”¨-JS.md","hash":"96b8ccabd5e89fe3e4836378ccb806789836f474","modified":1586605839767},{"_id":"source/_posts/React-Hook-useState-useEffect-componentDidMount-componentDidUpdate-componentWillUnmount.md","hash":"000078cd903a8255293cea75de4d1165cf2e08e3","modified":1586605840134},{"_id":"source/_posts/React-Hook-å€’è®¡æ—¶.md","hash":"8d2269e7684810ddd5e3d55e770191e50efabcbc","modified":1586605839923},{"_id":"source/_posts/Reactå…¥é—¨ï¼ˆä¸€ï¼‰-Stateè¯¦è§£.md","hash":"c7d2325b0f8ecbf81f2636afbe198430be98c3dc","modified":1586605840209},{"_id":"source/_posts/Webpack-CleanWebpackPlugin-is-not-a-constructor.md","hash":"a6475076f2f4458e03ee0db4554936d5a7c3acc6","modified":1586605840608},{"_id":"source/_posts/Webå‰ç«¯-å­¦ä¹ ç›®å½•-å­¦ä¹ æ¡†æ¶-ç³»ç»Ÿæ€§çš„å­¦ä¹ Webå‰ç«¯.md","hash":"8a17334a65b5f709f6c4603e97afebce7b47a6b7","modified":1586605840451},{"_id":"source/_posts/ant-design-Form-ç»„ä»¶æ€»ç»“-ç»“åˆModal-è‡ªå®šä¹‰Modalçš„å®ç°-ï¼ˆUpload-Input-Select-DatePicker-Cascaderï¼‰.md","hash":"0a330b026f8cf3cd2d605ff3996ca474dbbc941c","modified":1586613374464},{"_id":"source/_posts/ant-design-pro-2-0-æ–°é¡µé¢æ¢ç´¢-umi-é¡µé¢404-react.md","hash":"c5596a7160c99e1537258fb3bc65aa2b2259bc98","modified":1586613960830},{"_id":"source/_posts/chunk-0-mini-css-extract-plugin-è§£å†³-CSS-Modules-è­¦å‘Š.md","hash":"2b000edfc9766e13edb39e18d434cea0711ad848","modified":1586614076487},{"_id":"source/_posts/sessionå’Œcookieçš„ç†è§£.md","hash":"8d6bf4b051793ca91aaf3dcd5e9b997734c756dc","modified":1586605840294},{"_id":"source/_posts/sprng-boot-è·¨åŸŸ-è¿‡æ»¤å™¨-fetch-react-Response-to-preflight-request-doesn-t-pass-access-control-check.md","hash":"2dbf97c0609ef76d1de54b25bc5e1babc726c19b","modified":1586605840362},{"_id":"source/_posts/window-history-back-ç¼“å­˜-è¿”å›ä¸Šçº§é¡µé¢ä¸åˆ·æ–°æ•°æ®.md","hash":"556e3b4cb83ef1cc1db32304fbd4a0a736fa6799","modified":1586605840675},{"_id":"source/_posts/è£…é¥°å™¨(Decorator)å’ŒReacté«˜é˜¶ç»„ä»¶(HOC).md","hash":"80ed7d5a3f22629531d42f44d3efe3a4960a9fdb","modified":1586613291816},{"_id":"source/_posts/cover/ANTD.png","hash":"898d9e3bc115706f2df19d89d34c786b20bea4e8","modified":1586609653338},{"_id":"source/_posts/cover/HEXO.png","hash":"c2c59b2d8b9c2f91be92d0b01bce3acd68921065","modified":1586609653520},{"_id":"source/_posts/cover/JWT.png","hash":"54e734ffae7e5a15498be8006003dac36d104c5b","modified":1586609653800},{"_id":"source/_posts/cover/JavaScript.png","hash":"d051bd5987e275b1ebb32ddc841322d87f5f146a","modified":1586609653745},{"_id":"source/_posts/cover/KDpgvguMpGfqaHPjicRK.svg","hash":"5ae45f469ce3a423dad1794be649751d91f7f299","modified":1586609653846},{"_id":"source/_posts/cover/React.jpeg","hash":"dc18c45077ecfaffaffd735900e9bb58d6cfd03f","modified":1586609653904},{"_id":"source/_posts/cover/antdP.png","hash":"e51856b14c5ba11da682c462541a1ae9f179f1fb","modified":1586609653387},{"_id":"source/_posts/cover/css.png","hash":"052b66320dfb67fe6758555be7bfba9d96ab01fc","modified":1586609653454},{"_id":"source/_posts/cover/history.jpeg","hash":"9d3cbcea80f59224e85021ecd695d355dfddb525","modified":1586609653636},{"_id":"source/_posts/cover/http.png","hash":"c42bfcc7b07d40e89cafd721baed7c4b275fa551","modified":1586609653681},{"_id":"source/_posts/cover/springboot.png","hash":"dc2c4b7dc46f2dfaec66c6d6c596caebbf86c83f","modified":1586609653954},{"_id":"source/_posts/cover/web.jpeg","hash":"d2bcd938948a48679ddb81531b38bec32c3c0f1c","modified":1586609654011},{"_id":"source/_posts/cover/webpack.png","hash":"7886cc0dfb91faf4b35652b67919d59ade7b74ae","modified":1586609654073},{"_id":"source/cover/ANTD.png","hash":"898d9e3bc115706f2df19d89d34c786b20bea4e8","modified":1586609653338},{"_id":"source/cover/HEXO.png","hash":"c2c59b2d8b9c2f91be92d0b01bce3acd68921065","modified":1586609653520},{"_id":"source/cover/JavaScript.png","hash":"d051bd5987e275b1ebb32ddc841322d87f5f146a","modified":1586609653745},{"_id":"source/cover/JWT.png","hash":"54e734ffae7e5a15498be8006003dac36d104c5b","modified":1586609653800},{"_id":"source/cover/KDpgvguMpGfqaHPjicRK.svg","hash":"5ae45f469ce3a423dad1794be649751d91f7f299","modified":1586609653846},{"_id":"source/cover/antdP.png","hash":"e51856b14c5ba11da682c462541a1ae9f179f1fb","modified":1586609653387},{"_id":"source/cover/css.png","hash":"052b66320dfb67fe6758555be7bfba9d96ab01fc","modified":1586609653454},{"_id":"source/cover/React.jpeg","hash":"dc18c45077ecfaffaffd735900e9bb58d6cfd03f","modified":1586609653904},{"_id":"source/cover/history.jpeg","hash":"9d3cbcea80f59224e85021ecd695d355dfddb525","modified":1586609653636},{"_id":"source/cover/http.png","hash":"c42bfcc7b07d40e89cafd721baed7c4b275fa551","modified":1586609653681},{"_id":"source/cover/springboot.png","hash":"dc2c4b7dc46f2dfaec66c6d6c596caebbf86c83f","modified":1586609653954},{"_id":"source/cover/web.jpeg","hash":"d2bcd938948a48679ddb81531b38bec32c3c0f1c","modified":1586609654011},{"_id":"source/cover/webpack.png","hash":"7886cc0dfb91faf4b35652b67919d59ade7b74ae","modified":1586609654073},{"_id":"source/image/cover/ANTD.png","hash":"898d9e3bc115706f2df19d89d34c786b20bea4e8","modified":1586609653338},{"_id":"source/image/cover/HEXO.png","hash":"c2c59b2d8b9c2f91be92d0b01bce3acd68921065","modified":1586609653520},{"_id":"source/image/cover/KDpgvguMpGfqaHPjicRK.svg","hash":"5ae45f469ce3a423dad1794be649751d91f7f299","modified":1586609653846},{"_id":"source/image/cover/JavaScript.png","hash":"d051bd5987e275b1ebb32ddc841322d87f5f146a","modified":1586609653745},{"_id":"source/image/cover/antdP.png","hash":"e51856b14c5ba11da682c462541a1ae9f179f1fb","modified":1586609653387},{"_id":"source/image/cover/React.jpeg","hash":"dc18c45077ecfaffaffd735900e9bb58d6cfd03f","modified":1586609653904},{"_id":"source/image/cover/css.png","hash":"052b66320dfb67fe6758555be7bfba9d96ab01fc","modified":1586609653454},{"_id":"source/image/cover/history.jpeg","hash":"9d3cbcea80f59224e85021ecd695d355dfddb525","modified":1586609653636},{"_id":"source/image/cover/http.png","hash":"c42bfcc7b07d40e89cafd721baed7c4b275fa551","modified":1586609653681},{"_id":"source/image/cover/springboot.png","hash":"dc2c4b7dc46f2dfaec66c6d6c596caebbf86c83f","modified":1586609653954},{"_id":"source/image/cover/web.jpeg","hash":"d2bcd938948a48679ddb81531b38bec32c3c0f1c","modified":1586609654011},{"_id":"source/image/cover/webpack.png","hash":"7886cc0dfb91faf4b35652b67919d59ade7b74ae","modified":1586609654073},{"_id":"source/image/cover/JWT.png","hash":"54e734ffae7e5a15498be8006003dac36d104c5b","modified":1586609653800},{"_id":"source/image/AntDesignFormæ€»ç»“/20190428165405459.png","hash":"e2e06c1d4221e0d58ddf05bf54d3baf18770b7a8","modified":1586610608746},{"_id":"source/image/AntDesignFormæ€»ç»“/modal.png","hash":"e2e06c1d4221e0d58ddf05bf54d3baf18770b7a8","modified":1586610622973},{"_id":"themes/Butterfly/source/img/DerrickWechat.png","hash":"a3d80cbd61d52c93fe2dbdfd4240d96648e5c114","modified":1586610862302},{"_id":"themes/Butterfly/source/img/DerrickAlipay.jpg","hash":"97d102cc0d00683d45b78ba3cb141d75d77b3613","modified":1586610862169},{"_id":"themes/Butterfly/source/img/WechatIMG60.jpeg","hash":"92434097d199cec038f7aa9a25e32054b0d49f21","modified":1586611575275},{"_id":"themes/Butterfly/source/img/1avatar.png","hash":"77f00530b5f24207d00f3e92f9821cc1d4eb3d40","modified":1586611595518},{"_id":"source/about.md","hash":"441c888dd65908042e56f2032d9041e86ef16460","modified":1586612280716},{"_id":"source/about/index.md","hash":"11cc73f3bf986fc286e509d9563a6a2b0e0c612a","modified":1586612946142},{"_id":"source/image/cover/decorator.png","hash":"8a8cf27d287b3b02adc4a95db40430a1a6269613","modified":1586613274579},{"_id":"source/image/AntDesignProæ¢ç´¢/2019031215140926.png","hash":"aea2d3b14caffc9a8705c54fb054970b2ab76cee","modified":1586613495334},{"_id":"source/image/AntDesignProæ¢ç´¢/20190312151839845.png","hash":"2fdadb1ef8077f5479c3b7f54e7fde29e7115686","modified":1586613495720},{"_id":"source/image/AntDesignProæ¢ç´¢/20190312152011733.png","hash":"5ebfaa1f282713b2fad33b230bbcd661cac4059f","modified":1586613495770},{"_id":"source/image/AntDesignProæ¢ç´¢/20190312150742764.png","hash":"7195c4a5006d0eae1be5a292557b450f65c6c911","modified":1586613495556},{"_id":"source/image/AntDesignProæ¢ç´¢/20190312150929439.png","hash":"95ea643ebfccad9d3dd13d32f2b3125d1dfc083d","modified":1586613495608},{"_id":"source/image/AntDesignProæ¢ç´¢/20190312151053807.png","hash":"71de09ee4a2571fe6f15bfb0ab72f57fecdff0ed","modified":1586613495683},{"_id":"source/image/AntDesignProæ¢ç´¢/2019031215120430.png","hash":"88420cbdf879904742f5a838e0693f8ae19d566c","modified":1586613495291},{"_id":"source/image/AntDesignProæ¢ç´¢/2019031215175956.png","hash":"342395e4f6eda6e2288a8554341f7df2ba3d3427","modified":1586613495515},{"_id":"source/image/CSSModulesè­¦å‘Š/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvODU2M2ZjOGJhZTU1ODI3Yy5wbmc.jpeg","hash":"5adc2f974658dcdcb1d2c5cf4d4946e551c5021e","modified":1586614008271},{"_id":"source/image/CSSModulesè­¦å‘Š/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvYTkxMmI1YzhlNTk3YTYzYy5wbmc.jpeg","hash":"124651411d1258ae1ca253eea3eecad3a47a3997","modified":1586614008398},{"_id":"source/image/CSSModulesè­¦å‘Š/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvZWIwYzBmODU2NDE0OGZjMC5wbmc.jpeg","hash":"6b84d92b26daaa7d70b6f275456a65495819e23b","modified":1586614008656},{"_id":"source/image/CSSModulesè­¦å‘Š/aHR0cDovL2kyLnRpaW1nLmNvbS82OTE2NDMvMmVmODNhMzcxNjA4OWEwZS5wbmc.jpeg","hash":"89a001fc84f439c824224e0ae3696bd587d2186b","modified":1586614008751},{"_id":"source/image/CSSModulesè­¦å‘Š/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvMGM4ZDhiNjZlMGNmZTY0Ny5wbmc.jpeg","hash":"42a16835031c841f79dd4bcac8101cc079c06310","modified":1586614008190}],"Category":[{"name":"Ant-Design","_id":"ck8vk5ix50002o5vmgqmy75t6"},{"name":"ES6","_id":"ck8vk5ixo0004o5vmherj62hy"},{"name":"Ant-Design-Pro","_id":"ck8vk5izm000fo5vmhlrpbbsh"},{"name":"JavaScript","parent":"ck8vk5ix50002o5vmgqmy75t6","_id":"ck8vk5j0k000qo5vm6fu15ayz"},{"name":"CSS","_id":"ck8vk5j0s000so5vm9hhb1bwy"},{"name":"åšå®¢","_id":"ck8vk5ni00010o5vm822ifvox"},{"name":"HTTP","_id":"ck8vk5o190018o5vmfmse75i5"},{"name":"JavaScript","_id":"ck8vk5o1g001ao5vmef4nbk1r"},{"name":"Java","_id":"ck8vk5o1w001jo5vmeysr8g0k"},{"name":"Spring-Boot","parent":"ck8vk5o1w001jo5vmeysr8g0k","_id":"ck8vk5o1z001mo5vm2x7j3k6e"},{"name":"React","_id":"ck8vk5p7x001uo5vm7uxfaj2h"},{"name":"Webå‰ç«¯","_id":"ck8vk5pag002mo5vmgm6413iq"},{"name":"WebPack","_id":"ck8vk5pas002xo5vmceo20ucc"}],"Data":[],"Page":[{"title":"å…³äºæˆ‘","date":"2020-04-11T13:41:09.000Z","_content":"\n> Never put off till tomorrow what you can do today.\n> â€”â€” Thomas Jefferson\n\n- å§“å: Derrick\n- åœ°ç‚¹: æ­å·\n- å¹´é¾„: 1995\n- æ€§åˆ«: ç”·\n- çˆ±å¥½: å¥èº«, ğŸ“–\n\n","source":"about/index.md","raw":"---\ntitle: å…³äºæˆ‘\ndate: 2020-04-11 21:41:09\n---\n\n> Never put off till tomorrow what you can do today.\n> â€”â€” Thomas Jefferson\n\n- å§“å: Derrick\n- åœ°ç‚¹: æ­å·\n- å¹´é¾„: 1995\n- æ€§åˆ«: ç”·\n- çˆ±å¥½: å¥èº«, ğŸ“–\n\n","updated":"2020-04-11T13:49:06.142Z","path":"about/index.html","_id":"ck8vo3kjp0000vovmd0134ovr","comments":1,"layout":"page","content":"<blockquote>\n<p>Never put off till tomorrow what you can do today.<br>â€”â€” Thomas Jefferson</p>\n</blockquote>\n<ul>\n<li>å§“å: Derrick</li>\n<li>åœ°ç‚¹: æ­å·</li>\n<li>å¹´é¾„: 1995</li>\n<li>æ€§åˆ«: ç”·</li>\n<li>çˆ±å¥½: å¥èº«, ğŸ“–</li>\n</ul>\n","site":{"data":{}},"cover":"/img/post.jpg","excerpt":"","more":"<blockquote>\n<p>Never put off till tomorrow what you can do today.<br>â€”â€” Thomas Jefferson</p>\n</blockquote>\n<ul>\n<li>å§“å: Derrick</li>\n<li>åœ°ç‚¹: æ­å·</li>\n<li>å¹´é¾„: 1995</li>\n<li>æ€§åˆ«: ç”·</li>\n<li>çˆ±å¥½: å¥èº«, ğŸ“–</li>\n</ul>\n"}],"Post":[{"title":"5åˆ†é’Ÿå¿«é€Ÿç²¾é€šAnt Design Form 1åˆ†é’Ÿå¿«é€Ÿæ„å»ºå¤æ‚Ant Design Formè¡¨å•","date":"2019-07-28T12:05:56.000Z","cover":"/image/cover/ANTD.png","_content":"## Ant Design Form\nAntd è¡¨å•çš„æ ¸å¿ƒæ— éæ˜¯ä»¥ä¸‹ä¸¤ç‚¹\n\n 1. è¡¨å•åˆ›å»ºï¼ˆ`Form.create`ï¼‰åœ¨`this.props`å†™å…¥`form`å±æ€§\n 2. è¡¨å•ä¸ç»„ä»¶çš„åŒå‘ç»‘å®šï¼ˆ`this.props.form.getFieldDecorator`ï¼‰\n 3. è¡¨å•çš„å–å€¼ï¼ˆ`this.props.form.validateFields / this.props.form.validateFieldsAndScroll`ï¼‰\n\n#### è¡¨å•åˆ›å»º\n`Form.create`è¿™æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œä¼ å…¥çš„æ˜¯reactç»„ä»¶ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„reactç»„ä»¶ï¼Œåœ¨å‡½æ•°å†…éƒ¨ä¼šå¯¹ä¼ å…¥ç»„ä»¶è¿›è¡Œæ”¹é€ ï¼Œæ·»åŠ ä¸Šä¸€å®šçš„æ–¹æ³•ç”¨äºè¿›è¡Œä¸€äº›ç§˜å¯†æ“ä½œ ï¼Œè¿™é‡Œä¸å¤šåšè§£é‡Šï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥ä¸Šå®˜ç½‘æŸ¥çœ‹ã€‚\n\n[æˆ‘æ˜¯é£æœºç¥¨ï¼ˆReact-é«˜é˜¶ç»„ä»¶ï¼‰ï¼Œç‚¹æˆ‘](https://react.docschina.org/docs/higher-order-components.html)\nä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š\n\n```\nclass CustomizedForm extends React.Component { ... }\n\n// use wrappedComponentRef\nconst EnhancedForm =  Form.create()(CustomizedForm);\n```\næˆ–è€…\n```\n@Form.create()\nclass CustomizedForm extends React.Component { ... }\n```\n#### è¡¨å•ä¸ç»„ä»¶çš„åŒå‘ç»‘å®š\nä»–çš„ç›®çš„æ˜¯å°†è¡¨å•çš„ç»„ä»¶çš„å€¼ä¸è¡¨å•ç»‘å®šã€‚æœ€åè¡¨å•å¯ä»¥ç›´æ¥å–åˆ°æŸæŸç»„ä»¶çš„å€¼ã€‚\n\n```\n<!-- è¡¨å•æ•°æ®ç»‘å®š -->\n<Form.Item {...formItemLayout} label={'åç§°'}>\n\t{getFieldDecorator('searchName')(\n\t\t<Input placeholder={'è¯·è¾“å…¥åç§°'} />\n\t)}\n</Form.Item>\n```\nè¿™ä¸ªæ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ç»‘å®šï¼Œç»„ä»¶inputçš„å€¼éƒ½ä¼šç”±'searchName'è¿™ä¸ªå±æ€§æ”¶çº³ã€‚\nå¯ä»¥ç›´æ¥å–å€¼ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åŠ å…¥è‡ªå·±çš„æ ¡éªŒè§„åˆ™ï¼Œç­‰ç­‰ã€‚è¿™é‡Œä¸å¤šåšè§£é‡Šï¼Œè¿™äº›éƒ½æ˜¯é™„åŠ çš„è¿›é˜¶åŠŸèƒ½ï¼Œè¿™é‡Œä¸å¤šåšæè¿°ã€‚\n\n[æˆ‘æ˜¯é£æœºç¥¨ï¼ˆè¡¨å•è¿›é˜¶ï¼‰ï¼Œç‚¹æˆ‘ï¼](https://ant.design/components/form-cn/)\n\n#### è¡¨å•çš„å–å€¼\n\n```\nthis.props.form.validateFields((err, values) => {\n      if (!err) { // è¿™é‡Œä¹Ÿå¯ä»¥ä¸è¦ï¼Œæ˜¯ç”¨äºæ ¡éªŒçš„ã€‚\n        console.log('Received values of form: ', values);\n      }\n    });\n```\nè¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„å–å€¼ï¼Œå½“ç„¶å¯ä»¥å®šåˆ¶çš„å–å€¼ï¼Œæˆ–è€…å®šåˆ¶çš„æ ¡éªŒï¼Œæ¯”å¦‚ï¼Œåœ¨è·å–éªŒè¯ç çš„æ—¶å€™ï¼Œä¸éœ€è¦æ ¡éªŒå¯†ç æ˜¯å¦è¾“å…¥æˆ–è€…ç¬¦åˆä½ çš„è§„åˆ™ï¼Œå°±å¯ä»¥åªæ ¡éªŒæ‰‹æœºå·ï¼Œç­‰ç­‰ã€‚è¿™é‡Œä¸å¤šåšè§£é‡Šï¼Œè¿™äº›éƒ½æ˜¯é™„åŠ çš„è¿›é˜¶åŠŸèƒ½ï¼Œè¿™é‡Œä¸å¤šåšæè¿°ã€‚\n\n[æˆ‘æ˜¯é£æœºç¥¨ï¼ˆè¡¨å•è¿›é˜¶ï¼‰ï¼Œç‚¹æˆ‘ï¼](https://ant.design/components/form-cn/)\n\nåŸºæœ¬ä¸Šä½ æŒæ¡äº†è¿™äº›å°±å¯ä»¥è¾ƒä¸ºçµæ´»çš„ä½¿ç”¨Ant Design Formäº†ã€‚\n\n## ä½†æ˜¯ï¼åˆ’é‡ç‚¹äº†ï¼\nå¦‚æœæœ‰ä¸€äº›æ›´åŠ è¿›é˜¶çš„æƒ³æ³•ã€‚è¯·çœ‹ï¼\n\n[è¡¨å•çš„è¿›é˜¶ä½¿ç”¨](https://blog.csdn.net/cuandeqin2083/article/details/89643390)\n\n# é‡ä¸­ä¹‹é‡\nå¦‚æœä½ è§‰å¾—è‡ªå·±æ„å»ºè¡¨å•éå¸¸éº»çƒ¦ï¼Œæˆ–è€…å¯¹è¡¨å•çš„ç†è§£è¿˜æ˜¯å¤Ÿé€å½»ï¼Œæƒ³ä¸€æ­¥åˆ°ä½æ„ä»¶è¡¨å•ï¼Œæ¨èæœ¬äººè‡ªç”¨è‡ªåˆ›ç»„ä»¶\nant-design-form\n\nä¸Šé¢çš„æ–‡æ¡£éå¸¸è¯¦ç»†ï¼Œå¦‚æœæœ‰é—®é¢˜éšæ—¶å¯ä»¥ç»™æˆ‘æissuesã€‚å¦‚æœå–œæ¬¢çš„è¯éº»çƒ¦ç‚¹ä¸ªstart~\n\n[æˆ‘æ˜¯ant-design-fromçš„é£æœºç¥¨ï¼Œç‚¹æˆ‘ç‚¹æˆ‘ï¼ï¼](https://github.com/DerrickTel/ant-design-form)","source":"_posts/5åˆ†é’Ÿå¿«é€Ÿç²¾é€šAnt-Design-Form-1åˆ†é’Ÿå¿«é€Ÿæ„å»ºå¤æ‚Ant-Design-Formè¡¨å•.md","raw":"---\ntitle: 5åˆ†é’Ÿå¿«é€Ÿç²¾é€šAnt Design Form 1åˆ†é’Ÿå¿«é€Ÿæ„å»ºå¤æ‚Ant Design Formè¡¨å•\ndate: 2019-07-28 20:05:56\ntags: [Ant-Design-Form, Ant-Design]\ncategory: [Ant-Design]\ncover: /image/cover/ANTD.png\n---\n## Ant Design Form\nAntd è¡¨å•çš„æ ¸å¿ƒæ— éæ˜¯ä»¥ä¸‹ä¸¤ç‚¹\n\n 1. è¡¨å•åˆ›å»ºï¼ˆ`Form.create`ï¼‰åœ¨`this.props`å†™å…¥`form`å±æ€§\n 2. è¡¨å•ä¸ç»„ä»¶çš„åŒå‘ç»‘å®šï¼ˆ`this.props.form.getFieldDecorator`ï¼‰\n 3. è¡¨å•çš„å–å€¼ï¼ˆ`this.props.form.validateFields / this.props.form.validateFieldsAndScroll`ï¼‰\n\n#### è¡¨å•åˆ›å»º\n`Form.create`è¿™æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œä¼ å…¥çš„æ˜¯reactç»„ä»¶ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„reactç»„ä»¶ï¼Œåœ¨å‡½æ•°å†…éƒ¨ä¼šå¯¹ä¼ å…¥ç»„ä»¶è¿›è¡Œæ”¹é€ ï¼Œæ·»åŠ ä¸Šä¸€å®šçš„æ–¹æ³•ç”¨äºè¿›è¡Œä¸€äº›ç§˜å¯†æ“ä½œ ï¼Œè¿™é‡Œä¸å¤šåšè§£é‡Šï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥ä¸Šå®˜ç½‘æŸ¥çœ‹ã€‚\n\n[æˆ‘æ˜¯é£æœºç¥¨ï¼ˆReact-é«˜é˜¶ç»„ä»¶ï¼‰ï¼Œç‚¹æˆ‘](https://react.docschina.org/docs/higher-order-components.html)\nä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š\n\n```\nclass CustomizedForm extends React.Component { ... }\n\n// use wrappedComponentRef\nconst EnhancedForm =  Form.create()(CustomizedForm);\n```\næˆ–è€…\n```\n@Form.create()\nclass CustomizedForm extends React.Component { ... }\n```\n#### è¡¨å•ä¸ç»„ä»¶çš„åŒå‘ç»‘å®š\nä»–çš„ç›®çš„æ˜¯å°†è¡¨å•çš„ç»„ä»¶çš„å€¼ä¸è¡¨å•ç»‘å®šã€‚æœ€åè¡¨å•å¯ä»¥ç›´æ¥å–åˆ°æŸæŸç»„ä»¶çš„å€¼ã€‚\n\n```\n<!-- è¡¨å•æ•°æ®ç»‘å®š -->\n<Form.Item {...formItemLayout} label={'åç§°'}>\n\t{getFieldDecorator('searchName')(\n\t\t<Input placeholder={'è¯·è¾“å…¥åç§°'} />\n\t)}\n</Form.Item>\n```\nè¿™ä¸ªæ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ç»‘å®šï¼Œç»„ä»¶inputçš„å€¼éƒ½ä¼šç”±'searchName'è¿™ä¸ªå±æ€§æ”¶çº³ã€‚\nå¯ä»¥ç›´æ¥å–å€¼ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åŠ å…¥è‡ªå·±çš„æ ¡éªŒè§„åˆ™ï¼Œç­‰ç­‰ã€‚è¿™é‡Œä¸å¤šåšè§£é‡Šï¼Œè¿™äº›éƒ½æ˜¯é™„åŠ çš„è¿›é˜¶åŠŸèƒ½ï¼Œè¿™é‡Œä¸å¤šåšæè¿°ã€‚\n\n[æˆ‘æ˜¯é£æœºç¥¨ï¼ˆè¡¨å•è¿›é˜¶ï¼‰ï¼Œç‚¹æˆ‘ï¼](https://ant.design/components/form-cn/)\n\n#### è¡¨å•çš„å–å€¼\n\n```\nthis.props.form.validateFields((err, values) => {\n      if (!err) { // è¿™é‡Œä¹Ÿå¯ä»¥ä¸è¦ï¼Œæ˜¯ç”¨äºæ ¡éªŒçš„ã€‚\n        console.log('Received values of form: ', values);\n      }\n    });\n```\nè¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„å–å€¼ï¼Œå½“ç„¶å¯ä»¥å®šåˆ¶çš„å–å€¼ï¼Œæˆ–è€…å®šåˆ¶çš„æ ¡éªŒï¼Œæ¯”å¦‚ï¼Œåœ¨è·å–éªŒè¯ç çš„æ—¶å€™ï¼Œä¸éœ€è¦æ ¡éªŒå¯†ç æ˜¯å¦è¾“å…¥æˆ–è€…ç¬¦åˆä½ çš„è§„åˆ™ï¼Œå°±å¯ä»¥åªæ ¡éªŒæ‰‹æœºå·ï¼Œç­‰ç­‰ã€‚è¿™é‡Œä¸å¤šåšè§£é‡Šï¼Œè¿™äº›éƒ½æ˜¯é™„åŠ çš„è¿›é˜¶åŠŸèƒ½ï¼Œè¿™é‡Œä¸å¤šåšæè¿°ã€‚\n\n[æˆ‘æ˜¯é£æœºç¥¨ï¼ˆè¡¨å•è¿›é˜¶ï¼‰ï¼Œç‚¹æˆ‘ï¼](https://ant.design/components/form-cn/)\n\nåŸºæœ¬ä¸Šä½ æŒæ¡äº†è¿™äº›å°±å¯ä»¥è¾ƒä¸ºçµæ´»çš„ä½¿ç”¨Ant Design Formäº†ã€‚\n\n## ä½†æ˜¯ï¼åˆ’é‡ç‚¹äº†ï¼\nå¦‚æœæœ‰ä¸€äº›æ›´åŠ è¿›é˜¶çš„æƒ³æ³•ã€‚è¯·çœ‹ï¼\n\n[è¡¨å•çš„è¿›é˜¶ä½¿ç”¨](https://blog.csdn.net/cuandeqin2083/article/details/89643390)\n\n# é‡ä¸­ä¹‹é‡\nå¦‚æœä½ è§‰å¾—è‡ªå·±æ„å»ºè¡¨å•éå¸¸éº»çƒ¦ï¼Œæˆ–è€…å¯¹è¡¨å•çš„ç†è§£è¿˜æ˜¯å¤Ÿé€å½»ï¼Œæƒ³ä¸€æ­¥åˆ°ä½æ„ä»¶è¡¨å•ï¼Œæ¨èæœ¬äººè‡ªç”¨è‡ªåˆ›ç»„ä»¶\nant-design-form\n\nä¸Šé¢çš„æ–‡æ¡£éå¸¸è¯¦ç»†ï¼Œå¦‚æœæœ‰é—®é¢˜éšæ—¶å¯ä»¥ç»™æˆ‘æissuesã€‚å¦‚æœå–œæ¬¢çš„è¯éº»çƒ¦ç‚¹ä¸ªstart~\n\n[æˆ‘æ˜¯ant-design-fromçš„é£æœºç¥¨ï¼Œç‚¹æˆ‘ç‚¹æˆ‘ï¼ï¼](https://github.com/DerrickTel/ant-design-form)","slug":"5åˆ†é’Ÿå¿«é€Ÿç²¾é€šAnt-Design-Form-1åˆ†é’Ÿå¿«é€Ÿæ„å»ºå¤æ‚Ant-Design-Formè¡¨å•","published":1,"updated":"2020-04-11T13:55:59.783Z","_id":"ck8vk5ivx0000o5vmf8mff04n","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"Ant-Design-Form\"><a href=\"#Ant-Design-Form\" class=\"headerlink\" title=\"Ant Design Form\"></a>Ant Design Form</h2><p>Antd è¡¨å•çš„æ ¸å¿ƒæ— éæ˜¯ä»¥ä¸‹ä¸¤ç‚¹</p>\n<ol>\n<li>è¡¨å•åˆ›å»ºï¼ˆ<code>Form.create</code>ï¼‰åœ¨<code>this.props</code>å†™å…¥<code>form</code>å±æ€§</li>\n<li>è¡¨å•ä¸ç»„ä»¶çš„åŒå‘ç»‘å®šï¼ˆ<code>this.props.form.getFieldDecorator</code>ï¼‰</li>\n<li>è¡¨å•çš„å–å€¼ï¼ˆ<code>this.props.form.validateFields / this.props.form.validateFieldsAndScroll</code>ï¼‰</li>\n</ol>\n<h4 id=\"è¡¨å•åˆ›å»º\"><a href=\"#è¡¨å•åˆ›å»º\" class=\"headerlink\" title=\"è¡¨å•åˆ›å»º\"></a>è¡¨å•åˆ›å»º</h4><p><code>Form.create</code>è¿™æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œä¼ å…¥çš„æ˜¯reactç»„ä»¶ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„reactç»„ä»¶ï¼Œåœ¨å‡½æ•°å†…éƒ¨ä¼šå¯¹ä¼ å…¥ç»„ä»¶è¿›è¡Œæ”¹é€ ï¼Œæ·»åŠ ä¸Šä¸€å®šçš„æ–¹æ³•ç”¨äºè¿›è¡Œä¸€äº›ç§˜å¯†æ“ä½œ ï¼Œè¿™é‡Œä¸å¤šåšè§£é‡Šï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥ä¸Šå®˜ç½‘æŸ¥çœ‹ã€‚</p>\n<p><a href=\"https://react.docschina.org/docs/higher-order-components.html\" target=\"_blank\" rel=\"noopener\">æˆ‘æ˜¯é£æœºç¥¨ï¼ˆReact-é«˜é˜¶ç»„ä»¶ï¼‰ï¼Œç‚¹æˆ‘</a><br>ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class CustomizedForm extends React.Component &#123; ... &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; use wrappedComponentRef</span><br><span class=\"line\">const EnhancedForm &#x3D;  Form.create()(CustomizedForm);</span><br></pre></td></tr></table></figure>\n<p>æˆ–è€…</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Form.create()</span><br><span class=\"line\">class CustomizedForm extends React.Component &#123; ... &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"è¡¨å•ä¸ç»„ä»¶çš„åŒå‘ç»‘å®š\"><a href=\"#è¡¨å•ä¸ç»„ä»¶çš„åŒå‘ç»‘å®š\" class=\"headerlink\" title=\"è¡¨å•ä¸ç»„ä»¶çš„åŒå‘ç»‘å®š\"></a>è¡¨å•ä¸ç»„ä»¶çš„åŒå‘ç»‘å®š</h4><p>ä»–çš„ç›®çš„æ˜¯å°†è¡¨å•çš„ç»„ä»¶çš„å€¼ä¸è¡¨å•ç»‘å®šã€‚æœ€åè¡¨å•å¯ä»¥ç›´æ¥å–åˆ°æŸæŸç»„ä»¶çš„å€¼ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- è¡¨å•æ•°æ®ç»‘å®š --&gt;</span><br><span class=\"line\">&lt;Form.Item &#123;...formItemLayout&#125; label&#x3D;&#123;&#39;åç§°&#39;&#125;&gt;</span><br><span class=\"line\">\t&#123;getFieldDecorator(&#39;searchName&#39;)(</span><br><span class=\"line\">\t\t&lt;Input placeholder&#x3D;&#123;&#39;è¯·è¾“å…¥åç§°&#39;&#125; &#x2F;&gt;</span><br><span class=\"line\">\t)&#125;</span><br><span class=\"line\">&lt;&#x2F;Form.Item&gt;</span><br></pre></td></tr></table></figure>\n<p>è¿™ä¸ªæ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ç»‘å®šï¼Œç»„ä»¶inputçš„å€¼éƒ½ä¼šç”±â€™searchNameâ€™è¿™ä¸ªå±æ€§æ”¶çº³ã€‚<br>å¯ä»¥ç›´æ¥å–å€¼ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åŠ å…¥è‡ªå·±çš„æ ¡éªŒè§„åˆ™ï¼Œç­‰ç­‰ã€‚è¿™é‡Œä¸å¤šåšè§£é‡Šï¼Œè¿™äº›éƒ½æ˜¯é™„åŠ çš„è¿›é˜¶åŠŸèƒ½ï¼Œè¿™é‡Œä¸å¤šåšæè¿°ã€‚</p>\n<p><a href=\"https://ant.design/components/form-cn/\" target=\"_blank\" rel=\"noopener\">æˆ‘æ˜¯é£æœºç¥¨ï¼ˆè¡¨å•è¿›é˜¶ï¼‰ï¼Œç‚¹æˆ‘ï¼</a></p>\n<h4 id=\"è¡¨å•çš„å–å€¼\"><a href=\"#è¡¨å•çš„å–å€¼\" class=\"headerlink\" title=\"è¡¨å•çš„å–å€¼\"></a>è¡¨å•çš„å–å€¼</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">this.props.form.validateFields((err, values) &#x3D;&gt; &#123;</span><br><span class=\"line\">      if (!err) &#123; &#x2F;&#x2F; è¿™é‡Œä¹Ÿå¯ä»¥ä¸è¦ï¼Œæ˜¯ç”¨äºæ ¡éªŒçš„ã€‚</span><br><span class=\"line\">        console.log(&#39;Received values of form: &#39;, values);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br></pre></td></tr></table></figure>\n<p>è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„å–å€¼ï¼Œå½“ç„¶å¯ä»¥å®šåˆ¶çš„å–å€¼ï¼Œæˆ–è€…å®šåˆ¶çš„æ ¡éªŒï¼Œæ¯”å¦‚ï¼Œåœ¨è·å–éªŒè¯ç çš„æ—¶å€™ï¼Œä¸éœ€è¦æ ¡éªŒå¯†ç æ˜¯å¦è¾“å…¥æˆ–è€…ç¬¦åˆä½ çš„è§„åˆ™ï¼Œå°±å¯ä»¥åªæ ¡éªŒæ‰‹æœºå·ï¼Œç­‰ç­‰ã€‚è¿™é‡Œä¸å¤šåšè§£é‡Šï¼Œè¿™äº›éƒ½æ˜¯é™„åŠ çš„è¿›é˜¶åŠŸèƒ½ï¼Œè¿™é‡Œä¸å¤šåšæè¿°ã€‚</p>\n<p><a href=\"https://ant.design/components/form-cn/\" target=\"_blank\" rel=\"noopener\">æˆ‘æ˜¯é£æœºç¥¨ï¼ˆè¡¨å•è¿›é˜¶ï¼‰ï¼Œç‚¹æˆ‘ï¼</a></p>\n<p>åŸºæœ¬ä¸Šä½ æŒæ¡äº†è¿™äº›å°±å¯ä»¥è¾ƒä¸ºçµæ´»çš„ä½¿ç”¨Ant Design Formäº†ã€‚</p>\n<h2 id=\"ä½†æ˜¯ï¼åˆ’é‡ç‚¹äº†ï¼\"><a href=\"#ä½†æ˜¯ï¼åˆ’é‡ç‚¹äº†ï¼\" class=\"headerlink\" title=\"ä½†æ˜¯ï¼åˆ’é‡ç‚¹äº†ï¼\"></a>ä½†æ˜¯ï¼åˆ’é‡ç‚¹äº†ï¼</h2><p>å¦‚æœæœ‰ä¸€äº›æ›´åŠ è¿›é˜¶çš„æƒ³æ³•ã€‚è¯·çœ‹ï¼</p>\n<p><a href=\"https://blog.csdn.net/cuandeqin2083/article/details/89643390\" target=\"_blank\" rel=\"noopener\">è¡¨å•çš„è¿›é˜¶ä½¿ç”¨</a></p>\n<h1 id=\"é‡ä¸­ä¹‹é‡\"><a href=\"#é‡ä¸­ä¹‹é‡\" class=\"headerlink\" title=\"é‡ä¸­ä¹‹é‡\"></a>é‡ä¸­ä¹‹é‡</h1><p>å¦‚æœä½ è§‰å¾—è‡ªå·±æ„å»ºè¡¨å•éå¸¸éº»çƒ¦ï¼Œæˆ–è€…å¯¹è¡¨å•çš„ç†è§£è¿˜æ˜¯å¤Ÿé€å½»ï¼Œæƒ³ä¸€æ­¥åˆ°ä½æ„ä»¶è¡¨å•ï¼Œæ¨èæœ¬äººè‡ªç”¨è‡ªåˆ›ç»„ä»¶<br>ant-design-form</p>\n<p>ä¸Šé¢çš„æ–‡æ¡£éå¸¸è¯¦ç»†ï¼Œå¦‚æœæœ‰é—®é¢˜éšæ—¶å¯ä»¥ç»™æˆ‘æissuesã€‚å¦‚æœå–œæ¬¢çš„è¯éº»çƒ¦ç‚¹ä¸ªstart~</p>\n<p><a href=\"https://github.com/DerrickTel/ant-design-form\" target=\"_blank\" rel=\"noopener\">æˆ‘æ˜¯ant-design-fromçš„é£æœºç¥¨ï¼Œç‚¹æˆ‘ç‚¹æˆ‘ï¼ï¼</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"Ant-Design-Form\"><a href=\"#Ant-Design-Form\" class=\"headerlink\" title=\"Ant Design Form\"></a>Ant Design Form</h2><p>Antd è¡¨å•çš„æ ¸å¿ƒæ— éæ˜¯ä»¥ä¸‹ä¸¤ç‚¹</p>\n<ol>\n<li>è¡¨å•åˆ›å»ºï¼ˆ<code>Form.create</code>ï¼‰åœ¨<code>this.props</code>å†™å…¥<code>form</code>å±æ€§</li>\n<li>è¡¨å•ä¸ç»„ä»¶çš„åŒå‘ç»‘å®šï¼ˆ<code>this.props.form.getFieldDecorator</code>ï¼‰</li>\n<li>è¡¨å•çš„å–å€¼ï¼ˆ<code>this.props.form.validateFields / this.props.form.validateFieldsAndScroll</code>ï¼‰</li>\n</ol>\n<h4 id=\"è¡¨å•åˆ›å»º\"><a href=\"#è¡¨å•åˆ›å»º\" class=\"headerlink\" title=\"è¡¨å•åˆ›å»º\"></a>è¡¨å•åˆ›å»º</h4><p><code>Form.create</code>è¿™æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œä¼ å…¥çš„æ˜¯reactç»„ä»¶ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„reactç»„ä»¶ï¼Œåœ¨å‡½æ•°å†…éƒ¨ä¼šå¯¹ä¼ å…¥ç»„ä»¶è¿›è¡Œæ”¹é€ ï¼Œæ·»åŠ ä¸Šä¸€å®šçš„æ–¹æ³•ç”¨äºè¿›è¡Œä¸€äº›ç§˜å¯†æ“ä½œ ï¼Œè¿™é‡Œä¸å¤šåšè§£é‡Šï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥ä¸Šå®˜ç½‘æŸ¥çœ‹ã€‚</p>\n<p><a href=\"https://react.docschina.org/docs/higher-order-components.html\" target=\"_blank\" rel=\"noopener\">æˆ‘æ˜¯é£æœºç¥¨ï¼ˆReact-é«˜é˜¶ç»„ä»¶ï¼‰ï¼Œç‚¹æˆ‘</a><br>ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class CustomizedForm extends React.Component &#123; ... &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; use wrappedComponentRef</span><br><span class=\"line\">const EnhancedForm &#x3D;  Form.create()(CustomizedForm);</span><br></pre></td></tr></table></figure>\n<p>æˆ–è€…</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Form.create()</span><br><span class=\"line\">class CustomizedForm extends React.Component &#123; ... &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"è¡¨å•ä¸ç»„ä»¶çš„åŒå‘ç»‘å®š\"><a href=\"#è¡¨å•ä¸ç»„ä»¶çš„åŒå‘ç»‘å®š\" class=\"headerlink\" title=\"è¡¨å•ä¸ç»„ä»¶çš„åŒå‘ç»‘å®š\"></a>è¡¨å•ä¸ç»„ä»¶çš„åŒå‘ç»‘å®š</h4><p>ä»–çš„ç›®çš„æ˜¯å°†è¡¨å•çš„ç»„ä»¶çš„å€¼ä¸è¡¨å•ç»‘å®šã€‚æœ€åè¡¨å•å¯ä»¥ç›´æ¥å–åˆ°æŸæŸç»„ä»¶çš„å€¼ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- è¡¨å•æ•°æ®ç»‘å®š --&gt;</span><br><span class=\"line\">&lt;Form.Item &#123;...formItemLayout&#125; label&#x3D;&#123;&#39;åç§°&#39;&#125;&gt;</span><br><span class=\"line\">\t&#123;getFieldDecorator(&#39;searchName&#39;)(</span><br><span class=\"line\">\t\t&lt;Input placeholder&#x3D;&#123;&#39;è¯·è¾“å…¥åç§°&#39;&#125; &#x2F;&gt;</span><br><span class=\"line\">\t)&#125;</span><br><span class=\"line\">&lt;&#x2F;Form.Item&gt;</span><br></pre></td></tr></table></figure>\n<p>è¿™ä¸ªæ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ç»‘å®šï¼Œç»„ä»¶inputçš„å€¼éƒ½ä¼šç”±â€™searchNameâ€™è¿™ä¸ªå±æ€§æ”¶çº³ã€‚<br>å¯ä»¥ç›´æ¥å–å€¼ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åŠ å…¥è‡ªå·±çš„æ ¡éªŒè§„åˆ™ï¼Œç­‰ç­‰ã€‚è¿™é‡Œä¸å¤šåšè§£é‡Šï¼Œè¿™äº›éƒ½æ˜¯é™„åŠ çš„è¿›é˜¶åŠŸèƒ½ï¼Œè¿™é‡Œä¸å¤šåšæè¿°ã€‚</p>\n<p><a href=\"https://ant.design/components/form-cn/\" target=\"_blank\" rel=\"noopener\">æˆ‘æ˜¯é£æœºç¥¨ï¼ˆè¡¨å•è¿›é˜¶ï¼‰ï¼Œç‚¹æˆ‘ï¼</a></p>\n<h4 id=\"è¡¨å•çš„å–å€¼\"><a href=\"#è¡¨å•çš„å–å€¼\" class=\"headerlink\" title=\"è¡¨å•çš„å–å€¼\"></a>è¡¨å•çš„å–å€¼</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">this.props.form.validateFields((err, values) &#x3D;&gt; &#123;</span><br><span class=\"line\">      if (!err) &#123; &#x2F;&#x2F; è¿™é‡Œä¹Ÿå¯ä»¥ä¸è¦ï¼Œæ˜¯ç”¨äºæ ¡éªŒçš„ã€‚</span><br><span class=\"line\">        console.log(&#39;Received values of form: &#39;, values);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br></pre></td></tr></table></figure>\n<p>è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„å–å€¼ï¼Œå½“ç„¶å¯ä»¥å®šåˆ¶çš„å–å€¼ï¼Œæˆ–è€…å®šåˆ¶çš„æ ¡éªŒï¼Œæ¯”å¦‚ï¼Œåœ¨è·å–éªŒè¯ç çš„æ—¶å€™ï¼Œä¸éœ€è¦æ ¡éªŒå¯†ç æ˜¯å¦è¾“å…¥æˆ–è€…ç¬¦åˆä½ çš„è§„åˆ™ï¼Œå°±å¯ä»¥åªæ ¡éªŒæ‰‹æœºå·ï¼Œç­‰ç­‰ã€‚è¿™é‡Œä¸å¤šåšè§£é‡Šï¼Œè¿™äº›éƒ½æ˜¯é™„åŠ çš„è¿›é˜¶åŠŸèƒ½ï¼Œè¿™é‡Œä¸å¤šåšæè¿°ã€‚</p>\n<p><a href=\"https://ant.design/components/form-cn/\" target=\"_blank\" rel=\"noopener\">æˆ‘æ˜¯é£æœºç¥¨ï¼ˆè¡¨å•è¿›é˜¶ï¼‰ï¼Œç‚¹æˆ‘ï¼</a></p>\n<p>åŸºæœ¬ä¸Šä½ æŒæ¡äº†è¿™äº›å°±å¯ä»¥è¾ƒä¸ºçµæ´»çš„ä½¿ç”¨Ant Design Formäº†ã€‚</p>\n<h2 id=\"ä½†æ˜¯ï¼åˆ’é‡ç‚¹äº†ï¼\"><a href=\"#ä½†æ˜¯ï¼åˆ’é‡ç‚¹äº†ï¼\" class=\"headerlink\" title=\"ä½†æ˜¯ï¼åˆ’é‡ç‚¹äº†ï¼\"></a>ä½†æ˜¯ï¼åˆ’é‡ç‚¹äº†ï¼</h2><p>å¦‚æœæœ‰ä¸€äº›æ›´åŠ è¿›é˜¶çš„æƒ³æ³•ã€‚è¯·çœ‹ï¼</p>\n<p><a href=\"https://blog.csdn.net/cuandeqin2083/article/details/89643390\" target=\"_blank\" rel=\"noopener\">è¡¨å•çš„è¿›é˜¶ä½¿ç”¨</a></p>\n<h1 id=\"é‡ä¸­ä¹‹é‡\"><a href=\"#é‡ä¸­ä¹‹é‡\" class=\"headerlink\" title=\"é‡ä¸­ä¹‹é‡\"></a>é‡ä¸­ä¹‹é‡</h1><p>å¦‚æœä½ è§‰å¾—è‡ªå·±æ„å»ºè¡¨å•éå¸¸éº»çƒ¦ï¼Œæˆ–è€…å¯¹è¡¨å•çš„ç†è§£è¿˜æ˜¯å¤Ÿé€å½»ï¼Œæƒ³ä¸€æ­¥åˆ°ä½æ„ä»¶è¡¨å•ï¼Œæ¨èæœ¬äººè‡ªç”¨è‡ªåˆ›ç»„ä»¶<br>ant-design-form</p>\n<p>ä¸Šé¢çš„æ–‡æ¡£éå¸¸è¯¦ç»†ï¼Œå¦‚æœæœ‰é—®é¢˜éšæ—¶å¯ä»¥ç»™æˆ‘æissuesã€‚å¦‚æœå–œæ¬¢çš„è¯éº»çƒ¦ç‚¹ä¸ªstart~</p>\n<p><a href=\"https://github.com/DerrickTel/ant-design-form\" target=\"_blank\" rel=\"noopener\">æˆ‘æ˜¯ant-design-fromçš„é£æœºç¥¨ï¼Œç‚¹æˆ‘ç‚¹æˆ‘ï¼ï¼</a></p>\n"},{"title":"è£…é¥°å™¨(Decorator)å’ŒReacté«˜é˜¶ç»„ä»¶(HOC)","date":"2019-09-15T13:59:48.000Z","cover":"/image/cover/decorator.png","_content":"## ä»€ä¹ˆæ˜¯è£…é¥°å™¨(Decorator)\nè£…é¥°å™¨ï¼ˆDecoratorï¼‰æ˜¯ä¸€ç§`ä¸ç±»ï¼ˆclassï¼‰ç›¸å…³`çš„è¯­æ³•ï¼Œç”¨æ¥æ³¨é‡Šæˆ–ä¿®æ”¹ç±»å’Œç±»æ–¹æ³•ã€‚\nè£…é¥°å™¨æ˜¯ä¸€ç§å‡½æ•°ï¼Œå†™æˆ`@ + å‡½æ•°å`ã€‚å®ƒå¯ä»¥æ”¾åœ¨ç±»å’Œç±»æ–¹æ³•çš„å®šä¹‰å‰é¢ã€‚\nå…¶å®åªæ˜¯ä¸€ä¸ªè¯­æ³•ç³–. è¿˜æ²¡æœ‰æ­£å¼å‘å¸ƒ, è¿˜éœ€è¦æ’ä»¶`babel-plugin-transform-decorators-legacy`ä½¿ç”¨\n## è£…é¥°å™¨(Decorator)ä½¿ç”¨\n\n### ç±»çš„è£…é¥°å™¨\n\n```javascript\n@testable\nclass MyTestableClass {\n  // ...\n}\n\nfunction testable(target) {\n  target.isTestable = true;\n}\n\nMyTestableClass.isTestable // true\n```\n\nä¸Šé¢ä»£ç ä¸­ï¼Œ`@testable`å°±æ˜¯ä¸€ä¸ªè£…é¥°å™¨ã€‚å®ƒä¿®æ”¹äº†`MyTestableClass`è¿™ä¸ªç±»çš„è¡Œä¸ºï¼Œä¸ºå®ƒåŠ ä¸Šäº†é™æ€å±æ€§`isTestable`ã€‚`testable`å‡½æ•°çš„å‚æ•°`target`æ˜¯`MyTestableClass`ç±»æœ¬èº«ã€‚\n\nä¹Ÿå°±æ˜¯è¯´ï¼Œè£…é¥°å™¨æ˜¯ä¸€ä¸ªå¯¹ç±»è¿›è¡Œå¤„ç†çš„å‡½æ•°ã€‚è£…é¥°å™¨å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå°±æ˜¯æ‰€è¦è£…é¥°çš„ç›®æ ‡ç±»ã€‚\n\n```javascript\nfunction testable(target) {\n  // ...\n}\n```\nå¦‚æœæƒ³ä¼ å‚ï¼Œå¯ä»¥åœ¨è£…é¥°å™¨å¤–é¢å†å°è£…ä¸€å±‚å‡½æ•°ã€‚\n\n```javascript\nfunction testable(isTestable) {\n  return function(target) {\n    target.isTestable = isTestable;\n  }\n}\n\n@testable(true)\nclass MyTestableClass {}\nMyTestableClass.isTestable // true\n\n@testable(false)\nclass MyClass {}\nMyClass.isTestable // false\n```\nä¸Šé¢ä»£ç ä¸­ï¼Œè£…é¥°å™¨`testable`å¯ä»¥æ¥å—å‚æ•°ï¼Œè¿™å°±ç­‰äºå¯ä»¥ä¿®æ”¹è£…é¥°å™¨çš„è¡Œä¸ºã€‚\n\næ³¨æ„ï¼Œè£…é¥°å™¨å¯¹ç±»çš„è¡Œä¸ºçš„æ”¹å˜ï¼Œæ˜¯ä»£ç ç¼–è¯‘æ—¶å‘ç”Ÿçš„ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶ã€‚è¿™æ„å‘³ç€ï¼Œè£…é¥°å™¨èƒ½åœ¨ç¼–è¯‘é˜¶æ®µè¿è¡Œä»£ç ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè£…é¥°å™¨æœ¬è´¨å°±æ˜¯ç¼–è¯‘æ—¶æ‰§è¡Œçš„å‡½æ•°ã€‚\n\nå‰é¢çš„ä¾‹å­æ˜¯ä¸ºç±»æ·»åŠ ä¸€ä¸ªé™æ€å±æ€§ï¼Œå¦‚æœæƒ³æ·»åŠ å®ä¾‹å±æ€§ï¼Œå¯ä»¥é€šè¿‡ç›®æ ‡ç±»çš„`prototype`å¯¹è±¡æ“ä½œã€‚\n\n```javascript\nfunction testable(target) {\n  target.prototype.isTestable = true;\n}\n\n@testable\nclass MyTestableClass {}\n\nlet obj = new MyTestableClass();\nobj.isTestable // true\n```\n\nä¸Šé¢ä»£ç ä¸­ï¼Œè£…é¥°å™¨å‡½æ•°`testable`æ˜¯åœ¨ç›®æ ‡ç±»çš„`prototype`å¯¹è±¡ä¸Šæ·»åŠ å±æ€§ï¼Œå› æ­¤å°±å¯ä»¥åœ¨å®ä¾‹ä¸Šè°ƒç”¨ã€‚\n\n\n\n```javascript\nfunction testable(target) {\n  target.prototype.isTestable = true;\n}\n\n@testable\nclass MyTestableClass {}\n\nlet obj = new MyTestableClass();\nobj.isTestable // true\n```\n\n\n - å®é™…å¼€å‘ä¸­ï¼ŒReact ä¸ Redux åº“ç»“åˆä½¿ç”¨æ—¶\n\nå¸¸å¸¸éœ€è¦å†™æˆä¸‹é¢è¿™æ ·\n\n```javascript\nclass MyReactComponent extends React.Component {}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyReactComponent);\n```\n\næœ‰äº†è£…é¥°å™¨ï¼Œå°±å¯ä»¥æ”¹å†™ä¸Šé¢çš„ä»£ç ã€‚\n\n```javascript\n@connect(mapStateToProps, mapDispatchToProps)\nexport default class MyReactComponent extends React.Component {}\n```\n### ç±»çš„æ–¹æ³•çš„è£…é¥°å™¨\n\n```javascript\nfunction readonly(target, name, descriptor){\n  // descriptorå¯¹è±¡åŸæ¥çš„å€¼å¦‚ä¸‹\n  // {\n  //   value: specifiedFunction,\n  //   enumerable: false,\n  //   configurable: true,\n  //   writable: true\n  // };\n  descriptor.writable = false;\n  return descriptor;\n}\n\nreadonly(Person.prototype, 'name', descriptor);\n// ç±»ä¼¼äº\nObject.defineProperty(Person.prototype, 'name', descriptor);\n```\nè£…é¥°å™¨ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç±»çš„åŸå‹å¯¹è±¡ï¼Œä¸Šä¾‹æ˜¯`Person.prototype`ï¼Œè£…é¥°å™¨çš„æœ¬æ„æ˜¯è¦â€œè£…é¥°â€ç±»çš„å®ä¾‹ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™å®ä¾‹è¿˜æ²¡ç”Ÿæˆï¼Œæ‰€ä»¥åªèƒ½å»è£…é¥°åŸå‹ï¼ˆè¿™ä¸åŒäºç±»çš„è£…é¥°ï¼Œé‚£ç§æƒ…å†µæ—¶`target`å‚æ•°æŒ‡çš„æ˜¯ç±»æœ¬èº«ï¼‰ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ‰€è¦è£…é¥°çš„å±æ€§åï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯è¯¥å±æ€§çš„æè¿°å¯¹è±¡ã€‚\n\n> å…¶ä½™ä½¿ç”¨æ–¹æ³•ä¸ç±»çš„è£…é¥°å™¨ç›¸åŒ(å‚æ•°å˜ä¸º3ä¸ªäº†~)\n\n### å¤šä¸ªè£…é¥°å™¨\nå¦‚æœåŒä¸€ä¸ªæ–¹æ³•æœ‰å¤šä¸ªè£…é¥°å™¨ï¼Œä¼šåƒå‰¥æ´‹è‘±ä¸€æ ·ï¼Œå…ˆä»å¤–åˆ°å†…è¿›å…¥ï¼Œç„¶åç”±å†…å‘å¤–æ‰§è¡Œã€‚\n\n```javascript\nfunction dec(id){\n  console.log('evaluated', id);\n  return (target, property, descriptor) => console.log('executed', id);\n}\n\nclass Example {\n    @dec(1)\n    @dec(2)\n    method(){}\n}\n// evaluated 1\n// evaluated 2\n// executed 2\n// executed 1\n```\n### è£…é¥°å™¨ä¸èƒ½ä½œç”¨äºå‡½æ•°\n\nè£…é¥°å™¨åªèƒ½ç”¨äºç±»å’Œç±»çš„æ–¹æ³•ï¼Œä¸èƒ½ç”¨äºå‡½æ•°ï¼Œå› ä¸ºå­˜åœ¨å‡½æ•°æå‡ã€‚\n\n## Reacté«˜é˜¶ç»„ä»¶(HOC)\n\n```react\nimport React from 'react';\n\nexport default Component => class extends React.Component {\n  render() {\n    return <div style={{cursor: 'pointer', display: 'inline-block'}}>\n      <Component/>\n    </div>\n  }\n}\n```\nè¿™ä¸ªè£…é¥°å™¨ï¼ˆé«˜é˜¶ç»„ä»¶ï¼‰æ¥å—ä¸€ä¸ª React ç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„ React ç»„ä»¶ã€‚å®ç°å¾ˆç®€å•ï¼Œå°±æ˜¯åŒ…è£¹äº†ä¸€å±‚ divï¼Œæ·»åŠ äº†ä¸€ä¸ª styleï¼Œå°±è¿™ä¹ˆç®€å•ã€‚ä»¥åæ‰€æœ‰è¢«å®ƒè£…é¥°çš„ç»„ä»¶éƒ½ä¼šå…·æœ‰è¿™ä¸ªç‰¹å¾ã€‚\né™¤äº†styleè¿˜å¯ä»¥ä¼ å‚æ•°\n```react\nimport React from 'react';\n\nexport default Component => class extends React.Component {\n  render() {\n    return <div test={'qwe'}>\n      <Component/>\n    </div>\n  }\n}\n```\nä»¥åæ‰€æœ‰è¢«å®ƒè£…é¥°çš„ç»„ä»¶éƒ½å¯ä»¥ä»`props`é‡Œé¢è·å–åˆ°`test`. ä»–çš„å€¼æ˜¯`'qwe'`ã€‚\n\n## æ‰©å±•\nå‘æŒ¥ä½ çš„æƒ³è±¡, ä½ å¯ä»¥å†™æ— æ•°ä¸ªå¾ˆæ–¹ä¾¿çš„é«˜é˜¶ç»„ä»¶, é€šè¿‡è£…é¥°å™¨çš„æ–¹å¼, è®©ä½ çš„ä»£ç æ›´ç®€æ´, æ›´å¸…\n\nç´¢å¼•\n\n> http://es6.ruanyifeng.com/#docs/decorator","source":"_posts/è£…é¥°å™¨(Decorator)å’ŒReacté«˜é˜¶ç»„ä»¶(HOC).md","raw":"---\ntitle: è£…é¥°å™¨(Decorator)å’ŒReacté«˜é˜¶ç»„ä»¶(HOC)\ndate: 2019-09-15 21:59:48\ntags: [React, ES6]\ncategory: [ES6]\ncover: /image/cover/decorator.png\n---\n## ä»€ä¹ˆæ˜¯è£…é¥°å™¨(Decorator)\nè£…é¥°å™¨ï¼ˆDecoratorï¼‰æ˜¯ä¸€ç§`ä¸ç±»ï¼ˆclassï¼‰ç›¸å…³`çš„è¯­æ³•ï¼Œç”¨æ¥æ³¨é‡Šæˆ–ä¿®æ”¹ç±»å’Œç±»æ–¹æ³•ã€‚\nè£…é¥°å™¨æ˜¯ä¸€ç§å‡½æ•°ï¼Œå†™æˆ`@ + å‡½æ•°å`ã€‚å®ƒå¯ä»¥æ”¾åœ¨ç±»å’Œç±»æ–¹æ³•çš„å®šä¹‰å‰é¢ã€‚\nå…¶å®åªæ˜¯ä¸€ä¸ªè¯­æ³•ç³–. è¿˜æ²¡æœ‰æ­£å¼å‘å¸ƒ, è¿˜éœ€è¦æ’ä»¶`babel-plugin-transform-decorators-legacy`ä½¿ç”¨\n## è£…é¥°å™¨(Decorator)ä½¿ç”¨\n\n### ç±»çš„è£…é¥°å™¨\n\n```javascript\n@testable\nclass MyTestableClass {\n  // ...\n}\n\nfunction testable(target) {\n  target.isTestable = true;\n}\n\nMyTestableClass.isTestable // true\n```\n\nä¸Šé¢ä»£ç ä¸­ï¼Œ`@testable`å°±æ˜¯ä¸€ä¸ªè£…é¥°å™¨ã€‚å®ƒä¿®æ”¹äº†`MyTestableClass`è¿™ä¸ªç±»çš„è¡Œä¸ºï¼Œä¸ºå®ƒåŠ ä¸Šäº†é™æ€å±æ€§`isTestable`ã€‚`testable`å‡½æ•°çš„å‚æ•°`target`æ˜¯`MyTestableClass`ç±»æœ¬èº«ã€‚\n\nä¹Ÿå°±æ˜¯è¯´ï¼Œè£…é¥°å™¨æ˜¯ä¸€ä¸ªå¯¹ç±»è¿›è¡Œå¤„ç†çš„å‡½æ•°ã€‚è£…é¥°å™¨å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå°±æ˜¯æ‰€è¦è£…é¥°çš„ç›®æ ‡ç±»ã€‚\n\n```javascript\nfunction testable(target) {\n  // ...\n}\n```\nå¦‚æœæƒ³ä¼ å‚ï¼Œå¯ä»¥åœ¨è£…é¥°å™¨å¤–é¢å†å°è£…ä¸€å±‚å‡½æ•°ã€‚\n\n```javascript\nfunction testable(isTestable) {\n  return function(target) {\n    target.isTestable = isTestable;\n  }\n}\n\n@testable(true)\nclass MyTestableClass {}\nMyTestableClass.isTestable // true\n\n@testable(false)\nclass MyClass {}\nMyClass.isTestable // false\n```\nä¸Šé¢ä»£ç ä¸­ï¼Œè£…é¥°å™¨`testable`å¯ä»¥æ¥å—å‚æ•°ï¼Œè¿™å°±ç­‰äºå¯ä»¥ä¿®æ”¹è£…é¥°å™¨çš„è¡Œä¸ºã€‚\n\næ³¨æ„ï¼Œè£…é¥°å™¨å¯¹ç±»çš„è¡Œä¸ºçš„æ”¹å˜ï¼Œæ˜¯ä»£ç ç¼–è¯‘æ—¶å‘ç”Ÿçš„ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶ã€‚è¿™æ„å‘³ç€ï¼Œè£…é¥°å™¨èƒ½åœ¨ç¼–è¯‘é˜¶æ®µè¿è¡Œä»£ç ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè£…é¥°å™¨æœ¬è´¨å°±æ˜¯ç¼–è¯‘æ—¶æ‰§è¡Œçš„å‡½æ•°ã€‚\n\nå‰é¢çš„ä¾‹å­æ˜¯ä¸ºç±»æ·»åŠ ä¸€ä¸ªé™æ€å±æ€§ï¼Œå¦‚æœæƒ³æ·»åŠ å®ä¾‹å±æ€§ï¼Œå¯ä»¥é€šè¿‡ç›®æ ‡ç±»çš„`prototype`å¯¹è±¡æ“ä½œã€‚\n\n```javascript\nfunction testable(target) {\n  target.prototype.isTestable = true;\n}\n\n@testable\nclass MyTestableClass {}\n\nlet obj = new MyTestableClass();\nobj.isTestable // true\n```\n\nä¸Šé¢ä»£ç ä¸­ï¼Œè£…é¥°å™¨å‡½æ•°`testable`æ˜¯åœ¨ç›®æ ‡ç±»çš„`prototype`å¯¹è±¡ä¸Šæ·»åŠ å±æ€§ï¼Œå› æ­¤å°±å¯ä»¥åœ¨å®ä¾‹ä¸Šè°ƒç”¨ã€‚\n\n\n\n```javascript\nfunction testable(target) {\n  target.prototype.isTestable = true;\n}\n\n@testable\nclass MyTestableClass {}\n\nlet obj = new MyTestableClass();\nobj.isTestable // true\n```\n\n\n - å®é™…å¼€å‘ä¸­ï¼ŒReact ä¸ Redux åº“ç»“åˆä½¿ç”¨æ—¶\n\nå¸¸å¸¸éœ€è¦å†™æˆä¸‹é¢è¿™æ ·\n\n```javascript\nclass MyReactComponent extends React.Component {}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyReactComponent);\n```\n\næœ‰äº†è£…é¥°å™¨ï¼Œå°±å¯ä»¥æ”¹å†™ä¸Šé¢çš„ä»£ç ã€‚\n\n```javascript\n@connect(mapStateToProps, mapDispatchToProps)\nexport default class MyReactComponent extends React.Component {}\n```\n### ç±»çš„æ–¹æ³•çš„è£…é¥°å™¨\n\n```javascript\nfunction readonly(target, name, descriptor){\n  // descriptorå¯¹è±¡åŸæ¥çš„å€¼å¦‚ä¸‹\n  // {\n  //   value: specifiedFunction,\n  //   enumerable: false,\n  //   configurable: true,\n  //   writable: true\n  // };\n  descriptor.writable = false;\n  return descriptor;\n}\n\nreadonly(Person.prototype, 'name', descriptor);\n// ç±»ä¼¼äº\nObject.defineProperty(Person.prototype, 'name', descriptor);\n```\nè£…é¥°å™¨ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç±»çš„åŸå‹å¯¹è±¡ï¼Œä¸Šä¾‹æ˜¯`Person.prototype`ï¼Œè£…é¥°å™¨çš„æœ¬æ„æ˜¯è¦â€œè£…é¥°â€ç±»çš„å®ä¾‹ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™å®ä¾‹è¿˜æ²¡ç”Ÿæˆï¼Œæ‰€ä»¥åªèƒ½å»è£…é¥°åŸå‹ï¼ˆè¿™ä¸åŒäºç±»çš„è£…é¥°ï¼Œé‚£ç§æƒ…å†µæ—¶`target`å‚æ•°æŒ‡çš„æ˜¯ç±»æœ¬èº«ï¼‰ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ‰€è¦è£…é¥°çš„å±æ€§åï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯è¯¥å±æ€§çš„æè¿°å¯¹è±¡ã€‚\n\n> å…¶ä½™ä½¿ç”¨æ–¹æ³•ä¸ç±»çš„è£…é¥°å™¨ç›¸åŒ(å‚æ•°å˜ä¸º3ä¸ªäº†~)\n\n### å¤šä¸ªè£…é¥°å™¨\nå¦‚æœåŒä¸€ä¸ªæ–¹æ³•æœ‰å¤šä¸ªè£…é¥°å™¨ï¼Œä¼šåƒå‰¥æ´‹è‘±ä¸€æ ·ï¼Œå…ˆä»å¤–åˆ°å†…è¿›å…¥ï¼Œç„¶åç”±å†…å‘å¤–æ‰§è¡Œã€‚\n\n```javascript\nfunction dec(id){\n  console.log('evaluated', id);\n  return (target, property, descriptor) => console.log('executed', id);\n}\n\nclass Example {\n    @dec(1)\n    @dec(2)\n    method(){}\n}\n// evaluated 1\n// evaluated 2\n// executed 2\n// executed 1\n```\n### è£…é¥°å™¨ä¸èƒ½ä½œç”¨äºå‡½æ•°\n\nè£…é¥°å™¨åªèƒ½ç”¨äºç±»å’Œç±»çš„æ–¹æ³•ï¼Œä¸èƒ½ç”¨äºå‡½æ•°ï¼Œå› ä¸ºå­˜åœ¨å‡½æ•°æå‡ã€‚\n\n## Reacté«˜é˜¶ç»„ä»¶(HOC)\n\n```react\nimport React from 'react';\n\nexport default Component => class extends React.Component {\n  render() {\n    return <div style={{cursor: 'pointer', display: 'inline-block'}}>\n      <Component/>\n    </div>\n  }\n}\n```\nè¿™ä¸ªè£…é¥°å™¨ï¼ˆé«˜é˜¶ç»„ä»¶ï¼‰æ¥å—ä¸€ä¸ª React ç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„ React ç»„ä»¶ã€‚å®ç°å¾ˆç®€å•ï¼Œå°±æ˜¯åŒ…è£¹äº†ä¸€å±‚ divï¼Œæ·»åŠ äº†ä¸€ä¸ª styleï¼Œå°±è¿™ä¹ˆç®€å•ã€‚ä»¥åæ‰€æœ‰è¢«å®ƒè£…é¥°çš„ç»„ä»¶éƒ½ä¼šå…·æœ‰è¿™ä¸ªç‰¹å¾ã€‚\né™¤äº†styleè¿˜å¯ä»¥ä¼ å‚æ•°\n```react\nimport React from 'react';\n\nexport default Component => class extends React.Component {\n  render() {\n    return <div test={'qwe'}>\n      <Component/>\n    </div>\n  }\n}\n```\nä»¥åæ‰€æœ‰è¢«å®ƒè£…é¥°çš„ç»„ä»¶éƒ½å¯ä»¥ä»`props`é‡Œé¢è·å–åˆ°`test`. ä»–çš„å€¼æ˜¯`'qwe'`ã€‚\n\n## æ‰©å±•\nå‘æŒ¥ä½ çš„æƒ³è±¡, ä½ å¯ä»¥å†™æ— æ•°ä¸ªå¾ˆæ–¹ä¾¿çš„é«˜é˜¶ç»„ä»¶, é€šè¿‡è£…é¥°å™¨çš„æ–¹å¼, è®©ä½ çš„ä»£ç æ›´ç®€æ´, æ›´å¸…\n\nç´¢å¼•\n\n> http://es6.ruanyifeng.com/#docs/decorator","slug":"è£…é¥°å™¨(Decorator)å’ŒReacté«˜é˜¶ç»„ä»¶(HOC)","published":1,"updated":"2020-04-11T13:54:51.816Z","_id":"ck8vk5iwq0001o5vmcfsi51kg","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"ä»€ä¹ˆæ˜¯è£…é¥°å™¨-Decorator\"><a href=\"#ä»€ä¹ˆæ˜¯è£…é¥°å™¨-Decorator\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯è£…é¥°å™¨(Decorator)\"></a>ä»€ä¹ˆæ˜¯è£…é¥°å™¨(Decorator)</h2><p>è£…é¥°å™¨ï¼ˆDecoratorï¼‰æ˜¯ä¸€ç§<code>ä¸ç±»ï¼ˆclassï¼‰ç›¸å…³</code>çš„è¯­æ³•ï¼Œç”¨æ¥æ³¨é‡Šæˆ–ä¿®æ”¹ç±»å’Œç±»æ–¹æ³•ã€‚<br>è£…é¥°å™¨æ˜¯ä¸€ç§å‡½æ•°ï¼Œå†™æˆ<code>@ + å‡½æ•°å</code>ã€‚å®ƒå¯ä»¥æ”¾åœ¨ç±»å’Œç±»æ–¹æ³•çš„å®šä¹‰å‰é¢ã€‚<br>å…¶å®åªæ˜¯ä¸€ä¸ªè¯­æ³•ç³–. è¿˜æ²¡æœ‰æ­£å¼å‘å¸ƒ, è¿˜éœ€è¦æ’ä»¶<code>babel-plugin-transform-decorators-legacy</code>ä½¿ç”¨</p>\n<h2 id=\"è£…é¥°å™¨-Decorator-ä½¿ç”¨\"><a href=\"#è£…é¥°å™¨-Decorator-ä½¿ç”¨\" class=\"headerlink\" title=\"è£…é¥°å™¨(Decorator)ä½¿ç”¨\"></a>è£…é¥°å™¨(Decorator)ä½¿ç”¨</h2><h3 id=\"ç±»çš„è£…é¥°å™¨\"><a href=\"#ç±»çš„è£…é¥°å™¨\" class=\"headerlink\" title=\"ç±»çš„è£…é¥°å™¨\"></a>ç±»çš„è£…é¥°å™¨</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@testable</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyTestableClass</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testable</span>(<span class=\"params\">target</span>) </span>&#123;</span><br><span class=\"line\">  target.isTestable = <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">MyTestableClass.isTestable <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>@testable</code>å°±æ˜¯ä¸€ä¸ªè£…é¥°å™¨ã€‚å®ƒä¿®æ”¹äº†<code>MyTestableClass</code>è¿™ä¸ªç±»çš„è¡Œä¸ºï¼Œä¸ºå®ƒåŠ ä¸Šäº†é™æ€å±æ€§<code>isTestable</code>ã€‚<code>testable</code>å‡½æ•°çš„å‚æ•°<code>target</code>æ˜¯<code>MyTestableClass</code>ç±»æœ¬èº«ã€‚</p>\n<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œè£…é¥°å™¨æ˜¯ä¸€ä¸ªå¯¹ç±»è¿›è¡Œå¤„ç†çš„å‡½æ•°ã€‚è£…é¥°å™¨å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå°±æ˜¯æ‰€è¦è£…é¥°çš„ç›®æ ‡ç±»ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testable</span>(<span class=\"params\">target</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å¦‚æœæƒ³ä¼ å‚ï¼Œå¯ä»¥åœ¨è£…é¥°å™¨å¤–é¢å†å°è£…ä¸€å±‚å‡½æ•°ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testable</span>(<span class=\"params\">isTestable</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">target</span>) </span>&#123;</span><br><span class=\"line\">    target.isTestable = isTestable;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">@testable(<span class=\"literal\">true</span>)</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyTestableClass</span> </span>&#123;&#125;</span><br><span class=\"line\">MyTestableClass.isTestable <span class=\"comment\">// true</span></span><br><span class=\"line\"></span><br><span class=\"line\">@testable(<span class=\"literal\">false</span>)</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyClass</span> </span>&#123;&#125;</span><br><span class=\"line\">MyClass.isTestable <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n<p>ä¸Šé¢ä»£ç ä¸­ï¼Œè£…é¥°å™¨<code>testable</code>å¯ä»¥æ¥å—å‚æ•°ï¼Œè¿™å°±ç­‰äºå¯ä»¥ä¿®æ”¹è£…é¥°å™¨çš„è¡Œä¸ºã€‚</p>\n<p>æ³¨æ„ï¼Œè£…é¥°å™¨å¯¹ç±»çš„è¡Œä¸ºçš„æ”¹å˜ï¼Œæ˜¯ä»£ç ç¼–è¯‘æ—¶å‘ç”Ÿçš„ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶ã€‚è¿™æ„å‘³ç€ï¼Œè£…é¥°å™¨èƒ½åœ¨ç¼–è¯‘é˜¶æ®µè¿è¡Œä»£ç ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè£…é¥°å™¨æœ¬è´¨å°±æ˜¯ç¼–è¯‘æ—¶æ‰§è¡Œçš„å‡½æ•°ã€‚</p>\n<p>å‰é¢çš„ä¾‹å­æ˜¯ä¸ºç±»æ·»åŠ ä¸€ä¸ªé™æ€å±æ€§ï¼Œå¦‚æœæƒ³æ·»åŠ å®ä¾‹å±æ€§ï¼Œå¯ä»¥é€šè¿‡ç›®æ ‡ç±»çš„<code>prototype</code>å¯¹è±¡æ“ä½œã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testable</span>(<span class=\"params\">target</span>) </span>&#123;</span><br><span class=\"line\">  target.prototype.isTestable = <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">@testable</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyTestableClass</span> </span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = <span class=\"keyword\">new</span> MyTestableClass();</span><br><span class=\"line\">obj.isTestable <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢ä»£ç ä¸­ï¼Œè£…é¥°å™¨å‡½æ•°<code>testable</code>æ˜¯åœ¨ç›®æ ‡ç±»çš„<code>prototype</code>å¯¹è±¡ä¸Šæ·»åŠ å±æ€§ï¼Œå› æ­¤å°±å¯ä»¥åœ¨å®ä¾‹ä¸Šè°ƒç”¨ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testable</span>(<span class=\"params\">target</span>) </span>&#123;</span><br><span class=\"line\">  target.prototype.isTestable = <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">@testable</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyTestableClass</span> </span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = <span class=\"keyword\">new</span> MyTestableClass();</span><br><span class=\"line\">obj.isTestable <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n\n<ul>\n<li>å®é™…å¼€å‘ä¸­ï¼ŒReact ä¸ Redux åº“ç»“åˆä½¿ç”¨æ—¶</li>\n</ul>\n<p>å¸¸å¸¸éœ€è¦å†™æˆä¸‹é¢è¿™æ ·</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyReactComponent</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span> </span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> connect(mapStateToProps, mapDispatchToProps)(MyReactComponent);</span><br></pre></td></tr></table></figure>\n\n<p>æœ‰äº†è£…é¥°å™¨ï¼Œå°±å¯ä»¥æ”¹å†™ä¸Šé¢çš„ä»£ç ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@connect(mapStateToProps, mapDispatchToProps)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyReactComponent</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"ç±»çš„æ–¹æ³•çš„è£…é¥°å™¨\"><a href=\"#ç±»çš„æ–¹æ³•çš„è£…é¥°å™¨\" class=\"headerlink\" title=\"ç±»çš„æ–¹æ³•çš„è£…é¥°å™¨\"></a>ç±»çš„æ–¹æ³•çš„è£…é¥°å™¨</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">readonly</span>(<span class=\"params\">target, name, descriptor</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// descriptorå¯¹è±¡åŸæ¥çš„å€¼å¦‚ä¸‹</span></span><br><span class=\"line\">  <span class=\"comment\">// &#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//   value: specifiedFunction,</span></span><br><span class=\"line\">  <span class=\"comment\">//   enumerable: false,</span></span><br><span class=\"line\">  <span class=\"comment\">//   configurable: true,</span></span><br><span class=\"line\">  <span class=\"comment\">//   writable: true</span></span><br><span class=\"line\">  <span class=\"comment\">// &#125;;</span></span><br><span class=\"line\">  descriptor.writable = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> descriptor;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">readonly(Person.prototype, <span class=\"string\">'name'</span>, descriptor);</span><br><span class=\"line\"><span class=\"comment\">// ç±»ä¼¼äº</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.defineProperty(Person.prototype, <span class=\"string\">'name'</span>, descriptor);</span><br></pre></td></tr></table></figure>\n<p>è£…é¥°å™¨ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç±»çš„åŸå‹å¯¹è±¡ï¼Œä¸Šä¾‹æ˜¯<code>Person.prototype</code>ï¼Œè£…é¥°å™¨çš„æœ¬æ„æ˜¯è¦â€œè£…é¥°â€ç±»çš„å®ä¾‹ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™å®ä¾‹è¿˜æ²¡ç”Ÿæˆï¼Œæ‰€ä»¥åªèƒ½å»è£…é¥°åŸå‹ï¼ˆè¿™ä¸åŒäºç±»çš„è£…é¥°ï¼Œé‚£ç§æƒ…å†µæ—¶<code>target</code>å‚æ•°æŒ‡çš„æ˜¯ç±»æœ¬èº«ï¼‰ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ‰€è¦è£…é¥°çš„å±æ€§åï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯è¯¥å±æ€§çš„æè¿°å¯¹è±¡ã€‚</p>\n<blockquote>\n<p>å…¶ä½™ä½¿ç”¨æ–¹æ³•ä¸ç±»çš„è£…é¥°å™¨ç›¸åŒ(å‚æ•°å˜ä¸º3ä¸ªäº†~)</p>\n</blockquote>\n<h3 id=\"å¤šä¸ªè£…é¥°å™¨\"><a href=\"#å¤šä¸ªè£…é¥°å™¨\" class=\"headerlink\" title=\"å¤šä¸ªè£…é¥°å™¨\"></a>å¤šä¸ªè£…é¥°å™¨</h3><p>å¦‚æœåŒä¸€ä¸ªæ–¹æ³•æœ‰å¤šä¸ªè£…é¥°å™¨ï¼Œä¼šåƒå‰¥æ´‹è‘±ä¸€æ ·ï¼Œå…ˆä»å¤–åˆ°å†…è¿›å…¥ï¼Œç„¶åç”±å†…å‘å¤–æ‰§è¡Œã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">dec</span>(<span class=\"params\">id</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'evaluated'</span>, id);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">target, property, descriptor</span>) =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">'executed'</span>, id);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span> </span>&#123;</span><br><span class=\"line\">    @dec(<span class=\"number\">1</span>)</span><br><span class=\"line\">    @dec(<span class=\"number\">2</span>)</span><br><span class=\"line\">    method()&#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// evaluated 1</span></span><br><span class=\"line\"><span class=\"comment\">// evaluated 2</span></span><br><span class=\"line\"><span class=\"comment\">// executed 2</span></span><br><span class=\"line\"><span class=\"comment\">// executed 1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"è£…é¥°å™¨ä¸èƒ½ä½œç”¨äºå‡½æ•°\"><a href=\"#è£…é¥°å™¨ä¸èƒ½ä½œç”¨äºå‡½æ•°\" class=\"headerlink\" title=\"è£…é¥°å™¨ä¸èƒ½ä½œç”¨äºå‡½æ•°\"></a>è£…é¥°å™¨ä¸èƒ½ä½œç”¨äºå‡½æ•°</h3><p>è£…é¥°å™¨åªèƒ½ç”¨äºç±»å’Œç±»çš„æ–¹æ³•ï¼Œä¸èƒ½ç”¨äºå‡½æ•°ï¼Œå› ä¸ºå­˜åœ¨å‡½æ•°æå‡ã€‚</p>\n<h2 id=\"Reacté«˜é˜¶ç»„ä»¶-HOC\"><a href=\"#Reacté«˜é˜¶ç»„ä»¶-HOC\" class=\"headerlink\" title=\"Reacté«˜é˜¶ç»„ä»¶(HOC)\"></a>Reacté«˜é˜¶ç»„ä»¶(HOC)</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import React from &#39;react&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">export default Component &#x3D;&gt; class extends React.Component &#123;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    return &lt;div style&#x3D;&#123;&#123;cursor: &#39;pointer&#39;, display: &#39;inline-block&#39;&#125;&#125;&gt;</span><br><span class=\"line\">      &lt;Component&#x2F;&gt;</span><br><span class=\"line\">    &lt;&#x2F;div&gt;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¿™ä¸ªè£…é¥°å™¨ï¼ˆé«˜é˜¶ç»„ä»¶ï¼‰æ¥å—ä¸€ä¸ª React ç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„ React ç»„ä»¶ã€‚å®ç°å¾ˆç®€å•ï¼Œå°±æ˜¯åŒ…è£¹äº†ä¸€å±‚ divï¼Œæ·»åŠ äº†ä¸€ä¸ª styleï¼Œå°±è¿™ä¹ˆç®€å•ã€‚ä»¥åæ‰€æœ‰è¢«å®ƒè£…é¥°çš„ç»„ä»¶éƒ½ä¼šå…·æœ‰è¿™ä¸ªç‰¹å¾ã€‚<br>é™¤äº†styleè¿˜å¯ä»¥ä¼ å‚æ•°</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import React from &#39;react&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">export default Component &#x3D;&gt; class extends React.Component &#123;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    return &lt;div test&#x3D;&#123;&#39;qwe&#39;&#125;&gt;</span><br><span class=\"line\">      &lt;Component&#x2F;&gt;</span><br><span class=\"line\">    &lt;&#x2F;div&gt;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ä»¥åæ‰€æœ‰è¢«å®ƒè£…é¥°çš„ç»„ä»¶éƒ½å¯ä»¥ä»<code>props</code>é‡Œé¢è·å–åˆ°<code>test</code>. ä»–çš„å€¼æ˜¯<code>&#39;qwe&#39;</code>ã€‚</p>\n<h2 id=\"æ‰©å±•\"><a href=\"#æ‰©å±•\" class=\"headerlink\" title=\"æ‰©å±•\"></a>æ‰©å±•</h2><p>å‘æŒ¥ä½ çš„æƒ³è±¡, ä½ å¯ä»¥å†™æ— æ•°ä¸ªå¾ˆæ–¹ä¾¿çš„é«˜é˜¶ç»„ä»¶, é€šè¿‡è£…é¥°å™¨çš„æ–¹å¼, è®©ä½ çš„ä»£ç æ›´ç®€æ´, æ›´å¸…</p>\n<p>ç´¢å¼•</p>\n<blockquote>\n<p><a href=\"http://es6.ruanyifeng.com/#docs/decorator\" target=\"_blank\" rel=\"noopener\">http://es6.ruanyifeng.com/#docs/decorator</a></p>\n</blockquote>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"ä»€ä¹ˆæ˜¯è£…é¥°å™¨-Decorator\"><a href=\"#ä»€ä¹ˆæ˜¯è£…é¥°å™¨-Decorator\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯è£…é¥°å™¨(Decorator)\"></a>ä»€ä¹ˆæ˜¯è£…é¥°å™¨(Decorator)</h2><p>è£…é¥°å™¨ï¼ˆDecoratorï¼‰æ˜¯ä¸€ç§<code>ä¸ç±»ï¼ˆclassï¼‰ç›¸å…³</code>çš„è¯­æ³•ï¼Œç”¨æ¥æ³¨é‡Šæˆ–ä¿®æ”¹ç±»å’Œç±»æ–¹æ³•ã€‚<br>è£…é¥°å™¨æ˜¯ä¸€ç§å‡½æ•°ï¼Œå†™æˆ<code>@ + å‡½æ•°å</code>ã€‚å®ƒå¯ä»¥æ”¾åœ¨ç±»å’Œç±»æ–¹æ³•çš„å®šä¹‰å‰é¢ã€‚<br>å…¶å®åªæ˜¯ä¸€ä¸ªè¯­æ³•ç³–. è¿˜æ²¡æœ‰æ­£å¼å‘å¸ƒ, è¿˜éœ€è¦æ’ä»¶<code>babel-plugin-transform-decorators-legacy</code>ä½¿ç”¨</p>\n<h2 id=\"è£…é¥°å™¨-Decorator-ä½¿ç”¨\"><a href=\"#è£…é¥°å™¨-Decorator-ä½¿ç”¨\" class=\"headerlink\" title=\"è£…é¥°å™¨(Decorator)ä½¿ç”¨\"></a>è£…é¥°å™¨(Decorator)ä½¿ç”¨</h2><h3 id=\"ç±»çš„è£…é¥°å™¨\"><a href=\"#ç±»çš„è£…é¥°å™¨\" class=\"headerlink\" title=\"ç±»çš„è£…é¥°å™¨\"></a>ç±»çš„è£…é¥°å™¨</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@testable</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyTestableClass</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testable</span>(<span class=\"params\">target</span>) </span>&#123;</span><br><span class=\"line\">  target.isTestable = <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">MyTestableClass.isTestable <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>@testable</code>å°±æ˜¯ä¸€ä¸ªè£…é¥°å™¨ã€‚å®ƒä¿®æ”¹äº†<code>MyTestableClass</code>è¿™ä¸ªç±»çš„è¡Œä¸ºï¼Œä¸ºå®ƒåŠ ä¸Šäº†é™æ€å±æ€§<code>isTestable</code>ã€‚<code>testable</code>å‡½æ•°çš„å‚æ•°<code>target</code>æ˜¯<code>MyTestableClass</code>ç±»æœ¬èº«ã€‚</p>\n<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œè£…é¥°å™¨æ˜¯ä¸€ä¸ªå¯¹ç±»è¿›è¡Œå¤„ç†çš„å‡½æ•°ã€‚è£…é¥°å™¨å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå°±æ˜¯æ‰€è¦è£…é¥°çš„ç›®æ ‡ç±»ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testable</span>(<span class=\"params\">target</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å¦‚æœæƒ³ä¼ å‚ï¼Œå¯ä»¥åœ¨è£…é¥°å™¨å¤–é¢å†å°è£…ä¸€å±‚å‡½æ•°ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testable</span>(<span class=\"params\">isTestable</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">target</span>) </span>&#123;</span><br><span class=\"line\">    target.isTestable = isTestable;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">@testable(<span class=\"literal\">true</span>)</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyTestableClass</span> </span>&#123;&#125;</span><br><span class=\"line\">MyTestableClass.isTestable <span class=\"comment\">// true</span></span><br><span class=\"line\"></span><br><span class=\"line\">@testable(<span class=\"literal\">false</span>)</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyClass</span> </span>&#123;&#125;</span><br><span class=\"line\">MyClass.isTestable <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n<p>ä¸Šé¢ä»£ç ä¸­ï¼Œè£…é¥°å™¨<code>testable</code>å¯ä»¥æ¥å—å‚æ•°ï¼Œè¿™å°±ç­‰äºå¯ä»¥ä¿®æ”¹è£…é¥°å™¨çš„è¡Œä¸ºã€‚</p>\n<p>æ³¨æ„ï¼Œè£…é¥°å™¨å¯¹ç±»çš„è¡Œä¸ºçš„æ”¹å˜ï¼Œæ˜¯ä»£ç ç¼–è¯‘æ—¶å‘ç”Ÿçš„ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶ã€‚è¿™æ„å‘³ç€ï¼Œè£…é¥°å™¨èƒ½åœ¨ç¼–è¯‘é˜¶æ®µè¿è¡Œä»£ç ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè£…é¥°å™¨æœ¬è´¨å°±æ˜¯ç¼–è¯‘æ—¶æ‰§è¡Œçš„å‡½æ•°ã€‚</p>\n<p>å‰é¢çš„ä¾‹å­æ˜¯ä¸ºç±»æ·»åŠ ä¸€ä¸ªé™æ€å±æ€§ï¼Œå¦‚æœæƒ³æ·»åŠ å®ä¾‹å±æ€§ï¼Œå¯ä»¥é€šè¿‡ç›®æ ‡ç±»çš„<code>prototype</code>å¯¹è±¡æ“ä½œã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testable</span>(<span class=\"params\">target</span>) </span>&#123;</span><br><span class=\"line\">  target.prototype.isTestable = <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">@testable</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyTestableClass</span> </span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = <span class=\"keyword\">new</span> MyTestableClass();</span><br><span class=\"line\">obj.isTestable <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢ä»£ç ä¸­ï¼Œè£…é¥°å™¨å‡½æ•°<code>testable</code>æ˜¯åœ¨ç›®æ ‡ç±»çš„<code>prototype</code>å¯¹è±¡ä¸Šæ·»åŠ å±æ€§ï¼Œå› æ­¤å°±å¯ä»¥åœ¨å®ä¾‹ä¸Šè°ƒç”¨ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">testable</span>(<span class=\"params\">target</span>) </span>&#123;</span><br><span class=\"line\">  target.prototype.isTestable = <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">@testable</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyTestableClass</span> </span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = <span class=\"keyword\">new</span> MyTestableClass();</span><br><span class=\"line\">obj.isTestable <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n\n<ul>\n<li>å®é™…å¼€å‘ä¸­ï¼ŒReact ä¸ Redux åº“ç»“åˆä½¿ç”¨æ—¶</li>\n</ul>\n<p>å¸¸å¸¸éœ€è¦å†™æˆä¸‹é¢è¿™æ ·</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyReactComponent</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span> </span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> connect(mapStateToProps, mapDispatchToProps)(MyReactComponent);</span><br></pre></td></tr></table></figure>\n\n<p>æœ‰äº†è£…é¥°å™¨ï¼Œå°±å¯ä»¥æ”¹å†™ä¸Šé¢çš„ä»£ç ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@connect(mapStateToProps, mapDispatchToProps)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyReactComponent</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"ç±»çš„æ–¹æ³•çš„è£…é¥°å™¨\"><a href=\"#ç±»çš„æ–¹æ³•çš„è£…é¥°å™¨\" class=\"headerlink\" title=\"ç±»çš„æ–¹æ³•çš„è£…é¥°å™¨\"></a>ç±»çš„æ–¹æ³•çš„è£…é¥°å™¨</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">readonly</span>(<span class=\"params\">target, name, descriptor</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// descriptorå¯¹è±¡åŸæ¥çš„å€¼å¦‚ä¸‹</span></span><br><span class=\"line\">  <span class=\"comment\">// &#123;</span></span><br><span class=\"line\">  <span class=\"comment\">//   value: specifiedFunction,</span></span><br><span class=\"line\">  <span class=\"comment\">//   enumerable: false,</span></span><br><span class=\"line\">  <span class=\"comment\">//   configurable: true,</span></span><br><span class=\"line\">  <span class=\"comment\">//   writable: true</span></span><br><span class=\"line\">  <span class=\"comment\">// &#125;;</span></span><br><span class=\"line\">  descriptor.writable = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> descriptor;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">readonly(Person.prototype, <span class=\"string\">'name'</span>, descriptor);</span><br><span class=\"line\"><span class=\"comment\">// ç±»ä¼¼äº</span></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.defineProperty(Person.prototype, <span class=\"string\">'name'</span>, descriptor);</span><br></pre></td></tr></table></figure>\n<p>è£…é¥°å™¨ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç±»çš„åŸå‹å¯¹è±¡ï¼Œä¸Šä¾‹æ˜¯<code>Person.prototype</code>ï¼Œè£…é¥°å™¨çš„æœ¬æ„æ˜¯è¦â€œè£…é¥°â€ç±»çš„å®ä¾‹ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™å®ä¾‹è¿˜æ²¡ç”Ÿæˆï¼Œæ‰€ä»¥åªèƒ½å»è£…é¥°åŸå‹ï¼ˆè¿™ä¸åŒäºç±»çš„è£…é¥°ï¼Œé‚£ç§æƒ…å†µæ—¶<code>target</code>å‚æ•°æŒ‡çš„æ˜¯ç±»æœ¬èº«ï¼‰ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ‰€è¦è£…é¥°çš„å±æ€§åï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯è¯¥å±æ€§çš„æè¿°å¯¹è±¡ã€‚</p>\n<blockquote>\n<p>å…¶ä½™ä½¿ç”¨æ–¹æ³•ä¸ç±»çš„è£…é¥°å™¨ç›¸åŒ(å‚æ•°å˜ä¸º3ä¸ªäº†~)</p>\n</blockquote>\n<h3 id=\"å¤šä¸ªè£…é¥°å™¨\"><a href=\"#å¤šä¸ªè£…é¥°å™¨\" class=\"headerlink\" title=\"å¤šä¸ªè£…é¥°å™¨\"></a>å¤šä¸ªè£…é¥°å™¨</h3><p>å¦‚æœåŒä¸€ä¸ªæ–¹æ³•æœ‰å¤šä¸ªè£…é¥°å™¨ï¼Œä¼šåƒå‰¥æ´‹è‘±ä¸€æ ·ï¼Œå…ˆä»å¤–åˆ°å†…è¿›å…¥ï¼Œç„¶åç”±å†…å‘å¤–æ‰§è¡Œã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">dec</span>(<span class=\"params\">id</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'evaluated'</span>, id);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">target, property, descriptor</span>) =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">'executed'</span>, id);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span> </span>&#123;</span><br><span class=\"line\">    @dec(<span class=\"number\">1</span>)</span><br><span class=\"line\">    @dec(<span class=\"number\">2</span>)</span><br><span class=\"line\">    method()&#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// evaluated 1</span></span><br><span class=\"line\"><span class=\"comment\">// evaluated 2</span></span><br><span class=\"line\"><span class=\"comment\">// executed 2</span></span><br><span class=\"line\"><span class=\"comment\">// executed 1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"è£…é¥°å™¨ä¸èƒ½ä½œç”¨äºå‡½æ•°\"><a href=\"#è£…é¥°å™¨ä¸èƒ½ä½œç”¨äºå‡½æ•°\" class=\"headerlink\" title=\"è£…é¥°å™¨ä¸èƒ½ä½œç”¨äºå‡½æ•°\"></a>è£…é¥°å™¨ä¸èƒ½ä½œç”¨äºå‡½æ•°</h3><p>è£…é¥°å™¨åªèƒ½ç”¨äºç±»å’Œç±»çš„æ–¹æ³•ï¼Œä¸èƒ½ç”¨äºå‡½æ•°ï¼Œå› ä¸ºå­˜åœ¨å‡½æ•°æå‡ã€‚</p>\n<h2 id=\"Reacté«˜é˜¶ç»„ä»¶-HOC\"><a href=\"#Reacté«˜é˜¶ç»„ä»¶-HOC\" class=\"headerlink\" title=\"Reacté«˜é˜¶ç»„ä»¶(HOC)\"></a>Reacté«˜é˜¶ç»„ä»¶(HOC)</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import React from &#39;react&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">export default Component &#x3D;&gt; class extends React.Component &#123;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    return &lt;div style&#x3D;&#123;&#123;cursor: &#39;pointer&#39;, display: &#39;inline-block&#39;&#125;&#125;&gt;</span><br><span class=\"line\">      &lt;Component&#x2F;&gt;</span><br><span class=\"line\">    &lt;&#x2F;div&gt;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¿™ä¸ªè£…é¥°å™¨ï¼ˆé«˜é˜¶ç»„ä»¶ï¼‰æ¥å—ä¸€ä¸ª React ç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„ React ç»„ä»¶ã€‚å®ç°å¾ˆç®€å•ï¼Œå°±æ˜¯åŒ…è£¹äº†ä¸€å±‚ divï¼Œæ·»åŠ äº†ä¸€ä¸ª styleï¼Œå°±è¿™ä¹ˆç®€å•ã€‚ä»¥åæ‰€æœ‰è¢«å®ƒè£…é¥°çš„ç»„ä»¶éƒ½ä¼šå…·æœ‰è¿™ä¸ªç‰¹å¾ã€‚<br>é™¤äº†styleè¿˜å¯ä»¥ä¼ å‚æ•°</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import React from &#39;react&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">export default Component &#x3D;&gt; class extends React.Component &#123;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    return &lt;div test&#x3D;&#123;&#39;qwe&#39;&#125;&gt;</span><br><span class=\"line\">      &lt;Component&#x2F;&gt;</span><br><span class=\"line\">    &lt;&#x2F;div&gt;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ä»¥åæ‰€æœ‰è¢«å®ƒè£…é¥°çš„ç»„ä»¶éƒ½å¯ä»¥ä»<code>props</code>é‡Œé¢è·å–åˆ°<code>test</code>. ä»–çš„å€¼æ˜¯<code>&#39;qwe&#39;</code>ã€‚</p>\n<h2 id=\"æ‰©å±•\"><a href=\"#æ‰©å±•\" class=\"headerlink\" title=\"æ‰©å±•\"></a>æ‰©å±•</h2><p>å‘æŒ¥ä½ çš„æƒ³è±¡, ä½ å¯ä»¥å†™æ— æ•°ä¸ªå¾ˆæ–¹ä¾¿çš„é«˜é˜¶ç»„ä»¶, é€šè¿‡è£…é¥°å™¨çš„æ–¹å¼, è®©ä½ çš„ä»£ç æ›´ç®€æ´, æ›´å¸…</p>\n<p>ç´¢å¼•</p>\n<blockquote>\n<p><a href=\"http://es6.ruanyifeng.com/#docs/decorator\" target=\"_blank\" rel=\"noopener\">http://es6.ruanyifeng.com/#docs/decorator</a></p>\n</blockquote>\n"},{"title":"ant design pro 2.0 æ–°é¡µé¢æ¢ç´¢ umi é¡µé¢404 react","date":"2019-06-19T03:16:30.000Z","cover":"/image/cover/antdP.png","_content":"\n## å‰è¨€\n\n\t\tant design pro 2.0å‘å¸ƒäº†\n\t\n\t\tä½¿ç”¨umiä½œä¸ºè·¯ç”±é…ç½®ï¼Œå…¨è‡ªåŠ¨åŒ–ã€‚\n\n## å¼€å§‹\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](/image/AntDesignProæ¢ç´¢/20190312150742764.png)\n\nè¿™ä¸ªæ˜¯å®˜æ–¹çš„ä»‹ç»ã€‚æ ¹æ®æç¤ºæˆ‘å¼€å§‹åŠ å…¥æˆ‘çš„è·¯ç”±\n\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](/image/AntDesignProæ¢ç´¢/20190312151053807.png)\n\næˆ‘åœ¨æœ€åé¢å¦èµ·ä¸€è¡Œï¼ŒåŠ å…¥äº†æˆ‘çš„æ–°çš„è·¯ç”±ã€‚åå­—å«åšTestã€‚\n\ncomponentæ˜¯ä½ å…·ä½“è·¯ç”±çš„å®é™…ä½ç½®ï¼ˆæ ¹è·¯å¾„æ˜¯pagesï¼‰\n\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](/image/AntDesignProæ¢ç´¢/20190312150929439.png)\n\nCtrl + S\n\nçœ‹æ•ˆæœï¼\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](/image/AntDesignProæ¢ç´¢/2019031215120430.png)\n\n - èœå•æ˜¯å‡ºæ¥äº†\n - ä¸ºä»€ä¹ˆ404ï¼ï¼\n\n é€šè¿‡4ä¸ªå¤šå°æ—¶çš„googleï¼Œåœ¨è¿™ä½å…„å°çš„æŒ‡ç‚¹ä¸‹ã€‚æˆ‘çŸ¥é“äº†ã€‚\n\n\næ–°é¡µé¢è¦å†™åœ¨404ä¹‹å‰ã€‚\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](/image/AntDesignProæ¢ç´¢/2019031215140926.png)\n\næ­£å¸¸çš„æ–°æ‰‹ï¼Œéƒ½æ˜¯åœ¨æœ€ååŠ å…¥ä¸€ä¸ªæ–°çš„è·¯ç”±ã€‚ã€‚ã€‚ä¸çŸ¥é“è¿™ä¸ªå‘çˆ¹çš„é—®é¢˜æ˜¯ä¸ºä»€ä¹ˆã€‚æˆ‘é©¬ä¸Šå»è´¨é—®äº†ä¸€ä¸‹ant design proçš„ä½œè€…ä¹‹ä¸€ã€‚å¾—åˆ°äº†è§£ç­”ï¼ï¼ï¼éå¸¸çš„æ¿€åŠ¨ï¼ï¼\n\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](/image/AntDesignProæ¢ç´¢/2019031215175956.png)\n\n\næ‰€ä»¥æˆ‘ä»¬åªè¦åœ¨404ä¹‹å‰æ·»åŠ æ–°çš„é¡µé¢å°±å¯ä»¥äº†\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](/image/AntDesignProæ¢ç´¢/20190312151839845.png)\n\n\nè¡¥å……ï¼š\næ˜¯å› ä¸ºReact-Routerè§„å®šçš„ã€‚","source":"_posts/ant-design-pro-2-0-æ–°é¡µé¢æ¢ç´¢-umi-é¡µé¢404-react.md","raw":"---\ntitle: ant design pro 2.0 æ–°é¡µé¢æ¢ç´¢ umi é¡µé¢404 react\ndate: 2019-06-19 11:16:30\ntags: [React-Router, UMI, Ant-Design-Pro]\ncategory: [Ant-Design-Pro]\ncover: /image/cover/antdP.png\n---\n\n## å‰è¨€\n\n\t\tant design pro 2.0å‘å¸ƒäº†\n\t\n\t\tä½¿ç”¨umiä½œä¸ºè·¯ç”±é…ç½®ï¼Œå…¨è‡ªåŠ¨åŒ–ã€‚\n\n## å¼€å§‹\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](/image/AntDesignProæ¢ç´¢/20190312150742764.png)\n\nè¿™ä¸ªæ˜¯å®˜æ–¹çš„ä»‹ç»ã€‚æ ¹æ®æç¤ºæˆ‘å¼€å§‹åŠ å…¥æˆ‘çš„è·¯ç”±\n\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](/image/AntDesignProæ¢ç´¢/20190312151053807.png)\n\næˆ‘åœ¨æœ€åé¢å¦èµ·ä¸€è¡Œï¼ŒåŠ å…¥äº†æˆ‘çš„æ–°çš„è·¯ç”±ã€‚åå­—å«åšTestã€‚\n\ncomponentæ˜¯ä½ å…·ä½“è·¯ç”±çš„å®é™…ä½ç½®ï¼ˆæ ¹è·¯å¾„æ˜¯pagesï¼‰\n\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](/image/AntDesignProæ¢ç´¢/20190312150929439.png)\n\nCtrl + S\n\nçœ‹æ•ˆæœï¼\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](/image/AntDesignProæ¢ç´¢/2019031215120430.png)\n\n - èœå•æ˜¯å‡ºæ¥äº†\n - ä¸ºä»€ä¹ˆ404ï¼ï¼\n\n é€šè¿‡4ä¸ªå¤šå°æ—¶çš„googleï¼Œåœ¨è¿™ä½å…„å°çš„æŒ‡ç‚¹ä¸‹ã€‚æˆ‘çŸ¥é“äº†ã€‚\n\n\næ–°é¡µé¢è¦å†™åœ¨404ä¹‹å‰ã€‚\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](/image/AntDesignProæ¢ç´¢/2019031215140926.png)\n\næ­£å¸¸çš„æ–°æ‰‹ï¼Œéƒ½æ˜¯åœ¨æœ€ååŠ å…¥ä¸€ä¸ªæ–°çš„è·¯ç”±ã€‚ã€‚ã€‚ä¸çŸ¥é“è¿™ä¸ªå‘çˆ¹çš„é—®é¢˜æ˜¯ä¸ºä»€ä¹ˆã€‚æˆ‘é©¬ä¸Šå»è´¨é—®äº†ä¸€ä¸‹ant design proçš„ä½œè€…ä¹‹ä¸€ã€‚å¾—åˆ°äº†è§£ç­”ï¼ï¼ï¼éå¸¸çš„æ¿€åŠ¨ï¼ï¼\n\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](/image/AntDesignProæ¢ç´¢/2019031215175956.png)\n\n\næ‰€ä»¥æˆ‘ä»¬åªè¦åœ¨404ä¹‹å‰æ·»åŠ æ–°çš„é¡µé¢å°±å¯ä»¥äº†\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](/image/AntDesignProæ¢ç´¢/20190312151839845.png)\n\n\nè¡¥å……ï¼š\næ˜¯å› ä¸ºReact-Routerè§„å®šçš„ã€‚","slug":"ant-design-pro-2-0-æ–°é¡µé¢æ¢ç´¢-umi-é¡µé¢404-react","published":1,"updated":"2020-04-11T14:06:00.830Z","_id":"ck8vk5izj000eo5vm8eu9egsv","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><pre><code>ant design pro 2.0å‘å¸ƒäº†\n\nä½¿ç”¨umiä½œä¸ºè·¯ç”±é…ç½®ï¼Œå…¨è‡ªåŠ¨åŒ–ã€‚</code></pre><h2 id=\"å¼€å§‹\"><a href=\"#å¼€å§‹\" class=\"headerlink\" title=\"å¼€å§‹\"></a>å¼€å§‹</h2><p><img src=\"/\" class=\"lazyload\" data-src=\"/image/AntDesignPro%E6%8E%A2%E7%B4%A2/20190312150742764.png\"  alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>è¿™ä¸ªæ˜¯å®˜æ–¹çš„ä»‹ç»ã€‚æ ¹æ®æç¤ºæˆ‘å¼€å§‹åŠ å…¥æˆ‘çš„è·¯ç”±</p>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"/image/AntDesignPro%E6%8E%A2%E7%B4%A2/20190312151053807.png\"  alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>æˆ‘åœ¨æœ€åé¢å¦èµ·ä¸€è¡Œï¼ŒåŠ å…¥äº†æˆ‘çš„æ–°çš„è·¯ç”±ã€‚åå­—å«åšTestã€‚</p>\n<p>componentæ˜¯ä½ å…·ä½“è·¯ç”±çš„å®é™…ä½ç½®ï¼ˆæ ¹è·¯å¾„æ˜¯pagesï¼‰</p>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"/image/AntDesignPro%E6%8E%A2%E7%B4%A2/20190312150929439.png\"  alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>Ctrl + S</p>\n<p>çœ‹æ•ˆæœï¼</p>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"/image/AntDesignPro%E6%8E%A2%E7%B4%A2/2019031215120430.png\"  alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<ul>\n<li><p>èœå•æ˜¯å‡ºæ¥äº†</p>\n</li>\n<li><p>ä¸ºä»€ä¹ˆ404ï¼ï¼</p>\n<p>é€šè¿‡4ä¸ªå¤šå°æ—¶çš„googleï¼Œåœ¨è¿™ä½å…„å°çš„æŒ‡ç‚¹ä¸‹ã€‚æˆ‘çŸ¥é“äº†ã€‚</p>\n</li>\n</ul>\n<p>æ–°é¡µé¢è¦å†™åœ¨404ä¹‹å‰ã€‚</p>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"/image/AntDesignPro%E6%8E%A2%E7%B4%A2/2019031215140926.png\"  alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>æ­£å¸¸çš„æ–°æ‰‹ï¼Œéƒ½æ˜¯åœ¨æœ€ååŠ å…¥ä¸€ä¸ªæ–°çš„è·¯ç”±ã€‚ã€‚ã€‚ä¸çŸ¥é“è¿™ä¸ªå‘çˆ¹çš„é—®é¢˜æ˜¯ä¸ºä»€ä¹ˆã€‚æˆ‘é©¬ä¸Šå»è´¨é—®äº†ä¸€ä¸‹ant design proçš„ä½œè€…ä¹‹ä¸€ã€‚å¾—åˆ°äº†è§£ç­”ï¼ï¼ï¼éå¸¸çš„æ¿€åŠ¨ï¼ï¼</p>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"/image/AntDesignPro%E6%8E%A2%E7%B4%A2/2019031215175956.png\"  alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>æ‰€ä»¥æˆ‘ä»¬åªè¦åœ¨404ä¹‹å‰æ·»åŠ æ–°çš„é¡µé¢å°±å¯ä»¥äº†</p>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"/image/AntDesignPro%E6%8E%A2%E7%B4%A2/20190312151839845.png\"  alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>è¡¥å……ï¼š<br>æ˜¯å› ä¸ºReact-Routerè§„å®šçš„ã€‚</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><pre><code>ant design pro 2.0å‘å¸ƒäº†\n\nä½¿ç”¨umiä½œä¸ºè·¯ç”±é…ç½®ï¼Œå…¨è‡ªåŠ¨åŒ–ã€‚</code></pre><h2 id=\"å¼€å§‹\"><a href=\"#å¼€å§‹\" class=\"headerlink\" title=\"å¼€å§‹\"></a>å¼€å§‹</h2><p><img src=\"/image/AntDesignPro%E6%8E%A2%E7%B4%A2/20190312150742764.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>è¿™ä¸ªæ˜¯å®˜æ–¹çš„ä»‹ç»ã€‚æ ¹æ®æç¤ºæˆ‘å¼€å§‹åŠ å…¥æˆ‘çš„è·¯ç”±</p>\n<p><img src=\"/image/AntDesignPro%E6%8E%A2%E7%B4%A2/20190312151053807.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>æˆ‘åœ¨æœ€åé¢å¦èµ·ä¸€è¡Œï¼ŒåŠ å…¥äº†æˆ‘çš„æ–°çš„è·¯ç”±ã€‚åå­—å«åšTestã€‚</p>\n<p>componentæ˜¯ä½ å…·ä½“è·¯ç”±çš„å®é™…ä½ç½®ï¼ˆæ ¹è·¯å¾„æ˜¯pagesï¼‰</p>\n<p><img src=\"/image/AntDesignPro%E6%8E%A2%E7%B4%A2/20190312150929439.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>Ctrl + S</p>\n<p>çœ‹æ•ˆæœï¼</p>\n<p><img src=\"/image/AntDesignPro%E6%8E%A2%E7%B4%A2/2019031215120430.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<ul>\n<li><p>èœå•æ˜¯å‡ºæ¥äº†</p>\n</li>\n<li><p>ä¸ºä»€ä¹ˆ404ï¼ï¼</p>\n<p>é€šè¿‡4ä¸ªå¤šå°æ—¶çš„googleï¼Œåœ¨è¿™ä½å…„å°çš„æŒ‡ç‚¹ä¸‹ã€‚æˆ‘çŸ¥é“äº†ã€‚</p>\n</li>\n</ul>\n<p>æ–°é¡µé¢è¦å†™åœ¨404ä¹‹å‰ã€‚</p>\n<p><img src=\"/image/AntDesignPro%E6%8E%A2%E7%B4%A2/2019031215140926.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>æ­£å¸¸çš„æ–°æ‰‹ï¼Œéƒ½æ˜¯åœ¨æœ€ååŠ å…¥ä¸€ä¸ªæ–°çš„è·¯ç”±ã€‚ã€‚ã€‚ä¸çŸ¥é“è¿™ä¸ªå‘çˆ¹çš„é—®é¢˜æ˜¯ä¸ºä»€ä¹ˆã€‚æˆ‘é©¬ä¸Šå»è´¨é—®äº†ä¸€ä¸‹ant design proçš„ä½œè€…ä¹‹ä¸€ã€‚å¾—åˆ°äº†è§£ç­”ï¼ï¼ï¼éå¸¸çš„æ¿€åŠ¨ï¼ï¼</p>\n<p><img src=\"/image/AntDesignPro%E6%8E%A2%E7%B4%A2/2019031215175956.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>æ‰€ä»¥æˆ‘ä»¬åªè¦åœ¨404ä¹‹å‰æ·»åŠ æ–°çš„é¡µé¢å°±å¯ä»¥äº†</p>\n<p><img src=\"/image/AntDesignPro%E6%8E%A2%E7%B4%A2/20190312151839845.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>è¡¥å……ï¼š<br>æ˜¯å› ä¸ºReact-Routerè§„å®šçš„ã€‚</p>\n"},{"title":"Ant Design Form ç»„ä»¶æ€»ç»“ ç»“åˆModal è‡ªå®šä¹‰Modalçš„å®ç° ï¼ˆUpload Input Select DatePicker Cascaderï¼‰","date":"2019-06-19T02:24:07.000Z","cover":"/image/cover/ANTD.png","_content":"\n## èµ·æº\n\næœ€è¿‘åœ¨é¡¹ç›®ä¸­å‘ç°è¦å†™å¤šä¸ªå¼¹æ¡†ï¼ˆç”¨äºæŸ¥çœ‹ã€ç¼–è¾‘ã€æ–°å»ºXXä¿¡æ¯ï¼‰ï¼Œå¦‚ä¸‹å›¾ã€‚\n\n![æµ‹è¯•å›¾ç‰‡](/image/AntDesignFormæ€»ç»“/modal.png)\n\nåƒè¿™æ ·èŠ±é‡Œèƒ¡å“¨çš„å¼¹æ¡†åœ¨ä¸€ä¸ªå¤§å‹çš„ä¸­å°ç®¡ç†ç³»ç»Ÿä¸­ï¼Œå¯èƒ½è¦å†™ä¸Šå¥½å‡ éçš„Modal\nä½†æ˜¯å…¶å®ä»–ä»¬å¤§åŒå°å¼‚ã€‚\n\né¦–å…ˆï¼Œä»–ä»¬çš„titleæ˜¯å›ºå®šçš„ï¼ˆå¢ã€æ”¹ã€æŸ¥ï¼‰\n\nåº•ä¸‹çš„å†…å®¹ä¹Ÿæ˜¯å›ºå®šçš„ï¼Œæ— éå°±æ˜¯Upload Input Select DatePicker Cascader\n\nï¼ˆå†™ä¸äº†<>ã€‚å…¶å®åº”è¯¥æ˜¯ant design çš„ç»„ä»¶ï¼‰\n\n\n## æ”¹è¿›\n\næ‰€ä»¥æˆ‘æƒ³è‡ªå·±å†™ä¸€ä¸ªModalViewçš„ç»„ä»¶ã€‚åªéœ€è¦ä¼ å…¥è¿™ä¸Šé¢çš„æ•°æ®ç±»å‹ï¼Œtitleä¹‹ç±»çš„æ•°æ®å°±å¯ä»¥å®Œæˆæ¸²æŸ“ã€‚\n\nå¦‚ä¸‹ï¼Œè¿™ä¸ªæ˜¯æˆ‘é¡¹ç›®ä¸­çš„ä¸€ä¸ªä¾‹å­\n\n\n```\n<ModalView \n          onOk={this.edit}     // ç‚¹å‡»Modalç¡®å®šæ—¶çš„å›è°ƒ\n          onCancel={this.hideModal}   // ç‚¹å‡»Modalå–æ¶ˆï¼Œæˆ–è€…ç‚¹å‡»maskæ—¶çš„å›è°ƒ\n          show={visible}        // Modalçš„æ˜¾éš\n          category={category}      // Modalçš„titleï¼Œé€šè¿‡categoryæ¥åˆ¤æ–­ï¼ˆç›®å‰åªæœ‰æŸ¥çœ‹ã€ç¼–è¾‘ã€æ–°å¢ï¼‰\n          data={fStaffManage}     // è‡ªå®šä¹‰Modalçš„æ ¸å¿ƒï¼Œæ•´ä¸ªModalçš„æ¸²æŸ“\n          showData={showData}    // ç‚¹å‡»æŸ¥çœ‹å’Œç¼–è¾‘æ—¶çš„é»˜è®¤æ•°æ®\n/>\n```\n\n\næ¥ä¸‹æ¥æ˜¯fStaffManageçš„æ•°æ®ç»“æ„\n\n\n```\nexport const fStaffManage = [\n  {\n    label: 'å‘˜å·¥ç¼–å·ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰',\n    key: 'id',\n    type: 'input',\n    Message: 'è¯·è¾“å…¥å‘˜å·¥ç¼–å·',\n    disabled: true,\n  },\n  {\n    label: 'é—¨åº—',\n    key: 'storeNo',\n    type: 'select',\n    Message: 'è¯·é€‰æ‹©é—¨åº—',\n    option: [],\n  },\n  {\n    label: 'å‘˜å·¥å§“å',\n    key: 'userName',\n    type: 'input',\n    Message: 'è¯·è¾“å…¥å‘˜å·¥å§“å',\n  },\n  {\n    label: 'è§’è‰²ç±»å‹',\n    key: 'roleCodes',\n    type: 'select',\n    Message: 'è¯·é€‰æ‹©è§’è‰²ç±»å‹',\n    option: [{ severKey: 'åº—å‘˜', showValue: 'åº—å‘˜' }, { severKey: 'åº—é•¿', showValue: 'åº—é•¿' }],\n  },\n  {\n    label: 'è”ç³»ç”µè¯',\n    key: 'mobile',\n    type: 'input',\n    Message: 'è¯·è¾“å…¥è”ç³»ç”µè¯',\n    pattern: '^1[34578]\\\\d{9}$',\n  },\n  {\n    label: 'æµ‹è¯•ä¸Šä¼ å›¾ç‰‡',\n    key: 'testImgUpload',\n    type: 'imageUpload',\n    Message: 'è¯·ä¸Šä¼ å›¾ç‰‡',\n  },\n];\n```\n**Message**  æ˜¯ç”¨äºFormè¡¨å•çš„æç¤ºç”¨äºä»¥åŠplaceholder\n\n**label**   æ˜¯ç”¨äºFormçš„label\n\n**key**   æ˜¯ç”¨äºmapå¾ªç¯æ—¶çš„keyï¼ˆé˜²æ­¢warningå’Œæå‡æ•ˆç‡ï¼‰\n\n**type**   æ˜¯ç”¨äºæ˜¾ç¤ºé‚£ç§ç±»å‹çš„ç»„ä»¶\n\n**pattern**   æ˜¯ç”¨äºFormè¡¨å•æ£€æµ‹çš„æ­£åˆ™è¡¨è¾¾å¼\n\n\n```\n/*\n * @Author: Derrick\n * @Date: 2019-04-04 16:53:05\n * @Last Modified by: Derrick\n * @Last Modified time: 2019-04-28 15:48:04\n */\nimport React, { PureComponent } from 'react';\nimport { Modal, Form, Button, Table, Upload, message, Row, Select } from 'antd';\nimport { connect } from 'dva';\nimport PropTypes from 'prop-types';\nimport componentAuth from '@/common/ComponentAuth';\nimport FormSelect from '@/common/FormItems/FormSelect';\nimport FormInput from '@/common/FormItems/FormInput';\nimport FormDataPicker from '@/common/FormItems/FormDataPicker';\nimport FormCascader from '@/common/FormItems/FormCascader';\nimport FormTextArea from '@/common/FormItems/FormTextArea';\nimport FormImageUpload from '@/common/FormItems/FormImageUpload';\nimport { HEADER_BASE, SEVER_URL_BASE } from '@/utils/constant';\nimport Col from 'antd/es/col';\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 5 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 16 },\n  },\n};\nconst { Item } = Form;\nconst { Option } = Select;\n\n@connect(({ mIdentifyCenter }) => ({\n  mIdentifyCenter\n}))\nclass ModalView extends PureComponent {\n  state = {\n    data: [],\n    storeId: '',\n  };\n\n  // è¿”å›title\n  caseCategory = category => {\n    switch (category) {\n      case 'check':\n        return { title: 'æŸ¥çœ‹' };\n      case 'import':\n        return { title: 'å¯¼å…¥', import: true };\n      case 'create':\n        return { title: 'æ–°å¢' };\n      case 'edit':\n        return { title: 'ç¼–è¾‘' };\n      default:\n        return { title: 'æŸ¥çœ‹' };\n    }\n  };\n\n  showLabel = (type, label) => {\n    const { category } = this.props;\n\n    if (category === 'search') {\n      if (type !== 'datePicker') {\n        return undefined;\n      }\n      return label;\n    }\n    return label;\n  };\n\n  showRequire = disabled => {\n    const { category } = this.props;\n    if (category === 'search') {\n      return false;\n    }\n    if (disabled) {\n      return false;\n    }\n    return true;\n  };\n\n  form = () => {\n    const {\n      form: { getFieldDecorator },\n      data,\n      showData,\n      category,\n    } = this.props;\n\n    let ShowType;\n\n    return data.map(value => {\n      const { label, key, type, Message, option, disabled, pattern } = value;\n      if (!value) {\n        return null;\n      }\n      switch (type) {\n        case 'input':\n          ShowType = FormInput;\n          break;\n        case 'select':\n          ShowType = FormSelect;\n          break;\n        case 'datePicker':\n          ShowType = FormDataPicker;\n          break;\n        case 'cascader':\n          ShowType = FormCascader;\n          showData.region = [showData.provinceId, showData.cityId, showData.countyId];\n          break;\n        case 'textArea':\n          ShowType = FormTextArea;\n          break;\n        case 'imageUpload':\n          ShowType = FormImageUpload;\n          break;\n        default:\n          ShowType = null;\n      }\n      return (\n        <Item label={this.showLabel(type, label)} key={key}>\n          {getFieldDecorator(key, {\n            rules: [\n              {\n                required: this.showRequire(disabled),\n                message: Message,\n                pattern: pattern || undefined,\n                type: type === 'cascader' ? 'array' : 'string',\n              },\n            ],\n            initialValue: showData[key] ? showData[key] : undefined,\n          })(\n            <ShowType\n              option={option}\n              message={Message}\n              disabled={!!(disabled || category === 'check')}\n            />\n          )}\n        </Item>\n      );\n    });\n  };\n\n  checkOk = () => {\n    const { onOk, form } = this.props;\n    form.validateFields((err, fieldsValue) => {\n      if (!err) {\n        onOk(fieldsValue);\n      }\n    });\n  };\n  \n  closeModal = () => {\n    const { onCancel, form: { resetFields } } = this.props;\n    resetFields();\n    onCancel();\n  }\n\n  render() {\n    const { data } = this.state;\n    const { show, category = '', importColums, downloadUrl } = this.props;\n    const modalData = this.caseCategory(category);\n    return (\n      <Modal\n        visible={show}\n        onCancel={this.closeModal}\n        onOk={category === 'import' ? this.importOk : this.checkOk}\n        title={modalData.title}\n        width=\"70%\"\n        footer={modalData.title === 'æŸ¥çœ‹' ? null : undefined}\n      >\n          <Form style={{ paddingTop: '20px' }} {...formItemLayout}>\n            {this.form()}\n          </Form>\n      </Modal>\n    );\n  }\n}\n\nModalView.propTypes = {\n  onOk: PropTypes.func.isRequired, // å¼¹æ¡†ç‚¹å‡»ç¡®å®š\n  onCancel: PropTypes.func.isRequired, // éšè—å¼¹æ¡†\n  show: PropTypes.bool, // æ˜¯å¦æ˜¾ç¤ºå¼¹çª—\n  category: PropTypes.string, // å¼¹æ¡†çš„ç±»å‹ï¼ˆtitleæ˜¾ç¤º\n  data: PropTypes.arrayOf(PropTypes.object).isRequired, // æ•°æ®ç±»å‹; ä½ç½®:'@/common/constant/sormView.js' è®°å¾—å†™æ³¨é‡Š; æ ¼å¼: `s${æ–‡ä»¶å}`\n  showData: PropTypes.object, // æŸ¥çœ‹æˆ–è€…ç¼–è¾‘æ—¶çš„é»˜è®¤æ•°æ®\n  importCallBack: PropTypes.func, // å¯¼å…¥ä¹‹åï¼Œç‚¹å‡»ç¡®å®šçš„å›è°ƒå‡½æ•°\n  importColums: PropTypes.array, // å¯¼å…¥æ—¶å€™æ˜¾ç¤ºè¡¨æ ¼çš„è¡¨å¤´\n  downloadUrl: PropTypes.string, // ä¸‹è½½çš„æ¨¡æ¿çš„æ–‡ä»¶å\n};\n\nModalView.defaultProps = {\n  show: false,\n  category: 'check',\n  showData: {},\n  importCallBack: () => {},\n  importColums: [],\n  downloadUrl: '',\n};\n\nexport default Form.create()(ModalView);\n```\n\n - **FormCascader**\n\n```\n/*\n * @Author: Derrick \n * @Date: 2019-04-11 09:57:54 \n * @Last Modified by: Derrick\n * @Last Modified time: 2019-04-28 16:52:57\n */\nimport React, { Component } from 'react';\nimport { Cascader } from 'antd';\nimport PropTypes from 'prop-types';\nimport regionData from '@/constant/regionData'\n\nclass FormCascader extends Component {\n\n  change = (e) => {\n    const {onChange} = this.props;\n    onChange(e)\n  }\n\n  render() {\n    const {value, disabled, message} = this.props;\n    return (\n      <Cascader placeholder={message} options={regionData} disabled={disabled} value={value} onChange={this.change} />\n    );\n  }\n}\n\nFormCascader.propsType = {\n  disabled: PropTypes.bool, // æ˜¯å¦ä¸å¯é€‰\n  message: PropTypes.string, // é»˜è®¤æ–‡å­—ï¼ˆplaceholder\n}\n\nFormCascader.defalutProps = {\n  disabled: false,\n  message: '',\n}\n\nexport default FormCascader;\n```\n\n - **FormDataPicker**\n\n```\n/*\n * @Author: Derrick \n * @Date: 2019-04-10 10:57:08 \n * @Last Modified by: Derrick\n * @Last Modified time: 2019-04-15 14:28:40\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { DatePicker } from 'antd';\n\nclass FormDataPicker extends Component {\n\n  change = (e) => {\n    const {onChange} = this.props\n    onChange(e)\n  }\n\n  render() {\n    const {value, disabled} = this.props;\n    return (\n      <DatePicker disabled={disabled} value={value} onChange={this.change} />\n      );\n  }\n}\n\nFormDataPicker.propsType = {\n  disabled: PropTypes.bool, // æ˜¯å¦ä¸å¯é€‰\n}\n\nFormDataPicker.defalutProps = {\n  disabled: false,\n}\n\nexport default FormDataPicker;\n```\n\n - **FormImageUpload**\n\n```\n/*\n * @Author: Derrick \n * @Date: 2019-04-26 14:20:20 \n * @Last Modified by: Derrick\n * @Last Modified time: 2019-04-28 18:11:44\n */\nimport React, { PureComponent } from 'react';\nimport { Upload, Icon, message } from 'antd';\nimport { PICTURE_UPLOAD, HEADER_BASE } from '@/utils/constant';\n\nclass FormImageUpload extends PureComponent {\n\n  state = {\n    loading: false,\n  };\n\n  uploadButton = () => {\n    const { loading } = this.state;\n    return (\n      <div>\n        <Icon type={loading ? 'loading' : 'plus'} />\n        <div className=\"ant-upload-text\">Upload</div>\n      </div>\n    )\n  }\n\n  handleChange = (info) => {\n    if (info.file.status === 'uploading') {\n      this.setState({ loading: true });\n      return;\n    }\n    if (info.file.status === 'done') {\n      const {onChange} = this.props\n      this.setState({imageUrl: info.file.response.data[0], loading: false,})\n      onChange(info.file.response.data[0])\n    }\n  }\n\n  beforeUpload = (file) => {\n    const isJPG = file.type === 'image/jpeg';\n    if (!isJPG) {\n      message.error('åªèƒ½ä¸Šä¼ JPGçš„å›¾ç‰‡!');\n    }\n    const isLt2M = file.size / 1024 / 1024 < 2;\n    if (!isLt2M) {\n      message.error('å›¾ç‰‡å¤§å°ä¸èƒ½å¤§äº2MB!');\n    }\n    return isJPG && isLt2M;\n  }\n\n  upLoadProps = () => {\n    HEADER_BASE.user_id = window.sessionStorage.getItem('userId');\n    HEADER_BASE.token_id = window.sessionStorage.getItem('tokenId');\n    const props = {\n      name: 'file',\n      action: PICTURE_UPLOAD,\n      headers: HEADER_BASE,\n      onChange: this.handleChange,\n      showUploadList: false,\n      beforeUpload: this.beforeUpload,\n    };\n    return props;\n  };\n\n  render() {\n    \n    const { imageUrl } = this.state;\n\n    return (\n      <Upload\n        listType=\"picture-card\"\n        {...this.upLoadProps()}\n\n      >\n        {imageUrl ? <img src={imageUrl} alt=\"avatar\" /> : this.uploadButton()}\n      </Upload>\n    )\n  }\n}\n\nexport default FormImageUpload;\n```\n\n - **FormInput**\n\n```\n/*\n * @Author: Derrick \n * @Date: 2019-04-10 10:57:08 \n * @Last Modified by: Derrick\n * @Last Modified time: 2019-04-15 14:46:23\n */\nimport React, { Component } from 'react';\nimport { Input } from 'antd';\nimport PropTypes from 'prop-types';\n\nclass FormInput extends Component {\n\n  change = (e) => {\n    const {onChange} = this.props;\n    onChange(e)\n  }\n\n  render() {\n    const {message, value, disabled} = this.props;\n    return (\n      <Input disabled={disabled} placeholder={message} value={value} onChange={this.change} />\n      );\n  }\n}\n\nFormInput.propsType = {\n  disabled: PropTypes.bool, // æ˜¯å¦ä¸å¯é€‰\n  message: PropTypes.string, // é»˜è®¤æ–‡å­—ï¼ˆplaceholder\n}\n\nFormInput.defalutProps = {\n  disabled: false,\n  message: '',\n}\n\nexport default FormInput;\n```\n\n\n - **FormSelect**\n\n\n```\n/*\n * @Author: Derrick \n * @Date: 2019-04-10 10:13:58 \n * @Last Modified by: Derrick\n * @Last Modified time: 2019-04-28 15:59:22\n */\nimport React, { Component } from 'react';\nimport { Select } from 'antd';\nimport PropTypes, { object } from 'prop-types';\n\nconst { Option } = Select;\nclass FormSelect extends Component {\n\n  option = () => {\n    const {option = []} = this.props;\n    return option.map((v) => {\n      const {showValue, severKey} = v;\n      return <Option value={severKey} key={severKey}>{showValue}</Option>\n    })\n  }\n\n  selectCurrency = (e) => {\n    const {onChange} = this.props\n    onChange(e)\n  }\n\n  render() {\n    const {message, value, disabled} = this.props;\n    return (\n      <Select disabled={disabled} value={value} placeholder={message} style={{width: '170px'}} onSelect={this.selectCurrency}>\n        {this.option()}\n      </Select>    \n      );\n  }\n}\n\nFormSelect.propsType = {\n  disabled: PropTypes.bool, // æ˜¯å¦ä¸å¯é€‰\n  message: PropTypes.string, // é»˜è®¤æ–‡å­—ï¼ˆplaceholder\n  option: PropTypes.arrayOf(object), // é€‰æ‹©æ¡†çš„é€‰é¡¹\n}\n\nFormSelect.defalutProps = {\n  disabled: false,\n  message: '',\n  option: [],\n}\n\nexport default FormSelect;\n```\n\n - **FormTextArea**\n\n```\n/*\n * @Author: Derrick \n * @Date: 2019-04-23 10:20:36 \n * @Last Modified by: Derrick\n * @Last Modified time: 2019-04-23 10:21:33\n */\nimport React, { Component } from 'react';\nimport { Input } from 'antd';\nimport PropTypes from 'prop-types';\n\nconst { TextArea } = Input;\nclass FormTextArea extends Component {\n\n  change = (e) => {\n    const {onChange} = this.props;\n    onChange(e)\n  }\n\n  render() {\n    const {message, value, disabled} = this.props;\n    return (\n      <TextArea rows={4} disabled={disabled} placeholder={message} value={value} onChange={this.change} />\n      );\n  }\n}\n\nFormTextArea.propsType = {\n  disabled: PropTypes.bool, // æ˜¯å¦ä¸å¯é€‰\n  message: PropTypes.string, // é»˜è®¤æ–‡å­—ï¼ˆplaceholder\n}\n\nFormTextArea.defalutProps = {\n  disabled: false,\n  message: '',\n}\n\nexport default FormTextArea;\n```\n\n\n## æ ¸å¿ƒ\n\n\n```\nconst {onChange} = this.props;\nonChange(XX)\n```\n\n\nè¿™ä¸ªonChangeæ˜¯å¯ä»¥ç›´æ¥æ”¹å˜FormItemçš„å€¼ã€‚\n\næ¥ä¸‹æ¥å¯ä»¥åŠ å…¥æ‚¨è‡ªå·±å–œæ¬¢çš„ç»„ä»¶ï¼Œéƒ½æ˜¯å¤§åŒå°å¼‚ï¼ŒåŸºæœ¬ä¸Šéƒ½ç¦»ä¸å¼€è¿™ä¸ªonChangeã€‚\n\n\nä»¥ä¸Šå°±æ˜¯æœ¬äººæœ€è¿‘å°è£…çš„ä¸€ä¸ªç»„ä»¶ï¼Œæˆ‘æ„Ÿè§‰å¾ˆå¥½ç”¨æ‰€ä»¥æƒ³åˆ†äº«å‡ºæ¥ã€‚\n","source":"_posts/ant-design-Form-ç»„ä»¶æ€»ç»“-ç»“åˆModal-è‡ªå®šä¹‰Modalçš„å®ç°-ï¼ˆUpload-Input-Select-DatePicker-Cascaderï¼‰.md","raw":"---\ntitle: >-\n  Ant Design Form ç»„ä»¶æ€»ç»“ ç»“åˆModal è‡ªå®šä¹‰Modalçš„å®ç° ï¼ˆUpload Input Select DatePicker\n  Cascaderï¼‰\ndate: 2019-06-19 10:24:07\ntags: [Ant-Design-Form, Ant-Designç»„ä»¶åˆé›†]\ncategory: [Ant-Design, JavaScript]\ncover: /image/cover/ANTD.png\n---\n\n## èµ·æº\n\næœ€è¿‘åœ¨é¡¹ç›®ä¸­å‘ç°è¦å†™å¤šä¸ªå¼¹æ¡†ï¼ˆç”¨äºæŸ¥çœ‹ã€ç¼–è¾‘ã€æ–°å»ºXXä¿¡æ¯ï¼‰ï¼Œå¦‚ä¸‹å›¾ã€‚\n\n![æµ‹è¯•å›¾ç‰‡](/image/AntDesignFormæ€»ç»“/modal.png)\n\nåƒè¿™æ ·èŠ±é‡Œèƒ¡å“¨çš„å¼¹æ¡†åœ¨ä¸€ä¸ªå¤§å‹çš„ä¸­å°ç®¡ç†ç³»ç»Ÿä¸­ï¼Œå¯èƒ½è¦å†™ä¸Šå¥½å‡ éçš„Modal\nä½†æ˜¯å…¶å®ä»–ä»¬å¤§åŒå°å¼‚ã€‚\n\né¦–å…ˆï¼Œä»–ä»¬çš„titleæ˜¯å›ºå®šçš„ï¼ˆå¢ã€æ”¹ã€æŸ¥ï¼‰\n\nåº•ä¸‹çš„å†…å®¹ä¹Ÿæ˜¯å›ºå®šçš„ï¼Œæ— éå°±æ˜¯Upload Input Select DatePicker Cascader\n\nï¼ˆå†™ä¸äº†<>ã€‚å…¶å®åº”è¯¥æ˜¯ant design çš„ç»„ä»¶ï¼‰\n\n\n## æ”¹è¿›\n\næ‰€ä»¥æˆ‘æƒ³è‡ªå·±å†™ä¸€ä¸ªModalViewçš„ç»„ä»¶ã€‚åªéœ€è¦ä¼ å…¥è¿™ä¸Šé¢çš„æ•°æ®ç±»å‹ï¼Œtitleä¹‹ç±»çš„æ•°æ®å°±å¯ä»¥å®Œæˆæ¸²æŸ“ã€‚\n\nå¦‚ä¸‹ï¼Œè¿™ä¸ªæ˜¯æˆ‘é¡¹ç›®ä¸­çš„ä¸€ä¸ªä¾‹å­\n\n\n```\n<ModalView \n          onOk={this.edit}     // ç‚¹å‡»Modalç¡®å®šæ—¶çš„å›è°ƒ\n          onCancel={this.hideModal}   // ç‚¹å‡»Modalå–æ¶ˆï¼Œæˆ–è€…ç‚¹å‡»maskæ—¶çš„å›è°ƒ\n          show={visible}        // Modalçš„æ˜¾éš\n          category={category}      // Modalçš„titleï¼Œé€šè¿‡categoryæ¥åˆ¤æ–­ï¼ˆç›®å‰åªæœ‰æŸ¥çœ‹ã€ç¼–è¾‘ã€æ–°å¢ï¼‰\n          data={fStaffManage}     // è‡ªå®šä¹‰Modalçš„æ ¸å¿ƒï¼Œæ•´ä¸ªModalçš„æ¸²æŸ“\n          showData={showData}    // ç‚¹å‡»æŸ¥çœ‹å’Œç¼–è¾‘æ—¶çš„é»˜è®¤æ•°æ®\n/>\n```\n\n\næ¥ä¸‹æ¥æ˜¯fStaffManageçš„æ•°æ®ç»“æ„\n\n\n```\nexport const fStaffManage = [\n  {\n    label: 'å‘˜å·¥ç¼–å·ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰',\n    key: 'id',\n    type: 'input',\n    Message: 'è¯·è¾“å…¥å‘˜å·¥ç¼–å·',\n    disabled: true,\n  },\n  {\n    label: 'é—¨åº—',\n    key: 'storeNo',\n    type: 'select',\n    Message: 'è¯·é€‰æ‹©é—¨åº—',\n    option: [],\n  },\n  {\n    label: 'å‘˜å·¥å§“å',\n    key: 'userName',\n    type: 'input',\n    Message: 'è¯·è¾“å…¥å‘˜å·¥å§“å',\n  },\n  {\n    label: 'è§’è‰²ç±»å‹',\n    key: 'roleCodes',\n    type: 'select',\n    Message: 'è¯·é€‰æ‹©è§’è‰²ç±»å‹',\n    option: [{ severKey: 'åº—å‘˜', showValue: 'åº—å‘˜' }, { severKey: 'åº—é•¿', showValue: 'åº—é•¿' }],\n  },\n  {\n    label: 'è”ç³»ç”µè¯',\n    key: 'mobile',\n    type: 'input',\n    Message: 'è¯·è¾“å…¥è”ç³»ç”µè¯',\n    pattern: '^1[34578]\\\\d{9}$',\n  },\n  {\n    label: 'æµ‹è¯•ä¸Šä¼ å›¾ç‰‡',\n    key: 'testImgUpload',\n    type: 'imageUpload',\n    Message: 'è¯·ä¸Šä¼ å›¾ç‰‡',\n  },\n];\n```\n**Message**  æ˜¯ç”¨äºFormè¡¨å•çš„æç¤ºç”¨äºä»¥åŠplaceholder\n\n**label**   æ˜¯ç”¨äºFormçš„label\n\n**key**   æ˜¯ç”¨äºmapå¾ªç¯æ—¶çš„keyï¼ˆé˜²æ­¢warningå’Œæå‡æ•ˆç‡ï¼‰\n\n**type**   æ˜¯ç”¨äºæ˜¾ç¤ºé‚£ç§ç±»å‹çš„ç»„ä»¶\n\n**pattern**   æ˜¯ç”¨äºFormè¡¨å•æ£€æµ‹çš„æ­£åˆ™è¡¨è¾¾å¼\n\n\n```\n/*\n * @Author: Derrick\n * @Date: 2019-04-04 16:53:05\n * @Last Modified by: Derrick\n * @Last Modified time: 2019-04-28 15:48:04\n */\nimport React, { PureComponent } from 'react';\nimport { Modal, Form, Button, Table, Upload, message, Row, Select } from 'antd';\nimport { connect } from 'dva';\nimport PropTypes from 'prop-types';\nimport componentAuth from '@/common/ComponentAuth';\nimport FormSelect from '@/common/FormItems/FormSelect';\nimport FormInput from '@/common/FormItems/FormInput';\nimport FormDataPicker from '@/common/FormItems/FormDataPicker';\nimport FormCascader from '@/common/FormItems/FormCascader';\nimport FormTextArea from '@/common/FormItems/FormTextArea';\nimport FormImageUpload from '@/common/FormItems/FormImageUpload';\nimport { HEADER_BASE, SEVER_URL_BASE } from '@/utils/constant';\nimport Col from 'antd/es/col';\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 5 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 16 },\n  },\n};\nconst { Item } = Form;\nconst { Option } = Select;\n\n@connect(({ mIdentifyCenter }) => ({\n  mIdentifyCenter\n}))\nclass ModalView extends PureComponent {\n  state = {\n    data: [],\n    storeId: '',\n  };\n\n  // è¿”å›title\n  caseCategory = category => {\n    switch (category) {\n      case 'check':\n        return { title: 'æŸ¥çœ‹' };\n      case 'import':\n        return { title: 'å¯¼å…¥', import: true };\n      case 'create':\n        return { title: 'æ–°å¢' };\n      case 'edit':\n        return { title: 'ç¼–è¾‘' };\n      default:\n        return { title: 'æŸ¥çœ‹' };\n    }\n  };\n\n  showLabel = (type, label) => {\n    const { category } = this.props;\n\n    if (category === 'search') {\n      if (type !== 'datePicker') {\n        return undefined;\n      }\n      return label;\n    }\n    return label;\n  };\n\n  showRequire = disabled => {\n    const { category } = this.props;\n    if (category === 'search') {\n      return false;\n    }\n    if (disabled) {\n      return false;\n    }\n    return true;\n  };\n\n  form = () => {\n    const {\n      form: { getFieldDecorator },\n      data,\n      showData,\n      category,\n    } = this.props;\n\n    let ShowType;\n\n    return data.map(value => {\n      const { label, key, type, Message, option, disabled, pattern } = value;\n      if (!value) {\n        return null;\n      }\n      switch (type) {\n        case 'input':\n          ShowType = FormInput;\n          break;\n        case 'select':\n          ShowType = FormSelect;\n          break;\n        case 'datePicker':\n          ShowType = FormDataPicker;\n          break;\n        case 'cascader':\n          ShowType = FormCascader;\n          showData.region = [showData.provinceId, showData.cityId, showData.countyId];\n          break;\n        case 'textArea':\n          ShowType = FormTextArea;\n          break;\n        case 'imageUpload':\n          ShowType = FormImageUpload;\n          break;\n        default:\n          ShowType = null;\n      }\n      return (\n        <Item label={this.showLabel(type, label)} key={key}>\n          {getFieldDecorator(key, {\n            rules: [\n              {\n                required: this.showRequire(disabled),\n                message: Message,\n                pattern: pattern || undefined,\n                type: type === 'cascader' ? 'array' : 'string',\n              },\n            ],\n            initialValue: showData[key] ? showData[key] : undefined,\n          })(\n            <ShowType\n              option={option}\n              message={Message}\n              disabled={!!(disabled || category === 'check')}\n            />\n          )}\n        </Item>\n      );\n    });\n  };\n\n  checkOk = () => {\n    const { onOk, form } = this.props;\n    form.validateFields((err, fieldsValue) => {\n      if (!err) {\n        onOk(fieldsValue);\n      }\n    });\n  };\n  \n  closeModal = () => {\n    const { onCancel, form: { resetFields } } = this.props;\n    resetFields();\n    onCancel();\n  }\n\n  render() {\n    const { data } = this.state;\n    const { show, category = '', importColums, downloadUrl } = this.props;\n    const modalData = this.caseCategory(category);\n    return (\n      <Modal\n        visible={show}\n        onCancel={this.closeModal}\n        onOk={category === 'import' ? this.importOk : this.checkOk}\n        title={modalData.title}\n        width=\"70%\"\n        footer={modalData.title === 'æŸ¥çœ‹' ? null : undefined}\n      >\n          <Form style={{ paddingTop: '20px' }} {...formItemLayout}>\n            {this.form()}\n          </Form>\n      </Modal>\n    );\n  }\n}\n\nModalView.propTypes = {\n  onOk: PropTypes.func.isRequired, // å¼¹æ¡†ç‚¹å‡»ç¡®å®š\n  onCancel: PropTypes.func.isRequired, // éšè—å¼¹æ¡†\n  show: PropTypes.bool, // æ˜¯å¦æ˜¾ç¤ºå¼¹çª—\n  category: PropTypes.string, // å¼¹æ¡†çš„ç±»å‹ï¼ˆtitleæ˜¾ç¤º\n  data: PropTypes.arrayOf(PropTypes.object).isRequired, // æ•°æ®ç±»å‹; ä½ç½®:'@/common/constant/sormView.js' è®°å¾—å†™æ³¨é‡Š; æ ¼å¼: `s${æ–‡ä»¶å}`\n  showData: PropTypes.object, // æŸ¥çœ‹æˆ–è€…ç¼–è¾‘æ—¶çš„é»˜è®¤æ•°æ®\n  importCallBack: PropTypes.func, // å¯¼å…¥ä¹‹åï¼Œç‚¹å‡»ç¡®å®šçš„å›è°ƒå‡½æ•°\n  importColums: PropTypes.array, // å¯¼å…¥æ—¶å€™æ˜¾ç¤ºè¡¨æ ¼çš„è¡¨å¤´\n  downloadUrl: PropTypes.string, // ä¸‹è½½çš„æ¨¡æ¿çš„æ–‡ä»¶å\n};\n\nModalView.defaultProps = {\n  show: false,\n  category: 'check',\n  showData: {},\n  importCallBack: () => {},\n  importColums: [],\n  downloadUrl: '',\n};\n\nexport default Form.create()(ModalView);\n```\n\n - **FormCascader**\n\n```\n/*\n * @Author: Derrick \n * @Date: 2019-04-11 09:57:54 \n * @Last Modified by: Derrick\n * @Last Modified time: 2019-04-28 16:52:57\n */\nimport React, { Component } from 'react';\nimport { Cascader } from 'antd';\nimport PropTypes from 'prop-types';\nimport regionData from '@/constant/regionData'\n\nclass FormCascader extends Component {\n\n  change = (e) => {\n    const {onChange} = this.props;\n    onChange(e)\n  }\n\n  render() {\n    const {value, disabled, message} = this.props;\n    return (\n      <Cascader placeholder={message} options={regionData} disabled={disabled} value={value} onChange={this.change} />\n    );\n  }\n}\n\nFormCascader.propsType = {\n  disabled: PropTypes.bool, // æ˜¯å¦ä¸å¯é€‰\n  message: PropTypes.string, // é»˜è®¤æ–‡å­—ï¼ˆplaceholder\n}\n\nFormCascader.defalutProps = {\n  disabled: false,\n  message: '',\n}\n\nexport default FormCascader;\n```\n\n - **FormDataPicker**\n\n```\n/*\n * @Author: Derrick \n * @Date: 2019-04-10 10:57:08 \n * @Last Modified by: Derrick\n * @Last Modified time: 2019-04-15 14:28:40\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { DatePicker } from 'antd';\n\nclass FormDataPicker extends Component {\n\n  change = (e) => {\n    const {onChange} = this.props\n    onChange(e)\n  }\n\n  render() {\n    const {value, disabled} = this.props;\n    return (\n      <DatePicker disabled={disabled} value={value} onChange={this.change} />\n      );\n  }\n}\n\nFormDataPicker.propsType = {\n  disabled: PropTypes.bool, // æ˜¯å¦ä¸å¯é€‰\n}\n\nFormDataPicker.defalutProps = {\n  disabled: false,\n}\n\nexport default FormDataPicker;\n```\n\n - **FormImageUpload**\n\n```\n/*\n * @Author: Derrick \n * @Date: 2019-04-26 14:20:20 \n * @Last Modified by: Derrick\n * @Last Modified time: 2019-04-28 18:11:44\n */\nimport React, { PureComponent } from 'react';\nimport { Upload, Icon, message } from 'antd';\nimport { PICTURE_UPLOAD, HEADER_BASE } from '@/utils/constant';\n\nclass FormImageUpload extends PureComponent {\n\n  state = {\n    loading: false,\n  };\n\n  uploadButton = () => {\n    const { loading } = this.state;\n    return (\n      <div>\n        <Icon type={loading ? 'loading' : 'plus'} />\n        <div className=\"ant-upload-text\">Upload</div>\n      </div>\n    )\n  }\n\n  handleChange = (info) => {\n    if (info.file.status === 'uploading') {\n      this.setState({ loading: true });\n      return;\n    }\n    if (info.file.status === 'done') {\n      const {onChange} = this.props\n      this.setState({imageUrl: info.file.response.data[0], loading: false,})\n      onChange(info.file.response.data[0])\n    }\n  }\n\n  beforeUpload = (file) => {\n    const isJPG = file.type === 'image/jpeg';\n    if (!isJPG) {\n      message.error('åªèƒ½ä¸Šä¼ JPGçš„å›¾ç‰‡!');\n    }\n    const isLt2M = file.size / 1024 / 1024 < 2;\n    if (!isLt2M) {\n      message.error('å›¾ç‰‡å¤§å°ä¸èƒ½å¤§äº2MB!');\n    }\n    return isJPG && isLt2M;\n  }\n\n  upLoadProps = () => {\n    HEADER_BASE.user_id = window.sessionStorage.getItem('userId');\n    HEADER_BASE.token_id = window.sessionStorage.getItem('tokenId');\n    const props = {\n      name: 'file',\n      action: PICTURE_UPLOAD,\n      headers: HEADER_BASE,\n      onChange: this.handleChange,\n      showUploadList: false,\n      beforeUpload: this.beforeUpload,\n    };\n    return props;\n  };\n\n  render() {\n    \n    const { imageUrl } = this.state;\n\n    return (\n      <Upload\n        listType=\"picture-card\"\n        {...this.upLoadProps()}\n\n      >\n        {imageUrl ? <img src={imageUrl} alt=\"avatar\" /> : this.uploadButton()}\n      </Upload>\n    )\n  }\n}\n\nexport default FormImageUpload;\n```\n\n - **FormInput**\n\n```\n/*\n * @Author: Derrick \n * @Date: 2019-04-10 10:57:08 \n * @Last Modified by: Derrick\n * @Last Modified time: 2019-04-15 14:46:23\n */\nimport React, { Component } from 'react';\nimport { Input } from 'antd';\nimport PropTypes from 'prop-types';\n\nclass FormInput extends Component {\n\n  change = (e) => {\n    const {onChange} = this.props;\n    onChange(e)\n  }\n\n  render() {\n    const {message, value, disabled} = this.props;\n    return (\n      <Input disabled={disabled} placeholder={message} value={value} onChange={this.change} />\n      );\n  }\n}\n\nFormInput.propsType = {\n  disabled: PropTypes.bool, // æ˜¯å¦ä¸å¯é€‰\n  message: PropTypes.string, // é»˜è®¤æ–‡å­—ï¼ˆplaceholder\n}\n\nFormInput.defalutProps = {\n  disabled: false,\n  message: '',\n}\n\nexport default FormInput;\n```\n\n\n - **FormSelect**\n\n\n```\n/*\n * @Author: Derrick \n * @Date: 2019-04-10 10:13:58 \n * @Last Modified by: Derrick\n * @Last Modified time: 2019-04-28 15:59:22\n */\nimport React, { Component } from 'react';\nimport { Select } from 'antd';\nimport PropTypes, { object } from 'prop-types';\n\nconst { Option } = Select;\nclass FormSelect extends Component {\n\n  option = () => {\n    const {option = []} = this.props;\n    return option.map((v) => {\n      const {showValue, severKey} = v;\n      return <Option value={severKey} key={severKey}>{showValue}</Option>\n    })\n  }\n\n  selectCurrency = (e) => {\n    const {onChange} = this.props\n    onChange(e)\n  }\n\n  render() {\n    const {message, value, disabled} = this.props;\n    return (\n      <Select disabled={disabled} value={value} placeholder={message} style={{width: '170px'}} onSelect={this.selectCurrency}>\n        {this.option()}\n      </Select>    \n      );\n  }\n}\n\nFormSelect.propsType = {\n  disabled: PropTypes.bool, // æ˜¯å¦ä¸å¯é€‰\n  message: PropTypes.string, // é»˜è®¤æ–‡å­—ï¼ˆplaceholder\n  option: PropTypes.arrayOf(object), // é€‰æ‹©æ¡†çš„é€‰é¡¹\n}\n\nFormSelect.defalutProps = {\n  disabled: false,\n  message: '',\n  option: [],\n}\n\nexport default FormSelect;\n```\n\n - **FormTextArea**\n\n```\n/*\n * @Author: Derrick \n * @Date: 2019-04-23 10:20:36 \n * @Last Modified by: Derrick\n * @Last Modified time: 2019-04-23 10:21:33\n */\nimport React, { Component } from 'react';\nimport { Input } from 'antd';\nimport PropTypes from 'prop-types';\n\nconst { TextArea } = Input;\nclass FormTextArea extends Component {\n\n  change = (e) => {\n    const {onChange} = this.props;\n    onChange(e)\n  }\n\n  render() {\n    const {message, value, disabled} = this.props;\n    return (\n      <TextArea rows={4} disabled={disabled} placeholder={message} value={value} onChange={this.change} />\n      );\n  }\n}\n\nFormTextArea.propsType = {\n  disabled: PropTypes.bool, // æ˜¯å¦ä¸å¯é€‰\n  message: PropTypes.string, // é»˜è®¤æ–‡å­—ï¼ˆplaceholder\n}\n\nFormTextArea.defalutProps = {\n  disabled: false,\n  message: '',\n}\n\nexport default FormTextArea;\n```\n\n\n## æ ¸å¿ƒ\n\n\n```\nconst {onChange} = this.props;\nonChange(XX)\n```\n\n\nè¿™ä¸ªonChangeæ˜¯å¯ä»¥ç›´æ¥æ”¹å˜FormItemçš„å€¼ã€‚\n\næ¥ä¸‹æ¥å¯ä»¥åŠ å…¥æ‚¨è‡ªå·±å–œæ¬¢çš„ç»„ä»¶ï¼Œéƒ½æ˜¯å¤§åŒå°å¼‚ï¼ŒåŸºæœ¬ä¸Šéƒ½ç¦»ä¸å¼€è¿™ä¸ªonChangeã€‚\n\n\nä»¥ä¸Šå°±æ˜¯æœ¬äººæœ€è¿‘å°è£…çš„ä¸€ä¸ªç»„ä»¶ï¼Œæˆ‘æ„Ÿè§‰å¾ˆå¥½ç”¨æ‰€ä»¥æƒ³åˆ†äº«å‡ºæ¥ã€‚\n","slug":"ant-design-Form-ç»„ä»¶æ€»ç»“-ç»“åˆModal-è‡ªå®šä¹‰Modalçš„å®ç°-ï¼ˆUpload-Input-Select-DatePicker-Cascaderï¼‰","published":1,"updated":"2020-04-11T13:56:14.464Z","_id":"ck8vk5j0f000no5vm46k5e0uz","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"èµ·æº\"><a href=\"#èµ·æº\" class=\"headerlink\" title=\"èµ·æº\"></a>èµ·æº</h2><p>æœ€è¿‘åœ¨é¡¹ç›®ä¸­å‘ç°è¦å†™å¤šä¸ªå¼¹æ¡†ï¼ˆç”¨äºæŸ¥çœ‹ã€ç¼–è¾‘ã€æ–°å»ºXXä¿¡æ¯ï¼‰ï¼Œå¦‚ä¸‹å›¾ã€‚</p>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"/image/AntDesignForm%E6%80%BB%E7%BB%93/modal.png\"  alt=\"æµ‹è¯•å›¾ç‰‡\"></p>\n<p>åƒè¿™æ ·èŠ±é‡Œèƒ¡å“¨çš„å¼¹æ¡†åœ¨ä¸€ä¸ªå¤§å‹çš„ä¸­å°ç®¡ç†ç³»ç»Ÿä¸­ï¼Œå¯èƒ½è¦å†™ä¸Šå¥½å‡ éçš„Modal<br>ä½†æ˜¯å…¶å®ä»–ä»¬å¤§åŒå°å¼‚ã€‚</p>\n<p>é¦–å…ˆï¼Œä»–ä»¬çš„titleæ˜¯å›ºå®šçš„ï¼ˆå¢ã€æ”¹ã€æŸ¥ï¼‰</p>\n<p>åº•ä¸‹çš„å†…å®¹ä¹Ÿæ˜¯å›ºå®šçš„ï¼Œæ— éå°±æ˜¯Upload Input Select DatePicker Cascader</p>\n<p>ï¼ˆå†™ä¸äº†&lt;&gt;ã€‚å…¶å®åº”è¯¥æ˜¯ant design çš„ç»„ä»¶ï¼‰</p>\n<h2 id=\"æ”¹è¿›\"><a href=\"#æ”¹è¿›\" class=\"headerlink\" title=\"æ”¹è¿›\"></a>æ”¹è¿›</h2><p>æ‰€ä»¥æˆ‘æƒ³è‡ªå·±å†™ä¸€ä¸ªModalViewçš„ç»„ä»¶ã€‚åªéœ€è¦ä¼ å…¥è¿™ä¸Šé¢çš„æ•°æ®ç±»å‹ï¼Œtitleä¹‹ç±»çš„æ•°æ®å°±å¯ä»¥å®Œæˆæ¸²æŸ“ã€‚</p>\n<p>å¦‚ä¸‹ï¼Œè¿™ä¸ªæ˜¯æˆ‘é¡¹ç›®ä¸­çš„ä¸€ä¸ªä¾‹å­</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;ModalView </span><br><span class=\"line\">          onOk&#x3D;&#123;this.edit&#125;     &#x2F;&#x2F; ç‚¹å‡»Modalç¡®å®šæ—¶çš„å›è°ƒ</span><br><span class=\"line\">          onCancel&#x3D;&#123;this.hideModal&#125;   &#x2F;&#x2F; ç‚¹å‡»Modalå–æ¶ˆï¼Œæˆ–è€…ç‚¹å‡»maskæ—¶çš„å›è°ƒ</span><br><span class=\"line\">          show&#x3D;&#123;visible&#125;        &#x2F;&#x2F; Modalçš„æ˜¾éš</span><br><span class=\"line\">          category&#x3D;&#123;category&#125;      &#x2F;&#x2F; Modalçš„titleï¼Œé€šè¿‡categoryæ¥åˆ¤æ–­ï¼ˆç›®å‰åªæœ‰æŸ¥çœ‹ã€ç¼–è¾‘ã€æ–°å¢ï¼‰</span><br><span class=\"line\">          data&#x3D;&#123;fStaffManage&#125;     &#x2F;&#x2F; è‡ªå®šä¹‰Modalçš„æ ¸å¿ƒï¼Œæ•´ä¸ªModalçš„æ¸²æŸ“</span><br><span class=\"line\">          showData&#x3D;&#123;showData&#125;    &#x2F;&#x2F; ç‚¹å‡»æŸ¥çœ‹å’Œç¼–è¾‘æ—¶çš„é»˜è®¤æ•°æ®</span><br><span class=\"line\">&#x2F;&gt;</span><br></pre></td></tr></table></figure>\n\n\n<p>æ¥ä¸‹æ¥æ˜¯fStaffManageçš„æ•°æ®ç»“æ„</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export const fStaffManage &#x3D; [</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    label: &#39;å‘˜å·¥ç¼–å·ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰&#39;,</span><br><span class=\"line\">    key: &#39;id&#39;,</span><br><span class=\"line\">    type: &#39;input&#39;,</span><br><span class=\"line\">    Message: &#39;è¯·è¾“å…¥å‘˜å·¥ç¼–å·&#39;,</span><br><span class=\"line\">    disabled: true,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    label: &#39;é—¨åº—&#39;,</span><br><span class=\"line\">    key: &#39;storeNo&#39;,</span><br><span class=\"line\">    type: &#39;select&#39;,</span><br><span class=\"line\">    Message: &#39;è¯·é€‰æ‹©é—¨åº—&#39;,</span><br><span class=\"line\">    option: [],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    label: &#39;å‘˜å·¥å§“å&#39;,</span><br><span class=\"line\">    key: &#39;userName&#39;,</span><br><span class=\"line\">    type: &#39;input&#39;,</span><br><span class=\"line\">    Message: &#39;è¯·è¾“å…¥å‘˜å·¥å§“å&#39;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    label: &#39;è§’è‰²ç±»å‹&#39;,</span><br><span class=\"line\">    key: &#39;roleCodes&#39;,</span><br><span class=\"line\">    type: &#39;select&#39;,</span><br><span class=\"line\">    Message: &#39;è¯·é€‰æ‹©è§’è‰²ç±»å‹&#39;,</span><br><span class=\"line\">    option: [&#123; severKey: &#39;åº—å‘˜&#39;, showValue: &#39;åº—å‘˜&#39; &#125;, &#123; severKey: &#39;åº—é•¿&#39;, showValue: &#39;åº—é•¿&#39; &#125;],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    label: &#39;è”ç³»ç”µè¯&#39;,</span><br><span class=\"line\">    key: &#39;mobile&#39;,</span><br><span class=\"line\">    type: &#39;input&#39;,</span><br><span class=\"line\">    Message: &#39;è¯·è¾“å…¥è”ç³»ç”µè¯&#39;,</span><br><span class=\"line\">    pattern: &#39;^1[34578]\\\\d&#123;9&#125;$&#39;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    label: &#39;æµ‹è¯•ä¸Šä¼ å›¾ç‰‡&#39;,</span><br><span class=\"line\">    key: &#39;testImgUpload&#39;,</span><br><span class=\"line\">    type: &#39;imageUpload&#39;,</span><br><span class=\"line\">    Message: &#39;è¯·ä¸Šä¼ å›¾ç‰‡&#39;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n<p><strong>Message</strong>  æ˜¯ç”¨äºFormè¡¨å•çš„æç¤ºç”¨äºä»¥åŠplaceholder</p>\n<p><strong>label</strong>   æ˜¯ç”¨äºFormçš„label</p>\n<p><strong>key</strong>   æ˜¯ç”¨äºmapå¾ªç¯æ—¶çš„keyï¼ˆé˜²æ­¢warningå’Œæå‡æ•ˆç‡ï¼‰</p>\n<p><strong>type</strong>   æ˜¯ç”¨äºæ˜¾ç¤ºé‚£ç§ç±»å‹çš„ç»„ä»¶</p>\n<p><strong>pattern</strong>   æ˜¯ç”¨äºFormè¡¨å•æ£€æµ‹çš„æ­£åˆ™è¡¨è¾¾å¼</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;*</span><br><span class=\"line\"> * @Author: Derrick</span><br><span class=\"line\"> * @Date: 2019-04-04 16:53:05</span><br><span class=\"line\"> * @Last Modified by: Derrick</span><br><span class=\"line\"> * @Last Modified time: 2019-04-28 15:48:04</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">import React, &#123; PureComponent &#125; from &#39;react&#39;;</span><br><span class=\"line\">import &#123; Modal, Form, Button, Table, Upload, message, Row, Select &#125; from &#39;antd&#39;;</span><br><span class=\"line\">import &#123; connect &#125; from &#39;dva&#39;;</span><br><span class=\"line\">import PropTypes from &#39;prop-types&#39;;</span><br><span class=\"line\">import componentAuth from &#39;@&#x2F;common&#x2F;ComponentAuth&#39;;</span><br><span class=\"line\">import FormSelect from &#39;@&#x2F;common&#x2F;FormItems&#x2F;FormSelect&#39;;</span><br><span class=\"line\">import FormInput from &#39;@&#x2F;common&#x2F;FormItems&#x2F;FormInput&#39;;</span><br><span class=\"line\">import FormDataPicker from &#39;@&#x2F;common&#x2F;FormItems&#x2F;FormDataPicker&#39;;</span><br><span class=\"line\">import FormCascader from &#39;@&#x2F;common&#x2F;FormItems&#x2F;FormCascader&#39;;</span><br><span class=\"line\">import FormTextArea from &#39;@&#x2F;common&#x2F;FormItems&#x2F;FormTextArea&#39;;</span><br><span class=\"line\">import FormImageUpload from &#39;@&#x2F;common&#x2F;FormItems&#x2F;FormImageUpload&#39;;</span><br><span class=\"line\">import &#123; HEADER_BASE, SEVER_URL_BASE &#125; from &#39;@&#x2F;utils&#x2F;constant&#39;;</span><br><span class=\"line\">import Col from &#39;antd&#x2F;es&#x2F;col&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">const formItemLayout &#x3D; &#123;</span><br><span class=\"line\">  labelCol: &#123;</span><br><span class=\"line\">    xs: &#123; span: 24 &#125;,</span><br><span class=\"line\">    sm: &#123; span: 5 &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  wrapperCol: &#123;</span><br><span class=\"line\">    xs: &#123; span: 24 &#125;,</span><br><span class=\"line\">    sm: &#123; span: 16 &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">const &#123; Item &#125; &#x3D; Form;</span><br><span class=\"line\">const &#123; Option &#125; &#x3D; Select;</span><br><span class=\"line\"></span><br><span class=\"line\">@connect((&#123; mIdentifyCenter &#125;) &#x3D;&gt; (&#123;</span><br><span class=\"line\">  mIdentifyCenter</span><br><span class=\"line\">&#125;))</span><br><span class=\"line\">class ModalView extends PureComponent &#123;</span><br><span class=\"line\">  state &#x3D; &#123;</span><br><span class=\"line\">    data: [],</span><br><span class=\"line\">    storeId: &#39;&#39;,</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#x2F;&#x2F; è¿”å›title</span><br><span class=\"line\">  caseCategory &#x3D; category &#x3D;&gt; &#123;</span><br><span class=\"line\">    switch (category) &#123;</span><br><span class=\"line\">      case &#39;check&#39;:</span><br><span class=\"line\">        return &#123; title: &#39;æŸ¥çœ‹&#39; &#125;;</span><br><span class=\"line\">      case &#39;import&#39;:</span><br><span class=\"line\">        return &#123; title: &#39;å¯¼å…¥&#39;, import: true &#125;;</span><br><span class=\"line\">      case &#39;create&#39;:</span><br><span class=\"line\">        return &#123; title: &#39;æ–°å¢&#39; &#125;;</span><br><span class=\"line\">      case &#39;edit&#39;:</span><br><span class=\"line\">        return &#123; title: &#39;ç¼–è¾‘&#39; &#125;;</span><br><span class=\"line\">      default:</span><br><span class=\"line\">        return &#123; title: &#39;æŸ¥çœ‹&#39; &#125;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  showLabel &#x3D; (type, label) &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123; category &#125; &#x3D; this.props;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (category &#x3D;&#x3D;&#x3D; &#39;search&#39;) &#123;</span><br><span class=\"line\">      if (type !&#x3D;&#x3D; &#39;datePicker&#39;) &#123;</span><br><span class=\"line\">        return undefined;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return label;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return label;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  showRequire &#x3D; disabled &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123; category &#125; &#x3D; this.props;</span><br><span class=\"line\">    if (category &#x3D;&#x3D;&#x3D; &#39;search&#39;) &#123;</span><br><span class=\"line\">      return false;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    if (disabled) &#123;</span><br><span class=\"line\">      return false;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return true;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  form &#x3D; () &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123;</span><br><span class=\"line\">      form: &#123; getFieldDecorator &#125;,</span><br><span class=\"line\">      data,</span><br><span class=\"line\">      showData,</span><br><span class=\"line\">      category,</span><br><span class=\"line\">    &#125; &#x3D; this.props;</span><br><span class=\"line\"></span><br><span class=\"line\">    let ShowType;</span><br><span class=\"line\"></span><br><span class=\"line\">    return data.map(value &#x3D;&gt; &#123;</span><br><span class=\"line\">      const &#123; label, key, type, Message, option, disabled, pattern &#125; &#x3D; value;</span><br><span class=\"line\">      if (!value) &#123;</span><br><span class=\"line\">        return null;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      switch (type) &#123;</span><br><span class=\"line\">        case &#39;input&#39;:</span><br><span class=\"line\">          ShowType &#x3D; FormInput;</span><br><span class=\"line\">          break;</span><br><span class=\"line\">        case &#39;select&#39;:</span><br><span class=\"line\">          ShowType &#x3D; FormSelect;</span><br><span class=\"line\">          break;</span><br><span class=\"line\">        case &#39;datePicker&#39;:</span><br><span class=\"line\">          ShowType &#x3D; FormDataPicker;</span><br><span class=\"line\">          break;</span><br><span class=\"line\">        case &#39;cascader&#39;:</span><br><span class=\"line\">          ShowType &#x3D; FormCascader;</span><br><span class=\"line\">          showData.region &#x3D; [showData.provinceId, showData.cityId, showData.countyId];</span><br><span class=\"line\">          break;</span><br><span class=\"line\">        case &#39;textArea&#39;:</span><br><span class=\"line\">          ShowType &#x3D; FormTextArea;</span><br><span class=\"line\">          break;</span><br><span class=\"line\">        case &#39;imageUpload&#39;:</span><br><span class=\"line\">          ShowType &#x3D; FormImageUpload;</span><br><span class=\"line\">          break;</span><br><span class=\"line\">        default:</span><br><span class=\"line\">          ShowType &#x3D; null;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return (</span><br><span class=\"line\">        &lt;Item label&#x3D;&#123;this.showLabel(type, label)&#125; key&#x3D;&#123;key&#125;&gt;</span><br><span class=\"line\">          &#123;getFieldDecorator(key, &#123;</span><br><span class=\"line\">            rules: [</span><br><span class=\"line\">              &#123;</span><br><span class=\"line\">                required: this.showRequire(disabled),</span><br><span class=\"line\">                message: Message,</span><br><span class=\"line\">                pattern: pattern || undefined,</span><br><span class=\"line\">                type: type &#x3D;&#x3D;&#x3D; &#39;cascader&#39; ? &#39;array&#39; : &#39;string&#39;,</span><br><span class=\"line\">              &#125;,</span><br><span class=\"line\">            ],</span><br><span class=\"line\">            initialValue: showData[key] ? showData[key] : undefined,</span><br><span class=\"line\">          &#125;)(</span><br><span class=\"line\">            &lt;ShowType</span><br><span class=\"line\">              option&#x3D;&#123;option&#125;</span><br><span class=\"line\">              message&#x3D;&#123;Message&#125;</span><br><span class=\"line\">              disabled&#x3D;&#123;!!(disabled || category &#x3D;&#x3D;&#x3D; &#39;check&#39;)&#125;</span><br><span class=\"line\">            &#x2F;&gt;</span><br><span class=\"line\">          )&#125;</span><br><span class=\"line\">        &lt;&#x2F;Item&gt;</span><br><span class=\"line\">      );</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  checkOk &#x3D; () &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123; onOk, form &#125; &#x3D; this.props;</span><br><span class=\"line\">    form.validateFields((err, fieldsValue) &#x3D;&gt; &#123;</span><br><span class=\"line\">      if (!err) &#123;</span><br><span class=\"line\">        onOk(fieldsValue);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  closeModal &#x3D; () &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123; onCancel, form: &#123; resetFields &#125; &#125; &#x3D; this.props;</span><br><span class=\"line\">    resetFields();</span><br><span class=\"line\">    onCancel();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    const &#123; data &#125; &#x3D; this.state;</span><br><span class=\"line\">    const &#123; show, category &#x3D; &#39;&#39;, importColums, downloadUrl &#125; &#x3D; this.props;</span><br><span class=\"line\">    const modalData &#x3D; this.caseCategory(category);</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;Modal</span><br><span class=\"line\">        visible&#x3D;&#123;show&#125;</span><br><span class=\"line\">        onCancel&#x3D;&#123;this.closeModal&#125;</span><br><span class=\"line\">        onOk&#x3D;&#123;category &#x3D;&#x3D;&#x3D; &#39;import&#39; ? this.importOk : this.checkOk&#125;</span><br><span class=\"line\">        title&#x3D;&#123;modalData.title&#125;</span><br><span class=\"line\">        width&#x3D;&quot;70%&quot;</span><br><span class=\"line\">        footer&#x3D;&#123;modalData.title &#x3D;&#x3D;&#x3D; &#39;æŸ¥çœ‹&#39; ? null : undefined&#125;</span><br><span class=\"line\">      &gt;</span><br><span class=\"line\">          &lt;Form style&#x3D;&#123;&#123; paddingTop: &#39;20px&#39; &#125;&#125; &#123;...formItemLayout&#125;&gt;</span><br><span class=\"line\">            &#123;this.form()&#125;</span><br><span class=\"line\">          &lt;&#x2F;Form&gt;</span><br><span class=\"line\">      &lt;&#x2F;Modal&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">ModalView.propTypes &#x3D; &#123;</span><br><span class=\"line\">  onOk: PropTypes.func.isRequired, &#x2F;&#x2F; å¼¹æ¡†ç‚¹å‡»ç¡®å®š</span><br><span class=\"line\">  onCancel: PropTypes.func.isRequired, &#x2F;&#x2F; éšè—å¼¹æ¡†</span><br><span class=\"line\">  show: PropTypes.bool, &#x2F;&#x2F; æ˜¯å¦æ˜¾ç¤ºå¼¹çª—</span><br><span class=\"line\">  category: PropTypes.string, &#x2F;&#x2F; å¼¹æ¡†çš„ç±»å‹ï¼ˆtitleæ˜¾ç¤º</span><br><span class=\"line\">  data: PropTypes.arrayOf(PropTypes.object).isRequired, &#x2F;&#x2F; æ•°æ®ç±»å‹; ä½ç½®:&#39;@&#x2F;common&#x2F;constant&#x2F;sormView.js&#39; è®°å¾—å†™æ³¨é‡Š; æ ¼å¼: &#96;s$&#123;æ–‡ä»¶å&#125;&#96;</span><br><span class=\"line\">  showData: PropTypes.object, &#x2F;&#x2F; æŸ¥çœ‹æˆ–è€…ç¼–è¾‘æ—¶çš„é»˜è®¤æ•°æ®</span><br><span class=\"line\">  importCallBack: PropTypes.func, &#x2F;&#x2F; å¯¼å…¥ä¹‹åï¼Œç‚¹å‡»ç¡®å®šçš„å›è°ƒå‡½æ•°</span><br><span class=\"line\">  importColums: PropTypes.array, &#x2F;&#x2F; å¯¼å…¥æ—¶å€™æ˜¾ç¤ºè¡¨æ ¼çš„è¡¨å¤´</span><br><span class=\"line\">  downloadUrl: PropTypes.string, &#x2F;&#x2F; ä¸‹è½½çš„æ¨¡æ¿çš„æ–‡ä»¶å</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">ModalView.defaultProps &#x3D; &#123;</span><br><span class=\"line\">  show: false,</span><br><span class=\"line\">  category: &#39;check&#39;,</span><br><span class=\"line\">  showData: &#123;&#125;,</span><br><span class=\"line\">  importCallBack: () &#x3D;&gt; &#123;&#125;,</span><br><span class=\"line\">  importColums: [],</span><br><span class=\"line\">  downloadUrl: &#39;&#39;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">export default Form.create()(ModalView);</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>FormCascader</strong></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;*</span><br><span class=\"line\"> * @Author: Derrick </span><br><span class=\"line\"> * @Date: 2019-04-11 09:57:54 </span><br><span class=\"line\"> * @Last Modified by: Derrick</span><br><span class=\"line\"> * @Last Modified time: 2019-04-28 16:52:57</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">import React, &#123; Component &#125; from &#39;react&#39;;</span><br><span class=\"line\">import &#123; Cascader &#125; from &#39;antd&#39;;</span><br><span class=\"line\">import PropTypes from &#39;prop-types&#39;;</span><br><span class=\"line\">import regionData from &#39;@&#x2F;constant&#x2F;regionData&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">class FormCascader extends Component &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  change &#x3D; (e) &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123;onChange&#125; &#x3D; this.props;</span><br><span class=\"line\">    onChange(e)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    const &#123;value, disabled, message&#125; &#x3D; this.props;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;Cascader placeholder&#x3D;&#123;message&#125; options&#x3D;&#123;regionData&#125; disabled&#x3D;&#123;disabled&#125; value&#x3D;&#123;value&#125; onChange&#x3D;&#123;this.change&#125; &#x2F;&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FormCascader.propsType &#x3D; &#123;</span><br><span class=\"line\">  disabled: PropTypes.bool, &#x2F;&#x2F; æ˜¯å¦ä¸å¯é€‰</span><br><span class=\"line\">  message: PropTypes.string, &#x2F;&#x2F; é»˜è®¤æ–‡å­—ï¼ˆplaceholder</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FormCascader.defalutProps &#x3D; &#123;</span><br><span class=\"line\">  disabled: false,</span><br><span class=\"line\">  message: &#39;&#39;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export default FormCascader;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>FormDataPicker</strong></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;*</span><br><span class=\"line\"> * @Author: Derrick </span><br><span class=\"line\"> * @Date: 2019-04-10 10:57:08 </span><br><span class=\"line\"> * @Last Modified by: Derrick</span><br><span class=\"line\"> * @Last Modified time: 2019-04-15 14:28:40</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">import React, &#123; Component &#125; from &#39;react&#39;;</span><br><span class=\"line\">import PropTypes from &#39;prop-types&#39;;</span><br><span class=\"line\">import &#123; DatePicker &#125; from &#39;antd&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">class FormDataPicker extends Component &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  change &#x3D; (e) &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123;onChange&#125; &#x3D; this.props</span><br><span class=\"line\">    onChange(e)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    const &#123;value, disabled&#125; &#x3D; this.props;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;DatePicker disabled&#x3D;&#123;disabled&#125; value&#x3D;&#123;value&#125; onChange&#x3D;&#123;this.change&#125; &#x2F;&gt;</span><br><span class=\"line\">      );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FormDataPicker.propsType &#x3D; &#123;</span><br><span class=\"line\">  disabled: PropTypes.bool, &#x2F;&#x2F; æ˜¯å¦ä¸å¯é€‰</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FormDataPicker.defalutProps &#x3D; &#123;</span><br><span class=\"line\">  disabled: false,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export default FormDataPicker;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>FormImageUpload</strong></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;*</span><br><span class=\"line\"> * @Author: Derrick </span><br><span class=\"line\"> * @Date: 2019-04-26 14:20:20 </span><br><span class=\"line\"> * @Last Modified by: Derrick</span><br><span class=\"line\"> * @Last Modified time: 2019-04-28 18:11:44</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">import React, &#123; PureComponent &#125; from &#39;react&#39;;</span><br><span class=\"line\">import &#123; Upload, Icon, message &#125; from &#39;antd&#39;;</span><br><span class=\"line\">import &#123; PICTURE_UPLOAD, HEADER_BASE &#125; from &#39;@&#x2F;utils&#x2F;constant&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">class FormImageUpload extends PureComponent &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  state &#x3D; &#123;</span><br><span class=\"line\">    loading: false,</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  uploadButton &#x3D; () &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123; loading &#125; &#x3D; this.state;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;div&gt;</span><br><span class=\"line\">        &lt;Icon type&#x3D;&#123;loading ? &#39;loading&#39; : &#39;plus&#39;&#125; &#x2F;&gt;</span><br><span class=\"line\">        &lt;div className&#x3D;&quot;ant-upload-text&quot;&gt;Upload&lt;&#x2F;div&gt;</span><br><span class=\"line\">      &lt;&#x2F;div&gt;</span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  handleChange &#x3D; (info) &#x3D;&gt; &#123;</span><br><span class=\"line\">    if (info.file.status &#x3D;&#x3D;&#x3D; &#39;uploading&#39;) &#123;</span><br><span class=\"line\">      this.setState(&#123; loading: true &#125;);</span><br><span class=\"line\">      return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    if (info.file.status &#x3D;&#x3D;&#x3D; &#39;done&#39;) &#123;</span><br><span class=\"line\">      const &#123;onChange&#125; &#x3D; this.props</span><br><span class=\"line\">      this.setState(&#123;imageUrl: info.file.response.data[0], loading: false,&#125;)</span><br><span class=\"line\">      onChange(info.file.response.data[0])</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  beforeUpload &#x3D; (file) &#x3D;&gt; &#123;</span><br><span class=\"line\">    const isJPG &#x3D; file.type &#x3D;&#x3D;&#x3D; &#39;image&#x2F;jpeg&#39;;</span><br><span class=\"line\">    if (!isJPG) &#123;</span><br><span class=\"line\">      message.error(&#39;åªèƒ½ä¸Šä¼ JPGçš„å›¾ç‰‡!&#39;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    const isLt2M &#x3D; file.size &#x2F; 1024 &#x2F; 1024 &lt; 2;</span><br><span class=\"line\">    if (!isLt2M) &#123;</span><br><span class=\"line\">      message.error(&#39;å›¾ç‰‡å¤§å°ä¸èƒ½å¤§äº2MB!&#39;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return isJPG &amp;&amp; isLt2M;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  upLoadProps &#x3D; () &#x3D;&gt; &#123;</span><br><span class=\"line\">    HEADER_BASE.user_id &#x3D; window.sessionStorage.getItem(&#39;userId&#39;);</span><br><span class=\"line\">    HEADER_BASE.token_id &#x3D; window.sessionStorage.getItem(&#39;tokenId&#39;);</span><br><span class=\"line\">    const props &#x3D; &#123;</span><br><span class=\"line\">      name: &#39;file&#39;,</span><br><span class=\"line\">      action: PICTURE_UPLOAD,</span><br><span class=\"line\">      headers: HEADER_BASE,</span><br><span class=\"line\">      onChange: this.handleChange,</span><br><span class=\"line\">      showUploadList: false,</span><br><span class=\"line\">      beforeUpload: this.beforeUpload,</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    return props;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    const &#123; imageUrl &#125; &#x3D; this.state;</span><br><span class=\"line\"></span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;Upload</span><br><span class=\"line\">        listType&#x3D;&quot;picture-card&quot;</span><br><span class=\"line\">        &#123;...this.upLoadProps()&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      &gt;</span><br><span class=\"line\">        &#123;imageUrl ? &lt;img src&#x3D;&#123;imageUrl&#125; alt&#x3D;&quot;avatar&quot; &#x2F;&gt; : this.uploadButton()&#125;</span><br><span class=\"line\">      &lt;&#x2F;Upload&gt;</span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export default FormImageUpload;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>FormInput</strong></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;*</span><br><span class=\"line\"> * @Author: Derrick </span><br><span class=\"line\"> * @Date: 2019-04-10 10:57:08 </span><br><span class=\"line\"> * @Last Modified by: Derrick</span><br><span class=\"line\"> * @Last Modified time: 2019-04-15 14:46:23</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">import React, &#123; Component &#125; from &#39;react&#39;;</span><br><span class=\"line\">import &#123; Input &#125; from &#39;antd&#39;;</span><br><span class=\"line\">import PropTypes from &#39;prop-types&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">class FormInput extends Component &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  change &#x3D; (e) &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123;onChange&#125; &#x3D; this.props;</span><br><span class=\"line\">    onChange(e)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    const &#123;message, value, disabled&#125; &#x3D; this.props;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;Input disabled&#x3D;&#123;disabled&#125; placeholder&#x3D;&#123;message&#125; value&#x3D;&#123;value&#125; onChange&#x3D;&#123;this.change&#125; &#x2F;&gt;</span><br><span class=\"line\">      );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FormInput.propsType &#x3D; &#123;</span><br><span class=\"line\">  disabled: PropTypes.bool, &#x2F;&#x2F; æ˜¯å¦ä¸å¯é€‰</span><br><span class=\"line\">  message: PropTypes.string, &#x2F;&#x2F; é»˜è®¤æ–‡å­—ï¼ˆplaceholder</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FormInput.defalutProps &#x3D; &#123;</span><br><span class=\"line\">  disabled: false,</span><br><span class=\"line\">  message: &#39;&#39;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export default FormInput;</span><br></pre></td></tr></table></figure>\n\n\n<ul>\n<li><strong>FormSelect</strong></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;*</span><br><span class=\"line\"> * @Author: Derrick </span><br><span class=\"line\"> * @Date: 2019-04-10 10:13:58 </span><br><span class=\"line\"> * @Last Modified by: Derrick</span><br><span class=\"line\"> * @Last Modified time: 2019-04-28 15:59:22</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">import React, &#123; Component &#125; from &#39;react&#39;;</span><br><span class=\"line\">import &#123; Select &#125; from &#39;antd&#39;;</span><br><span class=\"line\">import PropTypes, &#123; object &#125; from &#39;prop-types&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">const &#123; Option &#125; &#x3D; Select;</span><br><span class=\"line\">class FormSelect extends Component &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  option &#x3D; () &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123;option &#x3D; []&#125; &#x3D; this.props;</span><br><span class=\"line\">    return option.map((v) &#x3D;&gt; &#123;</span><br><span class=\"line\">      const &#123;showValue, severKey&#125; &#x3D; v;</span><br><span class=\"line\">      return &lt;Option value&#x3D;&#123;severKey&#125; key&#x3D;&#123;severKey&#125;&gt;&#123;showValue&#125;&lt;&#x2F;Option&gt;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  selectCurrency &#x3D; (e) &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123;onChange&#125; &#x3D; this.props</span><br><span class=\"line\">    onChange(e)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    const &#123;message, value, disabled&#125; &#x3D; this.props;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;Select disabled&#x3D;&#123;disabled&#125; value&#x3D;&#123;value&#125; placeholder&#x3D;&#123;message&#125; style&#x3D;&#123;&#123;width: &#39;170px&#39;&#125;&#125; onSelect&#x3D;&#123;this.selectCurrency&#125;&gt;</span><br><span class=\"line\">        &#123;this.option()&#125;</span><br><span class=\"line\">      &lt;&#x2F;Select&gt;    </span><br><span class=\"line\">      );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FormSelect.propsType &#x3D; &#123;</span><br><span class=\"line\">  disabled: PropTypes.bool, &#x2F;&#x2F; æ˜¯å¦ä¸å¯é€‰</span><br><span class=\"line\">  message: PropTypes.string, &#x2F;&#x2F; é»˜è®¤æ–‡å­—ï¼ˆplaceholder</span><br><span class=\"line\">  option: PropTypes.arrayOf(object), &#x2F;&#x2F; é€‰æ‹©æ¡†çš„é€‰é¡¹</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FormSelect.defalutProps &#x3D; &#123;</span><br><span class=\"line\">  disabled: false,</span><br><span class=\"line\">  message: &#39;&#39;,</span><br><span class=\"line\">  option: [],</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export default FormSelect;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>FormTextArea</strong></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;*</span><br><span class=\"line\"> * @Author: Derrick </span><br><span class=\"line\"> * @Date: 2019-04-23 10:20:36 </span><br><span class=\"line\"> * @Last Modified by: Derrick</span><br><span class=\"line\"> * @Last Modified time: 2019-04-23 10:21:33</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">import React, &#123; Component &#125; from &#39;react&#39;;</span><br><span class=\"line\">import &#123; Input &#125; from &#39;antd&#39;;</span><br><span class=\"line\">import PropTypes from &#39;prop-types&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">const &#123; TextArea &#125; &#x3D; Input;</span><br><span class=\"line\">class FormTextArea extends Component &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  change &#x3D; (e) &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123;onChange&#125; &#x3D; this.props;</span><br><span class=\"line\">    onChange(e)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    const &#123;message, value, disabled&#125; &#x3D; this.props;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;TextArea rows&#x3D;&#123;4&#125; disabled&#x3D;&#123;disabled&#125; placeholder&#x3D;&#123;message&#125; value&#x3D;&#123;value&#125; onChange&#x3D;&#123;this.change&#125; &#x2F;&gt;</span><br><span class=\"line\">      );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FormTextArea.propsType &#x3D; &#123;</span><br><span class=\"line\">  disabled: PropTypes.bool, &#x2F;&#x2F; æ˜¯å¦ä¸å¯é€‰</span><br><span class=\"line\">  message: PropTypes.string, &#x2F;&#x2F; é»˜è®¤æ–‡å­—ï¼ˆplaceholder</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FormTextArea.defalutProps &#x3D; &#123;</span><br><span class=\"line\">  disabled: false,</span><br><span class=\"line\">  message: &#39;&#39;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export default FormTextArea;</span><br></pre></td></tr></table></figure>\n\n\n<h2 id=\"æ ¸å¿ƒ\"><a href=\"#æ ¸å¿ƒ\" class=\"headerlink\" title=\"æ ¸å¿ƒ\"></a>æ ¸å¿ƒ</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const &#123;onChange&#125; &#x3D; this.props;</span><br><span class=\"line\">onChange(XX)</span><br></pre></td></tr></table></figure>\n\n\n<p>è¿™ä¸ªonChangeæ˜¯å¯ä»¥ç›´æ¥æ”¹å˜FormItemçš„å€¼ã€‚</p>\n<p>æ¥ä¸‹æ¥å¯ä»¥åŠ å…¥æ‚¨è‡ªå·±å–œæ¬¢çš„ç»„ä»¶ï¼Œéƒ½æ˜¯å¤§åŒå°å¼‚ï¼ŒåŸºæœ¬ä¸Šéƒ½ç¦»ä¸å¼€è¿™ä¸ªonChangeã€‚</p>\n<p>ä»¥ä¸Šå°±æ˜¯æœ¬äººæœ€è¿‘å°è£…çš„ä¸€ä¸ªç»„ä»¶ï¼Œæˆ‘æ„Ÿè§‰å¾ˆå¥½ç”¨æ‰€ä»¥æƒ³åˆ†äº«å‡ºæ¥ã€‚</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"èµ·æº\"><a href=\"#èµ·æº\" class=\"headerlink\" title=\"èµ·æº\"></a>èµ·æº</h2><p>æœ€è¿‘åœ¨é¡¹ç›®ä¸­å‘ç°è¦å†™å¤šä¸ªå¼¹æ¡†ï¼ˆç”¨äºæŸ¥çœ‹ã€ç¼–è¾‘ã€æ–°å»ºXXä¿¡æ¯ï¼‰ï¼Œå¦‚ä¸‹å›¾ã€‚</p>\n<p><img src=\"/image/AntDesignForm%E6%80%BB%E7%BB%93/modal.png\" alt=\"æµ‹è¯•å›¾ç‰‡\"></p>\n<p>åƒè¿™æ ·èŠ±é‡Œèƒ¡å“¨çš„å¼¹æ¡†åœ¨ä¸€ä¸ªå¤§å‹çš„ä¸­å°ç®¡ç†ç³»ç»Ÿä¸­ï¼Œå¯èƒ½è¦å†™ä¸Šå¥½å‡ éçš„Modal<br>ä½†æ˜¯å…¶å®ä»–ä»¬å¤§åŒå°å¼‚ã€‚</p>\n<p>é¦–å…ˆï¼Œä»–ä»¬çš„titleæ˜¯å›ºå®šçš„ï¼ˆå¢ã€æ”¹ã€æŸ¥ï¼‰</p>\n<p>åº•ä¸‹çš„å†…å®¹ä¹Ÿæ˜¯å›ºå®šçš„ï¼Œæ— éå°±æ˜¯Upload Input Select DatePicker Cascader</p>\n<p>ï¼ˆå†™ä¸äº†&lt;&gt;ã€‚å…¶å®åº”è¯¥æ˜¯ant design çš„ç»„ä»¶ï¼‰</p>\n<h2 id=\"æ”¹è¿›\"><a href=\"#æ”¹è¿›\" class=\"headerlink\" title=\"æ”¹è¿›\"></a>æ”¹è¿›</h2><p>æ‰€ä»¥æˆ‘æƒ³è‡ªå·±å†™ä¸€ä¸ªModalViewçš„ç»„ä»¶ã€‚åªéœ€è¦ä¼ å…¥è¿™ä¸Šé¢çš„æ•°æ®ç±»å‹ï¼Œtitleä¹‹ç±»çš„æ•°æ®å°±å¯ä»¥å®Œæˆæ¸²æŸ“ã€‚</p>\n<p>å¦‚ä¸‹ï¼Œè¿™ä¸ªæ˜¯æˆ‘é¡¹ç›®ä¸­çš„ä¸€ä¸ªä¾‹å­</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;ModalView </span><br><span class=\"line\">          onOk&#x3D;&#123;this.edit&#125;     &#x2F;&#x2F; ç‚¹å‡»Modalç¡®å®šæ—¶çš„å›è°ƒ</span><br><span class=\"line\">          onCancel&#x3D;&#123;this.hideModal&#125;   &#x2F;&#x2F; ç‚¹å‡»Modalå–æ¶ˆï¼Œæˆ–è€…ç‚¹å‡»maskæ—¶çš„å›è°ƒ</span><br><span class=\"line\">          show&#x3D;&#123;visible&#125;        &#x2F;&#x2F; Modalçš„æ˜¾éš</span><br><span class=\"line\">          category&#x3D;&#123;category&#125;      &#x2F;&#x2F; Modalçš„titleï¼Œé€šè¿‡categoryæ¥åˆ¤æ–­ï¼ˆç›®å‰åªæœ‰æŸ¥çœ‹ã€ç¼–è¾‘ã€æ–°å¢ï¼‰</span><br><span class=\"line\">          data&#x3D;&#123;fStaffManage&#125;     &#x2F;&#x2F; è‡ªå®šä¹‰Modalçš„æ ¸å¿ƒï¼Œæ•´ä¸ªModalçš„æ¸²æŸ“</span><br><span class=\"line\">          showData&#x3D;&#123;showData&#125;    &#x2F;&#x2F; ç‚¹å‡»æŸ¥çœ‹å’Œç¼–è¾‘æ—¶çš„é»˜è®¤æ•°æ®</span><br><span class=\"line\">&#x2F;&gt;</span><br></pre></td></tr></table></figure>\n\n\n<p>æ¥ä¸‹æ¥æ˜¯fStaffManageçš„æ•°æ®ç»“æ„</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export const fStaffManage &#x3D; [</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    label: &#39;å‘˜å·¥ç¼–å·ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰&#39;,</span><br><span class=\"line\">    key: &#39;id&#39;,</span><br><span class=\"line\">    type: &#39;input&#39;,</span><br><span class=\"line\">    Message: &#39;è¯·è¾“å…¥å‘˜å·¥ç¼–å·&#39;,</span><br><span class=\"line\">    disabled: true,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    label: &#39;é—¨åº—&#39;,</span><br><span class=\"line\">    key: &#39;storeNo&#39;,</span><br><span class=\"line\">    type: &#39;select&#39;,</span><br><span class=\"line\">    Message: &#39;è¯·é€‰æ‹©é—¨åº—&#39;,</span><br><span class=\"line\">    option: [],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    label: &#39;å‘˜å·¥å§“å&#39;,</span><br><span class=\"line\">    key: &#39;userName&#39;,</span><br><span class=\"line\">    type: &#39;input&#39;,</span><br><span class=\"line\">    Message: &#39;è¯·è¾“å…¥å‘˜å·¥å§“å&#39;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    label: &#39;è§’è‰²ç±»å‹&#39;,</span><br><span class=\"line\">    key: &#39;roleCodes&#39;,</span><br><span class=\"line\">    type: &#39;select&#39;,</span><br><span class=\"line\">    Message: &#39;è¯·é€‰æ‹©è§’è‰²ç±»å‹&#39;,</span><br><span class=\"line\">    option: [&#123; severKey: &#39;åº—å‘˜&#39;, showValue: &#39;åº—å‘˜&#39; &#125;, &#123; severKey: &#39;åº—é•¿&#39;, showValue: &#39;åº—é•¿&#39; &#125;],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    label: &#39;è”ç³»ç”µè¯&#39;,</span><br><span class=\"line\">    key: &#39;mobile&#39;,</span><br><span class=\"line\">    type: &#39;input&#39;,</span><br><span class=\"line\">    Message: &#39;è¯·è¾“å…¥è”ç³»ç”µè¯&#39;,</span><br><span class=\"line\">    pattern: &#39;^1[34578]\\\\d&#123;9&#125;$&#39;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    label: &#39;æµ‹è¯•ä¸Šä¼ å›¾ç‰‡&#39;,</span><br><span class=\"line\">    key: &#39;testImgUpload&#39;,</span><br><span class=\"line\">    type: &#39;imageUpload&#39;,</span><br><span class=\"line\">    Message: &#39;è¯·ä¸Šä¼ å›¾ç‰‡&#39;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n<p><strong>Message</strong>  æ˜¯ç”¨äºFormè¡¨å•çš„æç¤ºç”¨äºä»¥åŠplaceholder</p>\n<p><strong>label</strong>   æ˜¯ç”¨äºFormçš„label</p>\n<p><strong>key</strong>   æ˜¯ç”¨äºmapå¾ªç¯æ—¶çš„keyï¼ˆé˜²æ­¢warningå’Œæå‡æ•ˆç‡ï¼‰</p>\n<p><strong>type</strong>   æ˜¯ç”¨äºæ˜¾ç¤ºé‚£ç§ç±»å‹çš„ç»„ä»¶</p>\n<p><strong>pattern</strong>   æ˜¯ç”¨äºFormè¡¨å•æ£€æµ‹çš„æ­£åˆ™è¡¨è¾¾å¼</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;*</span><br><span class=\"line\"> * @Author: Derrick</span><br><span class=\"line\"> * @Date: 2019-04-04 16:53:05</span><br><span class=\"line\"> * @Last Modified by: Derrick</span><br><span class=\"line\"> * @Last Modified time: 2019-04-28 15:48:04</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">import React, &#123; PureComponent &#125; from &#39;react&#39;;</span><br><span class=\"line\">import &#123; Modal, Form, Button, Table, Upload, message, Row, Select &#125; from &#39;antd&#39;;</span><br><span class=\"line\">import &#123; connect &#125; from &#39;dva&#39;;</span><br><span class=\"line\">import PropTypes from &#39;prop-types&#39;;</span><br><span class=\"line\">import componentAuth from &#39;@&#x2F;common&#x2F;ComponentAuth&#39;;</span><br><span class=\"line\">import FormSelect from &#39;@&#x2F;common&#x2F;FormItems&#x2F;FormSelect&#39;;</span><br><span class=\"line\">import FormInput from &#39;@&#x2F;common&#x2F;FormItems&#x2F;FormInput&#39;;</span><br><span class=\"line\">import FormDataPicker from &#39;@&#x2F;common&#x2F;FormItems&#x2F;FormDataPicker&#39;;</span><br><span class=\"line\">import FormCascader from &#39;@&#x2F;common&#x2F;FormItems&#x2F;FormCascader&#39;;</span><br><span class=\"line\">import FormTextArea from &#39;@&#x2F;common&#x2F;FormItems&#x2F;FormTextArea&#39;;</span><br><span class=\"line\">import FormImageUpload from &#39;@&#x2F;common&#x2F;FormItems&#x2F;FormImageUpload&#39;;</span><br><span class=\"line\">import &#123; HEADER_BASE, SEVER_URL_BASE &#125; from &#39;@&#x2F;utils&#x2F;constant&#39;;</span><br><span class=\"line\">import Col from &#39;antd&#x2F;es&#x2F;col&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">const formItemLayout &#x3D; &#123;</span><br><span class=\"line\">  labelCol: &#123;</span><br><span class=\"line\">    xs: &#123; span: 24 &#125;,</span><br><span class=\"line\">    sm: &#123; span: 5 &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  wrapperCol: &#123;</span><br><span class=\"line\">    xs: &#123; span: 24 &#125;,</span><br><span class=\"line\">    sm: &#123; span: 16 &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">const &#123; Item &#125; &#x3D; Form;</span><br><span class=\"line\">const &#123; Option &#125; &#x3D; Select;</span><br><span class=\"line\"></span><br><span class=\"line\">@connect((&#123; mIdentifyCenter &#125;) &#x3D;&gt; (&#123;</span><br><span class=\"line\">  mIdentifyCenter</span><br><span class=\"line\">&#125;))</span><br><span class=\"line\">class ModalView extends PureComponent &#123;</span><br><span class=\"line\">  state &#x3D; &#123;</span><br><span class=\"line\">    data: [],</span><br><span class=\"line\">    storeId: &#39;&#39;,</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#x2F;&#x2F; è¿”å›title</span><br><span class=\"line\">  caseCategory &#x3D; category &#x3D;&gt; &#123;</span><br><span class=\"line\">    switch (category) &#123;</span><br><span class=\"line\">      case &#39;check&#39;:</span><br><span class=\"line\">        return &#123; title: &#39;æŸ¥çœ‹&#39; &#125;;</span><br><span class=\"line\">      case &#39;import&#39;:</span><br><span class=\"line\">        return &#123; title: &#39;å¯¼å…¥&#39;, import: true &#125;;</span><br><span class=\"line\">      case &#39;create&#39;:</span><br><span class=\"line\">        return &#123; title: &#39;æ–°å¢&#39; &#125;;</span><br><span class=\"line\">      case &#39;edit&#39;:</span><br><span class=\"line\">        return &#123; title: &#39;ç¼–è¾‘&#39; &#125;;</span><br><span class=\"line\">      default:</span><br><span class=\"line\">        return &#123; title: &#39;æŸ¥çœ‹&#39; &#125;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  showLabel &#x3D; (type, label) &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123; category &#125; &#x3D; this.props;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (category &#x3D;&#x3D;&#x3D; &#39;search&#39;) &#123;</span><br><span class=\"line\">      if (type !&#x3D;&#x3D; &#39;datePicker&#39;) &#123;</span><br><span class=\"line\">        return undefined;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return label;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return label;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  showRequire &#x3D; disabled &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123; category &#125; &#x3D; this.props;</span><br><span class=\"line\">    if (category &#x3D;&#x3D;&#x3D; &#39;search&#39;) &#123;</span><br><span class=\"line\">      return false;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    if (disabled) &#123;</span><br><span class=\"line\">      return false;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return true;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  form &#x3D; () &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123;</span><br><span class=\"line\">      form: &#123; getFieldDecorator &#125;,</span><br><span class=\"line\">      data,</span><br><span class=\"line\">      showData,</span><br><span class=\"line\">      category,</span><br><span class=\"line\">    &#125; &#x3D; this.props;</span><br><span class=\"line\"></span><br><span class=\"line\">    let ShowType;</span><br><span class=\"line\"></span><br><span class=\"line\">    return data.map(value &#x3D;&gt; &#123;</span><br><span class=\"line\">      const &#123; label, key, type, Message, option, disabled, pattern &#125; &#x3D; value;</span><br><span class=\"line\">      if (!value) &#123;</span><br><span class=\"line\">        return null;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      switch (type) &#123;</span><br><span class=\"line\">        case &#39;input&#39;:</span><br><span class=\"line\">          ShowType &#x3D; FormInput;</span><br><span class=\"line\">          break;</span><br><span class=\"line\">        case &#39;select&#39;:</span><br><span class=\"line\">          ShowType &#x3D; FormSelect;</span><br><span class=\"line\">          break;</span><br><span class=\"line\">        case &#39;datePicker&#39;:</span><br><span class=\"line\">          ShowType &#x3D; FormDataPicker;</span><br><span class=\"line\">          break;</span><br><span class=\"line\">        case &#39;cascader&#39;:</span><br><span class=\"line\">          ShowType &#x3D; FormCascader;</span><br><span class=\"line\">          showData.region &#x3D; [showData.provinceId, showData.cityId, showData.countyId];</span><br><span class=\"line\">          break;</span><br><span class=\"line\">        case &#39;textArea&#39;:</span><br><span class=\"line\">          ShowType &#x3D; FormTextArea;</span><br><span class=\"line\">          break;</span><br><span class=\"line\">        case &#39;imageUpload&#39;:</span><br><span class=\"line\">          ShowType &#x3D; FormImageUpload;</span><br><span class=\"line\">          break;</span><br><span class=\"line\">        default:</span><br><span class=\"line\">          ShowType &#x3D; null;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return (</span><br><span class=\"line\">        &lt;Item label&#x3D;&#123;this.showLabel(type, label)&#125; key&#x3D;&#123;key&#125;&gt;</span><br><span class=\"line\">          &#123;getFieldDecorator(key, &#123;</span><br><span class=\"line\">            rules: [</span><br><span class=\"line\">              &#123;</span><br><span class=\"line\">                required: this.showRequire(disabled),</span><br><span class=\"line\">                message: Message,</span><br><span class=\"line\">                pattern: pattern || undefined,</span><br><span class=\"line\">                type: type &#x3D;&#x3D;&#x3D; &#39;cascader&#39; ? &#39;array&#39; : &#39;string&#39;,</span><br><span class=\"line\">              &#125;,</span><br><span class=\"line\">            ],</span><br><span class=\"line\">            initialValue: showData[key] ? showData[key] : undefined,</span><br><span class=\"line\">          &#125;)(</span><br><span class=\"line\">            &lt;ShowType</span><br><span class=\"line\">              option&#x3D;&#123;option&#125;</span><br><span class=\"line\">              message&#x3D;&#123;Message&#125;</span><br><span class=\"line\">              disabled&#x3D;&#123;!!(disabled || category &#x3D;&#x3D;&#x3D; &#39;check&#39;)&#125;</span><br><span class=\"line\">            &#x2F;&gt;</span><br><span class=\"line\">          )&#125;</span><br><span class=\"line\">        &lt;&#x2F;Item&gt;</span><br><span class=\"line\">      );</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  checkOk &#x3D; () &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123; onOk, form &#125; &#x3D; this.props;</span><br><span class=\"line\">    form.validateFields((err, fieldsValue) &#x3D;&gt; &#123;</span><br><span class=\"line\">      if (!err) &#123;</span><br><span class=\"line\">        onOk(fieldsValue);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  closeModal &#x3D; () &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123; onCancel, form: &#123; resetFields &#125; &#125; &#x3D; this.props;</span><br><span class=\"line\">    resetFields();</span><br><span class=\"line\">    onCancel();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    const &#123; data &#125; &#x3D; this.state;</span><br><span class=\"line\">    const &#123; show, category &#x3D; &#39;&#39;, importColums, downloadUrl &#125; &#x3D; this.props;</span><br><span class=\"line\">    const modalData &#x3D; this.caseCategory(category);</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;Modal</span><br><span class=\"line\">        visible&#x3D;&#123;show&#125;</span><br><span class=\"line\">        onCancel&#x3D;&#123;this.closeModal&#125;</span><br><span class=\"line\">        onOk&#x3D;&#123;category &#x3D;&#x3D;&#x3D; &#39;import&#39; ? this.importOk : this.checkOk&#125;</span><br><span class=\"line\">        title&#x3D;&#123;modalData.title&#125;</span><br><span class=\"line\">        width&#x3D;&quot;70%&quot;</span><br><span class=\"line\">        footer&#x3D;&#123;modalData.title &#x3D;&#x3D;&#x3D; &#39;æŸ¥çœ‹&#39; ? null : undefined&#125;</span><br><span class=\"line\">      &gt;</span><br><span class=\"line\">          &lt;Form style&#x3D;&#123;&#123; paddingTop: &#39;20px&#39; &#125;&#125; &#123;...formItemLayout&#125;&gt;</span><br><span class=\"line\">            &#123;this.form()&#125;</span><br><span class=\"line\">          &lt;&#x2F;Form&gt;</span><br><span class=\"line\">      &lt;&#x2F;Modal&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">ModalView.propTypes &#x3D; &#123;</span><br><span class=\"line\">  onOk: PropTypes.func.isRequired, &#x2F;&#x2F; å¼¹æ¡†ç‚¹å‡»ç¡®å®š</span><br><span class=\"line\">  onCancel: PropTypes.func.isRequired, &#x2F;&#x2F; éšè—å¼¹æ¡†</span><br><span class=\"line\">  show: PropTypes.bool, &#x2F;&#x2F; æ˜¯å¦æ˜¾ç¤ºå¼¹çª—</span><br><span class=\"line\">  category: PropTypes.string, &#x2F;&#x2F; å¼¹æ¡†çš„ç±»å‹ï¼ˆtitleæ˜¾ç¤º</span><br><span class=\"line\">  data: PropTypes.arrayOf(PropTypes.object).isRequired, &#x2F;&#x2F; æ•°æ®ç±»å‹; ä½ç½®:&#39;@&#x2F;common&#x2F;constant&#x2F;sormView.js&#39; è®°å¾—å†™æ³¨é‡Š; æ ¼å¼: &#96;s$&#123;æ–‡ä»¶å&#125;&#96;</span><br><span class=\"line\">  showData: PropTypes.object, &#x2F;&#x2F; æŸ¥çœ‹æˆ–è€…ç¼–è¾‘æ—¶çš„é»˜è®¤æ•°æ®</span><br><span class=\"line\">  importCallBack: PropTypes.func, &#x2F;&#x2F; å¯¼å…¥ä¹‹åï¼Œç‚¹å‡»ç¡®å®šçš„å›è°ƒå‡½æ•°</span><br><span class=\"line\">  importColums: PropTypes.array, &#x2F;&#x2F; å¯¼å…¥æ—¶å€™æ˜¾ç¤ºè¡¨æ ¼çš„è¡¨å¤´</span><br><span class=\"line\">  downloadUrl: PropTypes.string, &#x2F;&#x2F; ä¸‹è½½çš„æ¨¡æ¿çš„æ–‡ä»¶å</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">ModalView.defaultProps &#x3D; &#123;</span><br><span class=\"line\">  show: false,</span><br><span class=\"line\">  category: &#39;check&#39;,</span><br><span class=\"line\">  showData: &#123;&#125;,</span><br><span class=\"line\">  importCallBack: () &#x3D;&gt; &#123;&#125;,</span><br><span class=\"line\">  importColums: [],</span><br><span class=\"line\">  downloadUrl: &#39;&#39;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">export default Form.create()(ModalView);</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>FormCascader</strong></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;*</span><br><span class=\"line\"> * @Author: Derrick </span><br><span class=\"line\"> * @Date: 2019-04-11 09:57:54 </span><br><span class=\"line\"> * @Last Modified by: Derrick</span><br><span class=\"line\"> * @Last Modified time: 2019-04-28 16:52:57</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">import React, &#123; Component &#125; from &#39;react&#39;;</span><br><span class=\"line\">import &#123; Cascader &#125; from &#39;antd&#39;;</span><br><span class=\"line\">import PropTypes from &#39;prop-types&#39;;</span><br><span class=\"line\">import regionData from &#39;@&#x2F;constant&#x2F;regionData&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">class FormCascader extends Component &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  change &#x3D; (e) &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123;onChange&#125; &#x3D; this.props;</span><br><span class=\"line\">    onChange(e)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    const &#123;value, disabled, message&#125; &#x3D; this.props;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;Cascader placeholder&#x3D;&#123;message&#125; options&#x3D;&#123;regionData&#125; disabled&#x3D;&#123;disabled&#125; value&#x3D;&#123;value&#125; onChange&#x3D;&#123;this.change&#125; &#x2F;&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FormCascader.propsType &#x3D; &#123;</span><br><span class=\"line\">  disabled: PropTypes.bool, &#x2F;&#x2F; æ˜¯å¦ä¸å¯é€‰</span><br><span class=\"line\">  message: PropTypes.string, &#x2F;&#x2F; é»˜è®¤æ–‡å­—ï¼ˆplaceholder</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FormCascader.defalutProps &#x3D; &#123;</span><br><span class=\"line\">  disabled: false,</span><br><span class=\"line\">  message: &#39;&#39;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export default FormCascader;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>FormDataPicker</strong></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;*</span><br><span class=\"line\"> * @Author: Derrick </span><br><span class=\"line\"> * @Date: 2019-04-10 10:57:08 </span><br><span class=\"line\"> * @Last Modified by: Derrick</span><br><span class=\"line\"> * @Last Modified time: 2019-04-15 14:28:40</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">import React, &#123; Component &#125; from &#39;react&#39;;</span><br><span class=\"line\">import PropTypes from &#39;prop-types&#39;;</span><br><span class=\"line\">import &#123; DatePicker &#125; from &#39;antd&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">class FormDataPicker extends Component &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  change &#x3D; (e) &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123;onChange&#125; &#x3D; this.props</span><br><span class=\"line\">    onChange(e)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    const &#123;value, disabled&#125; &#x3D; this.props;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;DatePicker disabled&#x3D;&#123;disabled&#125; value&#x3D;&#123;value&#125; onChange&#x3D;&#123;this.change&#125; &#x2F;&gt;</span><br><span class=\"line\">      );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FormDataPicker.propsType &#x3D; &#123;</span><br><span class=\"line\">  disabled: PropTypes.bool, &#x2F;&#x2F; æ˜¯å¦ä¸å¯é€‰</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FormDataPicker.defalutProps &#x3D; &#123;</span><br><span class=\"line\">  disabled: false,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export default FormDataPicker;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>FormImageUpload</strong></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;*</span><br><span class=\"line\"> * @Author: Derrick </span><br><span class=\"line\"> * @Date: 2019-04-26 14:20:20 </span><br><span class=\"line\"> * @Last Modified by: Derrick</span><br><span class=\"line\"> * @Last Modified time: 2019-04-28 18:11:44</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">import React, &#123; PureComponent &#125; from &#39;react&#39;;</span><br><span class=\"line\">import &#123; Upload, Icon, message &#125; from &#39;antd&#39;;</span><br><span class=\"line\">import &#123; PICTURE_UPLOAD, HEADER_BASE &#125; from &#39;@&#x2F;utils&#x2F;constant&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">class FormImageUpload extends PureComponent &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  state &#x3D; &#123;</span><br><span class=\"line\">    loading: false,</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  uploadButton &#x3D; () &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123; loading &#125; &#x3D; this.state;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;div&gt;</span><br><span class=\"line\">        &lt;Icon type&#x3D;&#123;loading ? &#39;loading&#39; : &#39;plus&#39;&#125; &#x2F;&gt;</span><br><span class=\"line\">        &lt;div className&#x3D;&quot;ant-upload-text&quot;&gt;Upload&lt;&#x2F;div&gt;</span><br><span class=\"line\">      &lt;&#x2F;div&gt;</span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  handleChange &#x3D; (info) &#x3D;&gt; &#123;</span><br><span class=\"line\">    if (info.file.status &#x3D;&#x3D;&#x3D; &#39;uploading&#39;) &#123;</span><br><span class=\"line\">      this.setState(&#123; loading: true &#125;);</span><br><span class=\"line\">      return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    if (info.file.status &#x3D;&#x3D;&#x3D; &#39;done&#39;) &#123;</span><br><span class=\"line\">      const &#123;onChange&#125; &#x3D; this.props</span><br><span class=\"line\">      this.setState(&#123;imageUrl: info.file.response.data[0], loading: false,&#125;)</span><br><span class=\"line\">      onChange(info.file.response.data[0])</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  beforeUpload &#x3D; (file) &#x3D;&gt; &#123;</span><br><span class=\"line\">    const isJPG &#x3D; file.type &#x3D;&#x3D;&#x3D; &#39;image&#x2F;jpeg&#39;;</span><br><span class=\"line\">    if (!isJPG) &#123;</span><br><span class=\"line\">      message.error(&#39;åªèƒ½ä¸Šä¼ JPGçš„å›¾ç‰‡!&#39;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    const isLt2M &#x3D; file.size &#x2F; 1024 &#x2F; 1024 &lt; 2;</span><br><span class=\"line\">    if (!isLt2M) &#123;</span><br><span class=\"line\">      message.error(&#39;å›¾ç‰‡å¤§å°ä¸èƒ½å¤§äº2MB!&#39;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return isJPG &amp;&amp; isLt2M;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  upLoadProps &#x3D; () &#x3D;&gt; &#123;</span><br><span class=\"line\">    HEADER_BASE.user_id &#x3D; window.sessionStorage.getItem(&#39;userId&#39;);</span><br><span class=\"line\">    HEADER_BASE.token_id &#x3D; window.sessionStorage.getItem(&#39;tokenId&#39;);</span><br><span class=\"line\">    const props &#x3D; &#123;</span><br><span class=\"line\">      name: &#39;file&#39;,</span><br><span class=\"line\">      action: PICTURE_UPLOAD,</span><br><span class=\"line\">      headers: HEADER_BASE,</span><br><span class=\"line\">      onChange: this.handleChange,</span><br><span class=\"line\">      showUploadList: false,</span><br><span class=\"line\">      beforeUpload: this.beforeUpload,</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    return props;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    const &#123; imageUrl &#125; &#x3D; this.state;</span><br><span class=\"line\"></span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;Upload</span><br><span class=\"line\">        listType&#x3D;&quot;picture-card&quot;</span><br><span class=\"line\">        &#123;...this.upLoadProps()&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      &gt;</span><br><span class=\"line\">        &#123;imageUrl ? &lt;img src&#x3D;&#123;imageUrl&#125; alt&#x3D;&quot;avatar&quot; &#x2F;&gt; : this.uploadButton()&#125;</span><br><span class=\"line\">      &lt;&#x2F;Upload&gt;</span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export default FormImageUpload;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>FormInput</strong></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;*</span><br><span class=\"line\"> * @Author: Derrick </span><br><span class=\"line\"> * @Date: 2019-04-10 10:57:08 </span><br><span class=\"line\"> * @Last Modified by: Derrick</span><br><span class=\"line\"> * @Last Modified time: 2019-04-15 14:46:23</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">import React, &#123; Component &#125; from &#39;react&#39;;</span><br><span class=\"line\">import &#123; Input &#125; from &#39;antd&#39;;</span><br><span class=\"line\">import PropTypes from &#39;prop-types&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">class FormInput extends Component &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  change &#x3D; (e) &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123;onChange&#125; &#x3D; this.props;</span><br><span class=\"line\">    onChange(e)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    const &#123;message, value, disabled&#125; &#x3D; this.props;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;Input disabled&#x3D;&#123;disabled&#125; placeholder&#x3D;&#123;message&#125; value&#x3D;&#123;value&#125; onChange&#x3D;&#123;this.change&#125; &#x2F;&gt;</span><br><span class=\"line\">      );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FormInput.propsType &#x3D; &#123;</span><br><span class=\"line\">  disabled: PropTypes.bool, &#x2F;&#x2F; æ˜¯å¦ä¸å¯é€‰</span><br><span class=\"line\">  message: PropTypes.string, &#x2F;&#x2F; é»˜è®¤æ–‡å­—ï¼ˆplaceholder</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FormInput.defalutProps &#x3D; &#123;</span><br><span class=\"line\">  disabled: false,</span><br><span class=\"line\">  message: &#39;&#39;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export default FormInput;</span><br></pre></td></tr></table></figure>\n\n\n<ul>\n<li><strong>FormSelect</strong></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;*</span><br><span class=\"line\"> * @Author: Derrick </span><br><span class=\"line\"> * @Date: 2019-04-10 10:13:58 </span><br><span class=\"line\"> * @Last Modified by: Derrick</span><br><span class=\"line\"> * @Last Modified time: 2019-04-28 15:59:22</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">import React, &#123; Component &#125; from &#39;react&#39;;</span><br><span class=\"line\">import &#123; Select &#125; from &#39;antd&#39;;</span><br><span class=\"line\">import PropTypes, &#123; object &#125; from &#39;prop-types&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">const &#123; Option &#125; &#x3D; Select;</span><br><span class=\"line\">class FormSelect extends Component &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  option &#x3D; () &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123;option &#x3D; []&#125; &#x3D; this.props;</span><br><span class=\"line\">    return option.map((v) &#x3D;&gt; &#123;</span><br><span class=\"line\">      const &#123;showValue, severKey&#125; &#x3D; v;</span><br><span class=\"line\">      return &lt;Option value&#x3D;&#123;severKey&#125; key&#x3D;&#123;severKey&#125;&gt;&#123;showValue&#125;&lt;&#x2F;Option&gt;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  selectCurrency &#x3D; (e) &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123;onChange&#125; &#x3D; this.props</span><br><span class=\"line\">    onChange(e)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    const &#123;message, value, disabled&#125; &#x3D; this.props;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;Select disabled&#x3D;&#123;disabled&#125; value&#x3D;&#123;value&#125; placeholder&#x3D;&#123;message&#125; style&#x3D;&#123;&#123;width: &#39;170px&#39;&#125;&#125; onSelect&#x3D;&#123;this.selectCurrency&#125;&gt;</span><br><span class=\"line\">        &#123;this.option()&#125;</span><br><span class=\"line\">      &lt;&#x2F;Select&gt;    </span><br><span class=\"line\">      );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FormSelect.propsType &#x3D; &#123;</span><br><span class=\"line\">  disabled: PropTypes.bool, &#x2F;&#x2F; æ˜¯å¦ä¸å¯é€‰</span><br><span class=\"line\">  message: PropTypes.string, &#x2F;&#x2F; é»˜è®¤æ–‡å­—ï¼ˆplaceholder</span><br><span class=\"line\">  option: PropTypes.arrayOf(object), &#x2F;&#x2F; é€‰æ‹©æ¡†çš„é€‰é¡¹</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FormSelect.defalutProps &#x3D; &#123;</span><br><span class=\"line\">  disabled: false,</span><br><span class=\"line\">  message: &#39;&#39;,</span><br><span class=\"line\">  option: [],</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export default FormSelect;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>FormTextArea</strong></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;*</span><br><span class=\"line\"> * @Author: Derrick </span><br><span class=\"line\"> * @Date: 2019-04-23 10:20:36 </span><br><span class=\"line\"> * @Last Modified by: Derrick</span><br><span class=\"line\"> * @Last Modified time: 2019-04-23 10:21:33</span><br><span class=\"line\"> *&#x2F;</span><br><span class=\"line\">import React, &#123; Component &#125; from &#39;react&#39;;</span><br><span class=\"line\">import &#123; Input &#125; from &#39;antd&#39;;</span><br><span class=\"line\">import PropTypes from &#39;prop-types&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">const &#123; TextArea &#125; &#x3D; Input;</span><br><span class=\"line\">class FormTextArea extends Component &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  change &#x3D; (e) &#x3D;&gt; &#123;</span><br><span class=\"line\">    const &#123;onChange&#125; &#x3D; this.props;</span><br><span class=\"line\">    onChange(e)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    const &#123;message, value, disabled&#125; &#x3D; this.props;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;TextArea rows&#x3D;&#123;4&#125; disabled&#x3D;&#123;disabled&#125; placeholder&#x3D;&#123;message&#125; value&#x3D;&#123;value&#125; onChange&#x3D;&#123;this.change&#125; &#x2F;&gt;</span><br><span class=\"line\">      );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FormTextArea.propsType &#x3D; &#123;</span><br><span class=\"line\">  disabled: PropTypes.bool, &#x2F;&#x2F; æ˜¯å¦ä¸å¯é€‰</span><br><span class=\"line\">  message: PropTypes.string, &#x2F;&#x2F; é»˜è®¤æ–‡å­—ï¼ˆplaceholder</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">FormTextArea.defalutProps &#x3D; &#123;</span><br><span class=\"line\">  disabled: false,</span><br><span class=\"line\">  message: &#39;&#39;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export default FormTextArea;</span><br></pre></td></tr></table></figure>\n\n\n<h2 id=\"æ ¸å¿ƒ\"><a href=\"#æ ¸å¿ƒ\" class=\"headerlink\" title=\"æ ¸å¿ƒ\"></a>æ ¸å¿ƒ</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const &#123;onChange&#125; &#x3D; this.props;</span><br><span class=\"line\">onChange(XX)</span><br></pre></td></tr></table></figure>\n\n\n<p>è¿™ä¸ªonChangeæ˜¯å¯ä»¥ç›´æ¥æ”¹å˜FormItemçš„å€¼ã€‚</p>\n<p>æ¥ä¸‹æ¥å¯ä»¥åŠ å…¥æ‚¨è‡ªå·±å–œæ¬¢çš„ç»„ä»¶ï¼Œéƒ½æ˜¯å¤§åŒå°å¼‚ï¼ŒåŸºæœ¬ä¸Šéƒ½ç¦»ä¸å¼€è¿™ä¸ªonChangeã€‚</p>\n<p>ä»¥ä¸Šå°±æ˜¯æœ¬äººæœ€è¿‘å°è£…çš„ä¸€ä¸ªç»„ä»¶ï¼Œæˆ‘æ„Ÿè§‰å¾ˆå¥½ç”¨æ‰€ä»¥æƒ³åˆ†äº«å‡ºæ¥ã€‚</p>\n"},{"title":"chunk 0 [mini-css-extract-plugin] è§£å†³ CSS Modules è­¦å‘Š","date":"2019-06-29T02:38:06.000Z","cover":"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/css.png","_content":"\n## å‰è¨€\nå‰ä¸¤å‘¨ï¼Œç”¨å…¬å¸çš„CIéƒ¨ç½²çš„æ—¶å€™ï¼Œå‘ç°![](/image/CSSModuleè­¦å‘Š/aHR0cDovL2kyLnRpaW1nLmNvbS82OTE2NDMvMmVmODNhMzcxNjA4OWEwZS5wbmc.jpeg)\nå¾ˆé²œæ˜çš„ERRï¼\nå…¶å®è¿™ä¸ªè¿™ä¸ªåªæ˜¯ä¸€ä¸ªwarningã€‚ä½†æ˜¯ç”±äºç¯å¢ƒå˜é‡ï¼ˆprocess.env.ci === trueï¼‰ã€‚æ‰€ä»¥è¿™ä¸ªwarningè¢«è½¬åŒ–æˆäº†errorï¼Œå¯¼è‡´äº†ç¼–è¯‘å¤±è´¥ã€‚ä¸€èˆ¬çš„CIæœåŠ¡å™¨ä¼šè‡ªåŠ¨å°†è¿™ä¸ªè¿™è®¾ç½®ä¸ºtrueã€‚\n\n## è§£å†³æ–¹æ¡ˆ\nå› ä¸ºçŸ¥é“äº†åŸå› ï¼Œæ‰€ä»¥è§£å†³æ–¹æ¡ˆæœ‰ä»¥ä¸‹ä¸¤ä¸ª\n\n - ä¿®å¤è¿™ä¸ªwarningã€‚\n - è®©è¿ç»´å°å“¥å“¥å¸®å¿™æŠŠè¿™ä¸ªç¯å¢ƒå˜é‡è®¾ç½®ä¸ºfalseã€‚\n\næœ¬ç€æ¢å¯»çš„å¿ƒã€‚æˆ‘å¼€å§‹äº†googleï¼Œbaiduã€‚\næˆ‘æŸ¥äº†æ•´æ•´ä¸¤å¤©ã€‚\n\nå…¶å®è¿™äº›ä¸œè¥¿å¯èƒ½ä½¿ç”¨webpackçš„ä¸€äº›é…ç½®å°±æ”¹å®Œäº†ã€‚ä½†æ˜¯ç”±äºæˆ‘ä½¿ç”¨çš„æ˜¯`react-app-rewired`ã€‚\n[ant design mobile](https://mobile.ant.design/docs/react/use-with-create-react-app-cn)\nå…·ä½“æƒ³äº†è§£çš„å¯ä»¥è‡ªå·±å»äº†è§£ã€‚æˆ‘ä»¬è¨€å½’æ­£ä¼ ã€‚\n\n## æ¢ç´¢\næˆ‘å¼€å§‹æ‰¾å„ç§â€œäººâ€çš„æ¯›ç—…\n`lessï¼Œsassï¼Œless-loaderï¼Œnode-sassï¼Œpostcss-px2rem` ç­‰ç­‰ã€‚æˆ‘å‡ ä¹å§package.jsoné‡Œé¢çš„ä¸œè¥¿éƒ½è¯•äº†ä¸€éï¼Œä¸ç®¡æ˜¯æœ€æ–°çš„ï¼Œæˆ–è€…æ˜¯æˆ‘æŸ¥è¯¢çš„è¿‡ç¨‹ä¸­æœ‰æåˆ°äº†ï¼Œæˆ‘å‡çº§æˆ–è€…é™çº§ä¸ºå›ºå®šç‰ˆæœ¬ã€‚\næ— æœï¼\n\n![ä¸€ä¸ªissue](/image/CSSModuleè­¦å‘Š/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvMGM4ZDhiNjZlMGNmZTY0Ny5wbmc.jpeg)\n\nä»–çš„å¤§è‡´æ„æ€æ˜¯ï¼ŒCSSæ›´åŠ å…³æ³¨åŠ è½½é¡ºåºï¼ŒOK\næˆ‘æŠŠæˆ‘çš„é¡¹ç›®æ‰€æœ‰çš„CSSåŠ è½½é¡ºåºæ”¹æˆäº†ä¸€è‡´ï¼ˆå…¶å®æ ¹æœ¬æ²¡æœ‰åŠ è½½ä¸¤ä¸ªä»¥ä¸ŠCSSçš„åœ°æ–¹ï¼Œæˆ‘åªæ˜¯æŠŠä»–ä»¬éƒ½æ”¾åˆ°æœ€åä¸€è¡Œimportï¼‰\n\n\nè¿˜æ˜¯ç¿»è½¦äº†ã€‚ä½†æ˜¯ç»™äº†æˆ‘å¾ˆå¤§çš„å¯å‘ã€‚\n\næˆ‘å¼€å§‹å…³æ³¨åŸç†ã€‚çœ‹æŠ¥é”™çš„å†…å®¹ã€‚\n\nå‡ ä¹éƒ½æ˜¯å’ŒAnt Design Mobilç›¸å…³çš„ã€‚\n\næˆ‘æƒ³åˆ°äº†æˆ‘å‡ ä¹æ‰€æœ‰çš„é¡µé¢éƒ½æ˜¯å‡ ä¹ä¸€ä¸ªæˆ‘è‡ªå·±å†™çš„ç»„ä»¶`<PageContainer>`\n\n![PageContainer](/image/CSSModuleè­¦å‘Š/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvZWIwYzBmODU2NDE0OGZjMC5wbmc.jpeg)\n\nåœ¨è¿™é‡Œæˆ‘ç”¨åˆ°äº†Ant Design Mobileçš„ç»„ä»¶ã€‚\næˆ‘å°è¯•æŠŠè¿™é‡Œçš„ç»„ä»¶å…¨éƒ¨åˆ é™¤ã€‚ç„¶ååœ¨æœ¬åœ°buildã€‚\n\nç«Ÿç„¶æˆåŠŸäº†ï¼\n\nå¾ˆæ˜æ˜¾ï¼Œé—®é¢˜å‡ºåœ¨äº†æˆ‘è¿™ä¸ªå…±ç”¨ç»„ä»¶å¤´ä¸Šã€‚æˆ‘å¼€å§‹ç ”ç©¶ä»–ã€‚\n\næœ€åæˆ‘å‘ç°ï¼Œåªè¦åœ¨æˆ‘çš„è¿™ä¸ªç»„ä»¶é‡Œé¢çš„ç»„ä»¶ç›´æ¥ç”¨åˆ°äº†Ant Design Mobileçš„ç»„ä»¶å°±ä¼šæŠ¥å‡ºCSS Moduleçš„è­¦å‘Šã€‚\n\nåœ¨Ant Design çš„issuesé‡Œé¢æˆ‘å‘ç°ï¼Œä¹Ÿæœ‰äººæœ‰è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯ä¹Ÿæœ‰äººè¯´æ˜äº†åŸå› ã€‚\n\næˆ‘ä¸ªäººçš„ç†è§£æ˜¯è¿™æ ·çš„ï¼šå› ä¸ºAnt Design å†…éƒ¨ä¹Ÿåšäº†CSSçš„æŒ‰éœ€åŠ è½½ã€‚å¯¼è‡´æˆ‘ä»¬å¼•ç”¨ç»„ä»¶çš„æ—¶å€™ï¼Œå¾ˆå®¹æ˜“é€ æˆCSSå¼•å…¥é¡ºåºçš„ä¸ä¸€è‡´ã€‚\n\nç„¶åæˆ‘æƒ³å‡ºäº†è§£å†³æ–¹æ¡ˆï¼Œå°†æˆ‘æ‰€æœ‰çš„ç»„ä»¶ï¼Œæˆ–è€…è¯´å­ç»„ä»¶ï¼Œå…¨éƒ¨å°è£…åˆ°å­™å­ç»„ä»¶ä¸­ã€‚å°±å¯ä»¥è§£å†³äº†\n\n![å­ç»„ä»¶](/image/CSSModuleè­¦å‘Š/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvODU2M2ZjOGJhZTU1ODI3Yy5wbmc.jpeg)\n\næœ€åï¼Œé¢„çº¦çš„çœ‹åˆ°äº†\n\n![ç¼–è¯‘æˆåŠŸ](/image/CSSModuleè­¦å‘Š/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvYTkxMmI1YzhlNTk3YTYzYy5wbmc.jpeg)","source":"_posts/chunk-0-mini-css-extract-plugin-è§£å†³-CSS-Modules-è­¦å‘Š.md","raw":"---\ntitle: 'chunk 0 [mini-css-extract-plugin] è§£å†³ CSS Modules è­¦å‘Š'\ndate: 2019-06-29 10:38:06\ntags: [CSS-Module]\ncategory: [CSS]\ncover: https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/css.png\n---\n\n## å‰è¨€\nå‰ä¸¤å‘¨ï¼Œç”¨å…¬å¸çš„CIéƒ¨ç½²çš„æ—¶å€™ï¼Œå‘ç°![](/image/CSSModuleè­¦å‘Š/aHR0cDovL2kyLnRpaW1nLmNvbS82OTE2NDMvMmVmODNhMzcxNjA4OWEwZS5wbmc.jpeg)\nå¾ˆé²œæ˜çš„ERRï¼\nå…¶å®è¿™ä¸ªè¿™ä¸ªåªæ˜¯ä¸€ä¸ªwarningã€‚ä½†æ˜¯ç”±äºç¯å¢ƒå˜é‡ï¼ˆprocess.env.ci === trueï¼‰ã€‚æ‰€ä»¥è¿™ä¸ªwarningè¢«è½¬åŒ–æˆäº†errorï¼Œå¯¼è‡´äº†ç¼–è¯‘å¤±è´¥ã€‚ä¸€èˆ¬çš„CIæœåŠ¡å™¨ä¼šè‡ªåŠ¨å°†è¿™ä¸ªè¿™è®¾ç½®ä¸ºtrueã€‚\n\n## è§£å†³æ–¹æ¡ˆ\nå› ä¸ºçŸ¥é“äº†åŸå› ï¼Œæ‰€ä»¥è§£å†³æ–¹æ¡ˆæœ‰ä»¥ä¸‹ä¸¤ä¸ª\n\n - ä¿®å¤è¿™ä¸ªwarningã€‚\n - è®©è¿ç»´å°å“¥å“¥å¸®å¿™æŠŠè¿™ä¸ªç¯å¢ƒå˜é‡è®¾ç½®ä¸ºfalseã€‚\n\næœ¬ç€æ¢å¯»çš„å¿ƒã€‚æˆ‘å¼€å§‹äº†googleï¼Œbaiduã€‚\næˆ‘æŸ¥äº†æ•´æ•´ä¸¤å¤©ã€‚\n\nå…¶å®è¿™äº›ä¸œè¥¿å¯èƒ½ä½¿ç”¨webpackçš„ä¸€äº›é…ç½®å°±æ”¹å®Œäº†ã€‚ä½†æ˜¯ç”±äºæˆ‘ä½¿ç”¨çš„æ˜¯`react-app-rewired`ã€‚\n[ant design mobile](https://mobile.ant.design/docs/react/use-with-create-react-app-cn)\nå…·ä½“æƒ³äº†è§£çš„å¯ä»¥è‡ªå·±å»äº†è§£ã€‚æˆ‘ä»¬è¨€å½’æ­£ä¼ ã€‚\n\n## æ¢ç´¢\næˆ‘å¼€å§‹æ‰¾å„ç§â€œäººâ€çš„æ¯›ç—…\n`lessï¼Œsassï¼Œless-loaderï¼Œnode-sassï¼Œpostcss-px2rem` ç­‰ç­‰ã€‚æˆ‘å‡ ä¹å§package.jsoné‡Œé¢çš„ä¸œè¥¿éƒ½è¯•äº†ä¸€éï¼Œä¸ç®¡æ˜¯æœ€æ–°çš„ï¼Œæˆ–è€…æ˜¯æˆ‘æŸ¥è¯¢çš„è¿‡ç¨‹ä¸­æœ‰æåˆ°äº†ï¼Œæˆ‘å‡çº§æˆ–è€…é™çº§ä¸ºå›ºå®šç‰ˆæœ¬ã€‚\næ— æœï¼\n\n![ä¸€ä¸ªissue](/image/CSSModuleè­¦å‘Š/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvMGM4ZDhiNjZlMGNmZTY0Ny5wbmc.jpeg)\n\nä»–çš„å¤§è‡´æ„æ€æ˜¯ï¼ŒCSSæ›´åŠ å…³æ³¨åŠ è½½é¡ºåºï¼ŒOK\næˆ‘æŠŠæˆ‘çš„é¡¹ç›®æ‰€æœ‰çš„CSSåŠ è½½é¡ºåºæ”¹æˆäº†ä¸€è‡´ï¼ˆå…¶å®æ ¹æœ¬æ²¡æœ‰åŠ è½½ä¸¤ä¸ªä»¥ä¸ŠCSSçš„åœ°æ–¹ï¼Œæˆ‘åªæ˜¯æŠŠä»–ä»¬éƒ½æ”¾åˆ°æœ€åä¸€è¡Œimportï¼‰\n\n\nè¿˜æ˜¯ç¿»è½¦äº†ã€‚ä½†æ˜¯ç»™äº†æˆ‘å¾ˆå¤§çš„å¯å‘ã€‚\n\næˆ‘å¼€å§‹å…³æ³¨åŸç†ã€‚çœ‹æŠ¥é”™çš„å†…å®¹ã€‚\n\nå‡ ä¹éƒ½æ˜¯å’ŒAnt Design Mobilç›¸å…³çš„ã€‚\n\næˆ‘æƒ³åˆ°äº†æˆ‘å‡ ä¹æ‰€æœ‰çš„é¡µé¢éƒ½æ˜¯å‡ ä¹ä¸€ä¸ªæˆ‘è‡ªå·±å†™çš„ç»„ä»¶`<PageContainer>`\n\n![PageContainer](/image/CSSModuleè­¦å‘Š/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvZWIwYzBmODU2NDE0OGZjMC5wbmc.jpeg)\n\nåœ¨è¿™é‡Œæˆ‘ç”¨åˆ°äº†Ant Design Mobileçš„ç»„ä»¶ã€‚\næˆ‘å°è¯•æŠŠè¿™é‡Œçš„ç»„ä»¶å…¨éƒ¨åˆ é™¤ã€‚ç„¶ååœ¨æœ¬åœ°buildã€‚\n\nç«Ÿç„¶æˆåŠŸäº†ï¼\n\nå¾ˆæ˜æ˜¾ï¼Œé—®é¢˜å‡ºåœ¨äº†æˆ‘è¿™ä¸ªå…±ç”¨ç»„ä»¶å¤´ä¸Šã€‚æˆ‘å¼€å§‹ç ”ç©¶ä»–ã€‚\n\næœ€åæˆ‘å‘ç°ï¼Œåªè¦åœ¨æˆ‘çš„è¿™ä¸ªç»„ä»¶é‡Œé¢çš„ç»„ä»¶ç›´æ¥ç”¨åˆ°äº†Ant Design Mobileçš„ç»„ä»¶å°±ä¼šæŠ¥å‡ºCSS Moduleçš„è­¦å‘Šã€‚\n\nåœ¨Ant Design çš„issuesé‡Œé¢æˆ‘å‘ç°ï¼Œä¹Ÿæœ‰äººæœ‰è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯ä¹Ÿæœ‰äººè¯´æ˜äº†åŸå› ã€‚\n\næˆ‘ä¸ªäººçš„ç†è§£æ˜¯è¿™æ ·çš„ï¼šå› ä¸ºAnt Design å†…éƒ¨ä¹Ÿåšäº†CSSçš„æŒ‰éœ€åŠ è½½ã€‚å¯¼è‡´æˆ‘ä»¬å¼•ç”¨ç»„ä»¶çš„æ—¶å€™ï¼Œå¾ˆå®¹æ˜“é€ æˆCSSå¼•å…¥é¡ºåºçš„ä¸ä¸€è‡´ã€‚\n\nç„¶åæˆ‘æƒ³å‡ºäº†è§£å†³æ–¹æ¡ˆï¼Œå°†æˆ‘æ‰€æœ‰çš„ç»„ä»¶ï¼Œæˆ–è€…è¯´å­ç»„ä»¶ï¼Œå…¨éƒ¨å°è£…åˆ°å­™å­ç»„ä»¶ä¸­ã€‚å°±å¯ä»¥è§£å†³äº†\n\n![å­ç»„ä»¶](/image/CSSModuleè­¦å‘Š/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvODU2M2ZjOGJhZTU1ODI3Yy5wbmc.jpeg)\n\næœ€åï¼Œé¢„çº¦çš„çœ‹åˆ°äº†\n\n![ç¼–è¯‘æˆåŠŸ](/image/CSSModuleè­¦å‘Š/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvYTkxMmI1YzhlNTk3YTYzYy5wbmc.jpeg)","slug":"chunk-0-mini-css-extract-plugin-è§£å†³-CSS-Modules-è­¦å‘Š","published":1,"updated":"2020-04-11T14:07:56.487Z","_id":"ck8vk5j0g000oo5vm3qxa0xf0","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>å‰ä¸¤å‘¨ï¼Œç”¨å…¬å¸çš„CIéƒ¨ç½²çš„æ—¶å€™ï¼Œå‘ç°<img src=\"/\" class=\"lazyload\" data-src=\"/image/CSSModule%E8%AD%A6%E5%91%8A/aHR0cDovL2kyLnRpaW1nLmNvbS82OTE2NDMvMmVmODNhMzcxNjA4OWEwZS5wbmc.jpeg\"  alt=\"\"><br>å¾ˆé²œæ˜çš„ERRï¼<br>å…¶å®è¿™ä¸ªè¿™ä¸ªåªæ˜¯ä¸€ä¸ªwarningã€‚ä½†æ˜¯ç”±äºç¯å¢ƒå˜é‡ï¼ˆprocess.env.ci === trueï¼‰ã€‚æ‰€ä»¥è¿™ä¸ªwarningè¢«è½¬åŒ–æˆäº†errorï¼Œå¯¼è‡´äº†ç¼–è¯‘å¤±è´¥ã€‚ä¸€èˆ¬çš„CIæœåŠ¡å™¨ä¼šè‡ªåŠ¨å°†è¿™ä¸ªè¿™è®¾ç½®ä¸ºtrueã€‚</p>\n<h2 id=\"è§£å†³æ–¹æ¡ˆ\"><a href=\"#è§£å†³æ–¹æ¡ˆ\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h2><p>å› ä¸ºçŸ¥é“äº†åŸå› ï¼Œæ‰€ä»¥è§£å†³æ–¹æ¡ˆæœ‰ä»¥ä¸‹ä¸¤ä¸ª</p>\n<ul>\n<li>ä¿®å¤è¿™ä¸ªwarningã€‚</li>\n<li>è®©è¿ç»´å°å“¥å“¥å¸®å¿™æŠŠè¿™ä¸ªç¯å¢ƒå˜é‡è®¾ç½®ä¸ºfalseã€‚</li>\n</ul>\n<p>æœ¬ç€æ¢å¯»çš„å¿ƒã€‚æˆ‘å¼€å§‹äº†googleï¼Œbaiduã€‚<br>æˆ‘æŸ¥äº†æ•´æ•´ä¸¤å¤©ã€‚</p>\n<p>å…¶å®è¿™äº›ä¸œè¥¿å¯èƒ½ä½¿ç”¨webpackçš„ä¸€äº›é…ç½®å°±æ”¹å®Œäº†ã€‚ä½†æ˜¯ç”±äºæˆ‘ä½¿ç”¨çš„æ˜¯<code>react-app-rewired</code>ã€‚<br><a href=\"https://mobile.ant.design/docs/react/use-with-create-react-app-cn\" target=\"_blank\" rel=\"noopener\">ant design mobile</a><br>å…·ä½“æƒ³äº†è§£çš„å¯ä»¥è‡ªå·±å»äº†è§£ã€‚æˆ‘ä»¬è¨€å½’æ­£ä¼ ã€‚</p>\n<h2 id=\"æ¢ç´¢\"><a href=\"#æ¢ç´¢\" class=\"headerlink\" title=\"æ¢ç´¢\"></a>æ¢ç´¢</h2><p>æˆ‘å¼€å§‹æ‰¾å„ç§â€œäººâ€çš„æ¯›ç—…<br><code>lessï¼Œsassï¼Œless-loaderï¼Œnode-sassï¼Œpostcss-px2rem</code> ç­‰ç­‰ã€‚æˆ‘å‡ ä¹å§package.jsoné‡Œé¢çš„ä¸œè¥¿éƒ½è¯•äº†ä¸€éï¼Œä¸ç®¡æ˜¯æœ€æ–°çš„ï¼Œæˆ–è€…æ˜¯æˆ‘æŸ¥è¯¢çš„è¿‡ç¨‹ä¸­æœ‰æåˆ°äº†ï¼Œæˆ‘å‡çº§æˆ–è€…é™çº§ä¸ºå›ºå®šç‰ˆæœ¬ã€‚<br>æ— æœï¼</p>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"/image/CSSModule%E8%AD%A6%E5%91%8A/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvMGM4ZDhiNjZlMGNmZTY0Ny5wbmc.jpeg\"  alt=\"ä¸€ä¸ªissue\"></p>\n<p>ä»–çš„å¤§è‡´æ„æ€æ˜¯ï¼ŒCSSæ›´åŠ å…³æ³¨åŠ è½½é¡ºåºï¼ŒOK<br>æˆ‘æŠŠæˆ‘çš„é¡¹ç›®æ‰€æœ‰çš„CSSåŠ è½½é¡ºåºæ”¹æˆäº†ä¸€è‡´ï¼ˆå…¶å®æ ¹æœ¬æ²¡æœ‰åŠ è½½ä¸¤ä¸ªä»¥ä¸ŠCSSçš„åœ°æ–¹ï¼Œæˆ‘åªæ˜¯æŠŠä»–ä»¬éƒ½æ”¾åˆ°æœ€åä¸€è¡Œimportï¼‰</p>\n<p>è¿˜æ˜¯ç¿»è½¦äº†ã€‚ä½†æ˜¯ç»™äº†æˆ‘å¾ˆå¤§çš„å¯å‘ã€‚</p>\n<p>æˆ‘å¼€å§‹å…³æ³¨åŸç†ã€‚çœ‹æŠ¥é”™çš„å†…å®¹ã€‚</p>\n<p>å‡ ä¹éƒ½æ˜¯å’ŒAnt Design Mobilç›¸å…³çš„ã€‚</p>\n<p>æˆ‘æƒ³åˆ°äº†æˆ‘å‡ ä¹æ‰€æœ‰çš„é¡µé¢éƒ½æ˜¯å‡ ä¹ä¸€ä¸ªæˆ‘è‡ªå·±å†™çš„ç»„ä»¶<code>&lt;PageContainer&gt;</code></p>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"/image/CSSModule%E8%AD%A6%E5%91%8A/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvZWIwYzBmODU2NDE0OGZjMC5wbmc.jpeg\"  alt=\"PageContainer\"></p>\n<p>åœ¨è¿™é‡Œæˆ‘ç”¨åˆ°äº†Ant Design Mobileçš„ç»„ä»¶ã€‚<br>æˆ‘å°è¯•æŠŠè¿™é‡Œçš„ç»„ä»¶å…¨éƒ¨åˆ é™¤ã€‚ç„¶ååœ¨æœ¬åœ°buildã€‚</p>\n<p>ç«Ÿç„¶æˆåŠŸäº†ï¼</p>\n<p>å¾ˆæ˜æ˜¾ï¼Œé—®é¢˜å‡ºåœ¨äº†æˆ‘è¿™ä¸ªå…±ç”¨ç»„ä»¶å¤´ä¸Šã€‚æˆ‘å¼€å§‹ç ”ç©¶ä»–ã€‚</p>\n<p>æœ€åæˆ‘å‘ç°ï¼Œåªè¦åœ¨æˆ‘çš„è¿™ä¸ªç»„ä»¶é‡Œé¢çš„ç»„ä»¶ç›´æ¥ç”¨åˆ°äº†Ant Design Mobileçš„ç»„ä»¶å°±ä¼šæŠ¥å‡ºCSS Moduleçš„è­¦å‘Šã€‚</p>\n<p>åœ¨Ant Design çš„issuesé‡Œé¢æˆ‘å‘ç°ï¼Œä¹Ÿæœ‰äººæœ‰è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯ä¹Ÿæœ‰äººè¯´æ˜äº†åŸå› ã€‚</p>\n<p>æˆ‘ä¸ªäººçš„ç†è§£æ˜¯è¿™æ ·çš„ï¼šå› ä¸ºAnt Design å†…éƒ¨ä¹Ÿåšäº†CSSçš„æŒ‰éœ€åŠ è½½ã€‚å¯¼è‡´æˆ‘ä»¬å¼•ç”¨ç»„ä»¶çš„æ—¶å€™ï¼Œå¾ˆå®¹æ˜“é€ æˆCSSå¼•å…¥é¡ºåºçš„ä¸ä¸€è‡´ã€‚</p>\n<p>ç„¶åæˆ‘æƒ³å‡ºäº†è§£å†³æ–¹æ¡ˆï¼Œå°†æˆ‘æ‰€æœ‰çš„ç»„ä»¶ï¼Œæˆ–è€…è¯´å­ç»„ä»¶ï¼Œå…¨éƒ¨å°è£…åˆ°å­™å­ç»„ä»¶ä¸­ã€‚å°±å¯ä»¥è§£å†³äº†</p>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"/image/CSSModule%E8%AD%A6%E5%91%8A/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvODU2M2ZjOGJhZTU1ODI3Yy5wbmc.jpeg\"  alt=\"å­ç»„ä»¶\"></p>\n<p>æœ€åï¼Œé¢„çº¦çš„çœ‹åˆ°äº†</p>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"/image/CSSModule%E8%AD%A6%E5%91%8A/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvYTkxMmI1YzhlNTk3YTYzYy5wbmc.jpeg\"  alt=\"ç¼–è¯‘æˆåŠŸ\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>å‰ä¸¤å‘¨ï¼Œç”¨å…¬å¸çš„CIéƒ¨ç½²çš„æ—¶å€™ï¼Œå‘ç°<img src=\"/image/CSSModule%E8%AD%A6%E5%91%8A/aHR0cDovL2kyLnRpaW1nLmNvbS82OTE2NDMvMmVmODNhMzcxNjA4OWEwZS5wbmc.jpeg\" alt=\"\"><br>å¾ˆé²œæ˜çš„ERRï¼<br>å…¶å®è¿™ä¸ªè¿™ä¸ªåªæ˜¯ä¸€ä¸ªwarningã€‚ä½†æ˜¯ç”±äºç¯å¢ƒå˜é‡ï¼ˆprocess.env.ci === trueï¼‰ã€‚æ‰€ä»¥è¿™ä¸ªwarningè¢«è½¬åŒ–æˆäº†errorï¼Œå¯¼è‡´äº†ç¼–è¯‘å¤±è´¥ã€‚ä¸€èˆ¬çš„CIæœåŠ¡å™¨ä¼šè‡ªåŠ¨å°†è¿™ä¸ªè¿™è®¾ç½®ä¸ºtrueã€‚</p>\n<h2 id=\"è§£å†³æ–¹æ¡ˆ\"><a href=\"#è§£å†³æ–¹æ¡ˆ\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h2><p>å› ä¸ºçŸ¥é“äº†åŸå› ï¼Œæ‰€ä»¥è§£å†³æ–¹æ¡ˆæœ‰ä»¥ä¸‹ä¸¤ä¸ª</p>\n<ul>\n<li>ä¿®å¤è¿™ä¸ªwarningã€‚</li>\n<li>è®©è¿ç»´å°å“¥å“¥å¸®å¿™æŠŠè¿™ä¸ªç¯å¢ƒå˜é‡è®¾ç½®ä¸ºfalseã€‚</li>\n</ul>\n<p>æœ¬ç€æ¢å¯»çš„å¿ƒã€‚æˆ‘å¼€å§‹äº†googleï¼Œbaiduã€‚<br>æˆ‘æŸ¥äº†æ•´æ•´ä¸¤å¤©ã€‚</p>\n<p>å…¶å®è¿™äº›ä¸œè¥¿å¯èƒ½ä½¿ç”¨webpackçš„ä¸€äº›é…ç½®å°±æ”¹å®Œäº†ã€‚ä½†æ˜¯ç”±äºæˆ‘ä½¿ç”¨çš„æ˜¯<code>react-app-rewired</code>ã€‚<br><a href=\"https://mobile.ant.design/docs/react/use-with-create-react-app-cn\" target=\"_blank\" rel=\"noopener\">ant design mobile</a><br>å…·ä½“æƒ³äº†è§£çš„å¯ä»¥è‡ªå·±å»äº†è§£ã€‚æˆ‘ä»¬è¨€å½’æ­£ä¼ ã€‚</p>\n<h2 id=\"æ¢ç´¢\"><a href=\"#æ¢ç´¢\" class=\"headerlink\" title=\"æ¢ç´¢\"></a>æ¢ç´¢</h2><p>æˆ‘å¼€å§‹æ‰¾å„ç§â€œäººâ€çš„æ¯›ç—…<br><code>lessï¼Œsassï¼Œless-loaderï¼Œnode-sassï¼Œpostcss-px2rem</code> ç­‰ç­‰ã€‚æˆ‘å‡ ä¹å§package.jsoné‡Œé¢çš„ä¸œè¥¿éƒ½è¯•äº†ä¸€éï¼Œä¸ç®¡æ˜¯æœ€æ–°çš„ï¼Œæˆ–è€…æ˜¯æˆ‘æŸ¥è¯¢çš„è¿‡ç¨‹ä¸­æœ‰æåˆ°äº†ï¼Œæˆ‘å‡çº§æˆ–è€…é™çº§ä¸ºå›ºå®šç‰ˆæœ¬ã€‚<br>æ— æœï¼</p>\n<p><img src=\"/image/CSSModule%E8%AD%A6%E5%91%8A/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvMGM4ZDhiNjZlMGNmZTY0Ny5wbmc.jpeg\" alt=\"ä¸€ä¸ªissue\"></p>\n<p>ä»–çš„å¤§è‡´æ„æ€æ˜¯ï¼ŒCSSæ›´åŠ å…³æ³¨åŠ è½½é¡ºåºï¼ŒOK<br>æˆ‘æŠŠæˆ‘çš„é¡¹ç›®æ‰€æœ‰çš„CSSåŠ è½½é¡ºåºæ”¹æˆäº†ä¸€è‡´ï¼ˆå…¶å®æ ¹æœ¬æ²¡æœ‰åŠ è½½ä¸¤ä¸ªä»¥ä¸ŠCSSçš„åœ°æ–¹ï¼Œæˆ‘åªæ˜¯æŠŠä»–ä»¬éƒ½æ”¾åˆ°æœ€åä¸€è¡Œimportï¼‰</p>\n<p>è¿˜æ˜¯ç¿»è½¦äº†ã€‚ä½†æ˜¯ç»™äº†æˆ‘å¾ˆå¤§çš„å¯å‘ã€‚</p>\n<p>æˆ‘å¼€å§‹å…³æ³¨åŸç†ã€‚çœ‹æŠ¥é”™çš„å†…å®¹ã€‚</p>\n<p>å‡ ä¹éƒ½æ˜¯å’ŒAnt Design Mobilç›¸å…³çš„ã€‚</p>\n<p>æˆ‘æƒ³åˆ°äº†æˆ‘å‡ ä¹æ‰€æœ‰çš„é¡µé¢éƒ½æ˜¯å‡ ä¹ä¸€ä¸ªæˆ‘è‡ªå·±å†™çš„ç»„ä»¶<code>&lt;PageContainer&gt;</code></p>\n<p><img src=\"/image/CSSModule%E8%AD%A6%E5%91%8A/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvZWIwYzBmODU2NDE0OGZjMC5wbmc.jpeg\" alt=\"PageContainer\"></p>\n<p>åœ¨è¿™é‡Œæˆ‘ç”¨åˆ°äº†Ant Design Mobileçš„ç»„ä»¶ã€‚<br>æˆ‘å°è¯•æŠŠè¿™é‡Œçš„ç»„ä»¶å…¨éƒ¨åˆ é™¤ã€‚ç„¶ååœ¨æœ¬åœ°buildã€‚</p>\n<p>ç«Ÿç„¶æˆåŠŸäº†ï¼</p>\n<p>å¾ˆæ˜æ˜¾ï¼Œé—®é¢˜å‡ºåœ¨äº†æˆ‘è¿™ä¸ªå…±ç”¨ç»„ä»¶å¤´ä¸Šã€‚æˆ‘å¼€å§‹ç ”ç©¶ä»–ã€‚</p>\n<p>æœ€åæˆ‘å‘ç°ï¼Œåªè¦åœ¨æˆ‘çš„è¿™ä¸ªç»„ä»¶é‡Œé¢çš„ç»„ä»¶ç›´æ¥ç”¨åˆ°äº†Ant Design Mobileçš„ç»„ä»¶å°±ä¼šæŠ¥å‡ºCSS Moduleçš„è­¦å‘Šã€‚</p>\n<p>åœ¨Ant Design çš„issuesé‡Œé¢æˆ‘å‘ç°ï¼Œä¹Ÿæœ‰äººæœ‰è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯ä¹Ÿæœ‰äººè¯´æ˜äº†åŸå› ã€‚</p>\n<p>æˆ‘ä¸ªäººçš„ç†è§£æ˜¯è¿™æ ·çš„ï¼šå› ä¸ºAnt Design å†…éƒ¨ä¹Ÿåšäº†CSSçš„æŒ‰éœ€åŠ è½½ã€‚å¯¼è‡´æˆ‘ä»¬å¼•ç”¨ç»„ä»¶çš„æ—¶å€™ï¼Œå¾ˆå®¹æ˜“é€ æˆCSSå¼•å…¥é¡ºåºçš„ä¸ä¸€è‡´ã€‚</p>\n<p>ç„¶åæˆ‘æƒ³å‡ºäº†è§£å†³æ–¹æ¡ˆï¼Œå°†æˆ‘æ‰€æœ‰çš„ç»„ä»¶ï¼Œæˆ–è€…è¯´å­ç»„ä»¶ï¼Œå…¨éƒ¨å°è£…åˆ°å­™å­ç»„ä»¶ä¸­ã€‚å°±å¯ä»¥è§£å†³äº†</p>\n<p><img src=\"/image/CSSModule%E8%AD%A6%E5%91%8A/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvODU2M2ZjOGJhZTU1ODI3Yy5wbmc.jpeg\" alt=\"å­ç»„ä»¶\"></p>\n<p>æœ€åï¼Œé¢„çº¦çš„çœ‹åˆ°äº†</p>\n<p><img src=\"/image/CSSModule%E8%AD%A6%E5%91%8A/aHR0cDovL2kxLmZ1aW1nLmNvbS82OTE2NDMvYTkxMmI1YzhlNTk3YTYzYy5wbmc.jpeg\" alt=\"ç¼–è¯‘æˆåŠŸ\"></p>\n"},{"title":"Hexo+GitHubæ„å»ºä½ çš„åšå®¢","date":"2019-06-17T11:17:25.000Z","cover":"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/HEXO.png?raw=true","_content":"\n\nhttps://blog.csdn.net/cuandeqin2083/article/details/92791433\n\n","source":"_posts/Hexo+GitHubæ„å»ºä½ çš„åšå®¢.md","raw":"---\ntitle: Hexo+GitHubæ„å»ºä½ çš„åšå®¢\ndate: 2019-06-17 19:17:25\ntags: [Hexo, GitHub]\ncategories: [åšå®¢]\ncover: https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/HEXO.png?raw=true\n---\n\n\nhttps://blog.csdn.net/cuandeqin2083/article/details/92791433\n\n","slug":"Hexo+GitHubæ„å»ºä½ çš„åšå®¢","published":1,"updated":"2020-04-11T11:50:39.523Z","_id":"ck8vk5nhp000zo5vm3i2n0vig","comments":1,"layout":"post","photos":[],"link":"","content":"<p><a href=\"https://blog.csdn.net/cuandeqin2083/article/details/92791433\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/cuandeqin2083/article/details/92791433</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p><a href=\"https://blog.csdn.net/cuandeqin2083/article/details/92791433\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/cuandeqin2083/article/details/92791433</a></p>\n"},{"title":"HTTPH/TTPSåè®®","date":"2019-08-24T11:02:25.000Z","cover":"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/HTTP%20HTTP%20%E5%8D%8F%E8%AE%AE%20URI/%E4%B8%8B%E8%BD%BD.png?raw=true","_content":"\n## åè®®\n\nç½‘ç»œåè®®æ˜¯è®¡ç®—æœºä¹‹é—´ä¸ºäº†å®ç°ç½‘ç»œé€šä¿¡è€Œè¾¾æˆçš„ä¸€ç§â€œçº¦å®šâ€æˆ–è€…â€è§„åˆ™â€œï¼Œæœ‰äº†è¿™ç§â€çº¦å®šâ€œï¼Œä¸åŒå‚å•†çš„ç”Ÿäº§è®¾å¤‡ï¼Œä»¥åŠä¸åŒæ“ä½œç³»ç»Ÿç»„æˆçš„è®¡ç®—æœºä¹‹é—´ï¼Œå°±å¯ä»¥å®ç°é€šä¿¡ã€‚\n\n### HTTPåè®®\nHTTPåè®®æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®çš„ç¼©å†™ï¼Œè‹±æ–‡æ˜¯Hyper Text Transfer Protocolã€‚å®ƒæ˜¯ä»WEBæœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€(HTML)åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ é€åè®®ã€‚\n\nè®¾è®¡HTTPæœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†æä¾›ä¸€ç§å‘å¸ƒå’Œæ¥æ”¶HTMLé¡µé¢çš„æ–¹æ³•ã€‚\n\nHTPPæœ‰å¤šä¸ªç‰ˆæœ¬ï¼Œç›®å‰å¹¿æ³›ä½¿ç”¨çš„æ˜¯HTTP/1.1ç‰ˆæœ¬ã€‚\n\n## HTTP\nHTTP å…¨ç§°æ˜¯ HyperText Transfer Protocal ï¼Œå³ï¼šè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä» 1990 å¹´å¼€å§‹å°±åœ¨ WWW ä¸Šå¹¿æ³›åº”ç”¨ï¼Œæ˜¯ç°ä»Šåœ¨ WWW ä¸Šåº”ç”¨æœ€å¤šçš„åè®®ï¼ŒHTTP æ˜¯åº”ç”¨å±‚åè®®ï¼Œå½“ä½ ä¸Šç½‘æµè§ˆç½‘é¡µçš„æ—¶å€™ï¼Œæµè§ˆå™¨å’Œ web æœåŠ¡å™¨ä¹‹é—´å°±ä¼šé€šè¿‡ HTTP åœ¨ Internet ä¸Šè¿›è¡Œæ•°æ®çš„å‘é€å’Œæ¥æ”¶ã€‚HTTP æ˜¯ä¸€ä¸ªåŸºäºè¯·æ±‚/å“åº”æ¨¡å¼çš„ã€æ— çŠ¶æ€çš„åè®®ã€‚å³æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„ Request/Response\n\n### HTTPåŸç†\n\nHTTPæ˜¯ä¸€ä¸ªåŸºäºTCP/IPé€šä¿¡åè®®æ¥ä¼ é€’æ•°æ®çš„åè®®ï¼Œä¼ è¾“çš„æ•°æ®ç±»å‹ä¸ºHTML æ–‡ä»¶,ã€å›¾ç‰‡æ–‡ä»¶, æŸ¥è¯¢ç»“æœç­‰ã€‚\n\nHTTPåè®®ä¸€èˆ¬ç”¨äºB/Sæ¶æ„ï¼ˆï¼‰ã€‚æµè§ˆå™¨ä½œä¸ºHTTPå®¢æˆ·ç«¯é€šè¿‡URLå‘HTTPæœåŠ¡ç«¯å³WEBæœåŠ¡å™¨å‘é€æ‰€æœ‰è¯·æ±‚ã€‚\n\n### HTTPåè®®\n\nHTTPåè®®æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®çš„ç¼©å†™ï¼Œè‹±æ–‡æ˜¯Hyper Text Transfer Protocolã€‚å®ƒæ˜¯ä»WEBæœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€(HTML)åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ é€åè®®ã€‚\n\nè®¾è®¡HTTPæœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†æä¾›ä¸€ç§å‘å¸ƒå’Œæ¥æ”¶HTMLé¡µé¢çš„æ–¹æ³•ã€‚\n\nHTPPæœ‰å¤šä¸ªç‰ˆæœ¬ï¼Œç›®å‰å¹¿æ³›ä½¿ç”¨çš„æ˜¯HTTP/1.1ç‰ˆæœ¬ã€‚\n\n### HTTPç‰¹ç‚¹\n\n - æ”¯æŒå®¢æˆ·ç«¯/æœåŠ¡å™¨æ¨¡å¼\n - ç®€å•å¿«é€Ÿï¼šå®¢æˆ·å‘æœåŠ¡å™¨è¯·æ±‚æœåŠ¡æ—¶ï¼Œåªéœ€ä¼ é€è¯·æ±‚æ–¹æ³•å’Œè·¯å¾„ã€‚ç”±äº HTTP åè®®ç®€å•ï¼Œä½¿å¾— HTTP æœåŠ¡å™¨çš„ç¨‹åºè§„æ¨¡å°ï¼Œå› è€Œé€šä¿¡é€Ÿåº¦å¾ˆå¿«\n - çµæ´»ï¼šHTTP å…è®¸ä¼ è¾“ä»»æ„ç±»å‹çš„æ•°æ®å¯¹è±¡ã€‚æ­£åœ¨ä¼ è¾“çš„ç±»å‹ç”± Content-Type åŠ ä»¥æ ‡è®°\n - æ— è¿æ¥ï¼šæ— è¿æ¥çš„å«ä¹‰æ˜¯é™åˆ¶æ¯æ¬¡é“¾æ¥åªå¤„ç†ä¸€ä¸ªè¯·æ±‚ã€‚æœåŠ¡å™¨å¤„ç†å®Œå®¢æˆ·çš„è¯·æ±‚ï¼Œå¹¶æ”¶åˆ°å®¢æˆ·çš„åº”ç­”åï¼Œå³æ–­å¼€é“¾æ¥ï¼Œé‡‡ç”¨è¿™ç§æ–¹å¼å¯ä»¥èŠ‚çœä¼ è¾“æ—¶é—´\n - æ— çŠ¶æ€ï¼šHTTP åè®®æ˜¯æ— çŠ¶æ€åè®®ã€‚æ— çŠ¶æ€æ˜¯æŒ‡åè®®å¯¹äºäº‹ç‰©å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›ã€‚ç¼ºå°‘çŠ¶æ€æ„å‘³ç€å¦‚æœåç»­å¤„ç†éœ€è¦å‰é¢çš„ä¿¡æ¯ï¼Œåˆ™å®ƒå¿…é¡»é‡ä¼ ï¼Œè¿™æ ·å¯èƒ½ä¼šå¯¼è‡´æ¯æ¬¡è¿æ¥ä¼ é€çš„æ•°æ®é‡å¢å¤§ã€‚å¦ä¸€æ–¹é¢ï¼Œåœ¨æœåŠ¡å™¨ä¸éœ€è¦å…ˆå‰ä¿¡æ¯æ—¶å®ƒçš„åº”ç­”å°±æ¯”è¾ƒå¿«\n\n## HTTPS\nHTTPS åè®®ï¼ˆHyperText Transfer Protocol over Secure Socket Layerï¼‰ï¼šä¸€èˆ¬ç†è§£ä¸ºHTTP+SSL/TLSï¼Œé€šè¿‡ SSLè¯ä¹¦æ¥éªŒè¯æœåŠ¡å™¨çš„èº«ä»½ï¼Œå¹¶ä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡è¿›è¡ŒåŠ å¯†ã€‚\n\nè§£å†³HTTPçš„ä¸€äº›é—®é¢˜\n - è¯·æ±‚ä¿¡æ¯æ˜æ–‡ä¼ è¾“ï¼Œå®¹æ˜“è¢«çªƒå¬æˆªå–ã€‚\n - æ•°æ®çš„å®Œæ•´æ€§æœªæ ¡éªŒï¼Œå®¹æ˜“è¢«ç¯¡æ”¹\n - æ²¡æœ‰éªŒè¯å¯¹æ–¹èº«ä»½ï¼Œå­˜åœ¨å†’å……å±é™©\n\n\n## æ€»ç»“HTTPSå’ŒHTTPçš„åŒºåˆ«\n\n - HTTPSæ˜¯HTTPåè®®çš„å®‰å…¨ç‰ˆæœ¬ï¼ŒHTTPåè®®çš„æ•°æ®ä¼ è¾“æ˜¯æ˜æ–‡çš„ï¼Œæ˜¯ä¸å®‰å…¨çš„ï¼ŒHTTPSä½¿ç”¨äº†SSL/TLSåè®®è¿›è¡Œäº†åŠ å¯†å¤„ç†ã€‚\n - httpå’Œhttpsä½¿ç”¨è¿æ¥æ–¹å¼ä¸åŒï¼Œé»˜è®¤ç«¯å£ä¹Ÿä¸ä¸€æ ·ï¼Œhttpæ˜¯80ï¼Œhttpsæ˜¯443ã€‚\n\n## URLè¯¦è§£\n\nURLï¼ˆUniform Resource Locatorï¼‰æ˜¯ç»Ÿä¸€èµ„æºå®šä½ç¬¦çš„ç®€ç§°ï¼Œæœ‰æ—¶å€™ä¹Ÿè¢«ä¿—ç§°ä¸ºç½‘é¡µåœ°å€ï¼ˆç½‘å€ï¼‰ï¼Œå¦‚åŒæ˜¯ç½‘ç»œä¸Šçš„é—¨ç‰Œï¼Œæ˜¯å› ç‰¹ç½‘ä¸Šæ ‡å‡†çš„èµ„æºçš„åœ°å€\n\n### åŸºæœ¬ç»„æˆ\n\n| åç§°         | åŠŸèƒ½                                                         |\n| ------------ | ------------------------------------------------------------ |\n| scheme       | è®¿é—®æœåŠ¡å™¨ä»¥è·å–èµ„æºæ—¶è¦ä½¿ç”¨å“ªç§åè®®ï¼Œæ¯”å¦‚ï¼Œhttpï¼Œhttps å’Œ FTP ç­‰ |\n| host         | HTTP æœåŠ¡å™¨çš„ IP åœ°å€æˆ–åŸŸå                                  |\n| port#        | HTTP æœåŠ¡å™¨çš„é»˜è®¤ç«¯å£æ˜¯ 80ï¼Œè¿™ç§æƒ…å†µä¸‹ç«¯å£å·å¯ä»¥çœç•¥ï¼Œå¦‚æœä½¿ç”¨äº†åˆ«çš„ç«¯å£ï¼Œå¿…é¡»æŒ‡æ˜ï¼Œä¾‹å¦‚www.cnblogs.comï¼š8080 |\n| path         | è®¿é—®èµ„æºçš„è·¯å¾„                                               |\n| query-string | å‘ç»™ http æœåŠ¡å™¨çš„æ•°æ®                                       |\n| anchor       | é”š                                                           |\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/HTTP%20HTTP%20%E5%8D%8F%E8%AE%AE%20URI/15fc2525666dc96e.jpeg?raw=true)\n\n## HTTPè¯·æ±‚\n### ç±»å‹\n| åç§°    | åŠŸèƒ½                                                         |\n| ------- | ------------------------------------------------------------ |\n| GET     | å‘æŒ‡å®šçš„èµ„æºå‘å‡ºâ€œæ˜¾ç¤ºâ€è¯·æ±‚ï¼Œä½¿ç”¨ GET æ–¹æ³•åº”è¯¥åªç”¨åœ¨è¯»å–æ•°æ®ä¸Šï¼Œè€Œä¸åº”è¯¥ç”¨äºäº§ç”Ÿâ€œå‰¯ä½œç”¨â€çš„æ“ä½œä¸­ |\n| POST    | æŒ‡å®šèµ„æºæäº¤æ•°æ®ï¼Œè¯·æ±‚æœåŠ¡å™¨è¿›è¡Œå¤„ç†ï¼ˆä¾‹å¦‚æäº¤è¡¨å•æˆ–è€…ä¸Šä¼ æ–‡ä»¶ï¼‰ã€‚æ•°æ®è¢«åŒ…å«åœ¨è¯·æ±‚æ–‡æœ¬ä¸­ã€‚è¿™ä¸ªè¯·æ±‚å¯èƒ½ä¼šåˆ›å»ºæ–°çš„èµ„æºæˆ–è€…ä¿®æ”¹ç°æœ‰èµ„æºï¼Œæˆ–ä¸¤è€…çš†æœ‰ã€‚ |\n| PUT     | å‘æŒ‡å®šèµ„æºä½ç½®ä¸Šä¼ å…¶æœ€æ–°å†…å®¹                                 |\n| DELETE  | è¯·æ±‚æœåŠ¡å™¨åˆ é™¤ Request-URI æ‰€æ ‡è¯†çš„èµ„æº                      |\n| OPTIONS | ä½¿æœåŠ¡å™¨ä¼ å›è¯¥èµ„æºæ‰€æ”¯æŒçš„æ‰€æœ‰HTTPè¯·æ±‚æ–¹æ³•ã€‚ç”¨*æ¥ä»£æ›¿èµ„æºåç§°ï¼Œå‘ Web æœåŠ¡å™¨å‘é€ OPTIONS è¯·æ±‚ï¼Œå¯ä»¥æµ‹è¯•æœåŠ¡å™¨åŠŸèƒ½æ˜¯å¦æ­£å¸¸è¿ä½œ |\n| HEAD    | ä¸ GET æ–¹æ³•ä¸€æ ·ï¼Œéƒ½æ˜¯å‘æœåŠ¡å™¨å‘å‡ºæŒ‡å®šèµ„æºçš„è¯·æ±‚ï¼Œåªä¸è¿‡æœåŠ¡å™¨å°†ä¸ä¼ å›èµ„æºçš„æœ¬æ–‡éƒ¨åˆ†ï¼Œå®ƒçš„å¥½å¤„åœ¨äºï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•å¯ä»¥åœ¨ä¸å¿…ä¼ è¾“å…¨éƒ¨å†…å®¹çš„æƒ…å†µä¸‹ï¼Œå°±å¯ä»¥è·å–å…¶ä¸­å…³äºè¯¥èµ„æºçš„ä¿¡æ¯ï¼ˆåŸä¿¡æ¯æˆ–ç§°å…ƒæ•°æ®ï¼‰ |\n| TRACE   | æ˜¾ç¤ºæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­                     |\n| CONNECT | HTTP/1.1 ä¸­é¢„ç•™ç»™èƒ½å¤Ÿå°†è¿æ¥æ”¹ä¸ºé€šé“æ–¹å¼çš„ä»£ç†æœåŠ¡å™¨ã€‚é€šå¸¸ç”¨äº SSL åŠ å¯†æœåŠ¡å™¨çš„é“¾æ¥ï¼ˆç»ç”±éåŠ å¯†çš„ HTTP ä»£ç†æœåŠ¡å™¨ï¼‰ |\n\nå…¶ä¸­ï¼Œæœ€å¸¸è§çš„æ˜¯ GET å’Œ POST æ–¹æ³•ï¼Œå¦‚æœæ˜¯ RESful æ¥å£çš„è¯ä¸€èˆ¬ä¼šç”¨åˆ° PUTã€DELETEã€GETã€POSTï¼ˆåˆ†åˆ«å¯¹åº”å¢åˆ æŸ¥æ”¹\n\n### è¯·æ±‚å¤´\n| åç§°              | åŠŸèƒ½                                                         |\n| ----------------- | ------------------------------------------------------------ |\n| Authorization     | ç”¨äºè®¾ç½®èº«ä»½è®¤è¯ä¿¡æ¯                                         |\n| User-Agent        | ç”¨æˆ·æ ‡è¯†ï¼Œå¦‚ï¼šOS å’Œæµè§ˆå™¨çš„ç±»å‹å’Œç‰ˆæœ¬                        |\n| If-Modified-Since | å€¼ä¸ºä¸Šä¸€æ¬¡æœåŠ¡å™¨è¿”å›çš„Last-Modifiedå€¼ï¼Œç”¨äºç¡®å®šæŸä¸ªèµ„æºæ˜¯å¦è¢«æ›´æ”¹è¿‡ï¼Œæ²¡æœ‰æ›´æ”¹è¿‡å°±ä»ç¼“å­˜ä¸­è¯»å– |\n| If-None-Match     | å€¼ä¸ºä¸Šä¸€æ¬¡æœåŠ¡å™¨è¿”å›çš„ ETag å€¼ï¼Œä¸€èˆ¬ä¼šå’ŒIf-Modified-Since    |\n| Cookie            | å·²æœ‰çš„Cookie                                                 |\n| Referer           | æ ‡è¯†è¯·æ±‚å¼•ç”¨è‡ªå“ªä¸ªåœ°å€ï¼Œæ¯”å¦‚ä½ ä»é¡µé¢ A è·³è½¬åˆ°é¡µé¢ B æ—¶ï¼Œå€¼ä¸ºé¡µé¢ A çš„åœ°å€ |\n| Host              | è¯·æ±‚çš„ä¸»æœºå’Œç«¯å£å·                                           |\n\n### çŠ¶æ€ç \n| çŠ¶æ€ç  | å¯¹åº”çš„ä¿¡æ¯                                                   |\n| ------ | ------------------------------------------------------------ |\n| 1XX    | æç¤ºä¿¡æ¯â€”è¡¨ç¤ºè¯·æ±‚å·²æ¥æ”¶ï¼Œç»§ç»­å¤„ç†                            |\n| 2XX    | ç”¨äºè¡¨ç¤ºè¯·æ±‚å·²è¢«æˆåŠŸæ¥æ”¶ã€ç†è§£ã€æ¥æ”¶                         |\n| 3XX    | ç”¨äºè¡¨ç¤ºèµ„æºï¼ˆç½‘é¡µç­‰ï¼‰è¢«æ°¸ä¹…è½¬ç§»åˆ°å…¶å®ƒ URLï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„é‡å®šå‘ |\n| 4XX    | å®¢æˆ·ç«¯é”™è¯¯â€”è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯æˆ–è€…è¯·æ±‚æ— æ³•å®ç°                    |\n| 5XX    | æœåŠ¡å™¨ç«¯é”™è¯¯â€”æœåŠ¡å™¨æœªèƒ½å®ç°åˆæ³•çš„è¯·æ±‚                        |\n\n### å“åº”å¤´\n| åç§°              | åŠŸèƒ½                                                         |\n| ----------------- | ------------------------------------------------------------ |\n| Date              | æœåŠ¡å™¨çš„æ—¥æœŸ                                                 |\n| Last-Modified     | è¯¥èµ„æºæœ€åè¢«ä¿®æ”¹çš„æ—¶é—´                                       |\n| Transfer-Encoding | å–å€¼ä¸€èˆ¬ä¸º chunkedï¼Œå‡ºç°åœ¨ Content-Length ä¸èƒ½ç¡®å®šçš„æƒ…å†µä¸‹ï¼Œè¡¨ç¤ºæœåŠ¡å™¨ä¸çŸ¥é“å“åº”æ¿ä½“çš„æ•°æ®å¤§å°ï¼Œä¸€èˆ¬åŒæ—¶å‡ºç°Content-Encodingå“åº”å¤´ |\n| Set-Cookie        | è®¾ç½® Cookie                                                  |\n| Location          | é‡å®šå‘åˆ°å¦ä¸€ä¸ª URLï¼Œå¦‚è¾“å…¥æµè§ˆå™¨å°±è¾“å…¥ baidu.com å›è½¦ï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ°www.baidu.com å°±æ˜¯é€šè¿‡è¿™ä¸ªå“åº”å¤´æ§åˆ¶çš„ |\n| Server            | åå°æœåŠ¡å™¨                                                   |\n\n>  Reference \n>  https://zhuanlan.zhihu.com/p/72616216\n>  https://juejin.im/post/5a0ce1d95188253e24708454","source":"_posts/HTTPHTTPSåè®®.md","raw":"---\ntitle: HTTPH/TTPSåè®®\ndate: 2019-08-24 19:02:25\ntags: [HTTP]\ncategories: [HTTP]\ncover: https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/HTTP%20HTTP%20%E5%8D%8F%E8%AE%AE%20URI/%E4%B8%8B%E8%BD%BD.png?raw=true\n---\n\n## åè®®\n\nç½‘ç»œåè®®æ˜¯è®¡ç®—æœºä¹‹é—´ä¸ºäº†å®ç°ç½‘ç»œé€šä¿¡è€Œè¾¾æˆçš„ä¸€ç§â€œçº¦å®šâ€æˆ–è€…â€è§„åˆ™â€œï¼Œæœ‰äº†è¿™ç§â€çº¦å®šâ€œï¼Œä¸åŒå‚å•†çš„ç”Ÿäº§è®¾å¤‡ï¼Œä»¥åŠä¸åŒæ“ä½œç³»ç»Ÿç»„æˆçš„è®¡ç®—æœºä¹‹é—´ï¼Œå°±å¯ä»¥å®ç°é€šä¿¡ã€‚\n\n### HTTPåè®®\nHTTPåè®®æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®çš„ç¼©å†™ï¼Œè‹±æ–‡æ˜¯Hyper Text Transfer Protocolã€‚å®ƒæ˜¯ä»WEBæœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€(HTML)åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ é€åè®®ã€‚\n\nè®¾è®¡HTTPæœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†æä¾›ä¸€ç§å‘å¸ƒå’Œæ¥æ”¶HTMLé¡µé¢çš„æ–¹æ³•ã€‚\n\nHTPPæœ‰å¤šä¸ªç‰ˆæœ¬ï¼Œç›®å‰å¹¿æ³›ä½¿ç”¨çš„æ˜¯HTTP/1.1ç‰ˆæœ¬ã€‚\n\n## HTTP\nHTTP å…¨ç§°æ˜¯ HyperText Transfer Protocal ï¼Œå³ï¼šè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä» 1990 å¹´å¼€å§‹å°±åœ¨ WWW ä¸Šå¹¿æ³›åº”ç”¨ï¼Œæ˜¯ç°ä»Šåœ¨ WWW ä¸Šåº”ç”¨æœ€å¤šçš„åè®®ï¼ŒHTTP æ˜¯åº”ç”¨å±‚åè®®ï¼Œå½“ä½ ä¸Šç½‘æµè§ˆç½‘é¡µçš„æ—¶å€™ï¼Œæµè§ˆå™¨å’Œ web æœåŠ¡å™¨ä¹‹é—´å°±ä¼šé€šè¿‡ HTTP åœ¨ Internet ä¸Šè¿›è¡Œæ•°æ®çš„å‘é€å’Œæ¥æ”¶ã€‚HTTP æ˜¯ä¸€ä¸ªåŸºäºè¯·æ±‚/å“åº”æ¨¡å¼çš„ã€æ— çŠ¶æ€çš„åè®®ã€‚å³æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„ Request/Response\n\n### HTTPåŸç†\n\nHTTPæ˜¯ä¸€ä¸ªåŸºäºTCP/IPé€šä¿¡åè®®æ¥ä¼ é€’æ•°æ®çš„åè®®ï¼Œä¼ è¾“çš„æ•°æ®ç±»å‹ä¸ºHTML æ–‡ä»¶,ã€å›¾ç‰‡æ–‡ä»¶, æŸ¥è¯¢ç»“æœç­‰ã€‚\n\nHTTPåè®®ä¸€èˆ¬ç”¨äºB/Sæ¶æ„ï¼ˆï¼‰ã€‚æµè§ˆå™¨ä½œä¸ºHTTPå®¢æˆ·ç«¯é€šè¿‡URLå‘HTTPæœåŠ¡ç«¯å³WEBæœåŠ¡å™¨å‘é€æ‰€æœ‰è¯·æ±‚ã€‚\n\n### HTTPåè®®\n\nHTTPåè®®æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®çš„ç¼©å†™ï¼Œè‹±æ–‡æ˜¯Hyper Text Transfer Protocolã€‚å®ƒæ˜¯ä»WEBæœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€(HTML)åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ é€åè®®ã€‚\n\nè®¾è®¡HTTPæœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†æä¾›ä¸€ç§å‘å¸ƒå’Œæ¥æ”¶HTMLé¡µé¢çš„æ–¹æ³•ã€‚\n\nHTPPæœ‰å¤šä¸ªç‰ˆæœ¬ï¼Œç›®å‰å¹¿æ³›ä½¿ç”¨çš„æ˜¯HTTP/1.1ç‰ˆæœ¬ã€‚\n\n### HTTPç‰¹ç‚¹\n\n - æ”¯æŒå®¢æˆ·ç«¯/æœåŠ¡å™¨æ¨¡å¼\n - ç®€å•å¿«é€Ÿï¼šå®¢æˆ·å‘æœåŠ¡å™¨è¯·æ±‚æœåŠ¡æ—¶ï¼Œåªéœ€ä¼ é€è¯·æ±‚æ–¹æ³•å’Œè·¯å¾„ã€‚ç”±äº HTTP åè®®ç®€å•ï¼Œä½¿å¾— HTTP æœåŠ¡å™¨çš„ç¨‹åºè§„æ¨¡å°ï¼Œå› è€Œé€šä¿¡é€Ÿåº¦å¾ˆå¿«\n - çµæ´»ï¼šHTTP å…è®¸ä¼ è¾“ä»»æ„ç±»å‹çš„æ•°æ®å¯¹è±¡ã€‚æ­£åœ¨ä¼ è¾“çš„ç±»å‹ç”± Content-Type åŠ ä»¥æ ‡è®°\n - æ— è¿æ¥ï¼šæ— è¿æ¥çš„å«ä¹‰æ˜¯é™åˆ¶æ¯æ¬¡é“¾æ¥åªå¤„ç†ä¸€ä¸ªè¯·æ±‚ã€‚æœåŠ¡å™¨å¤„ç†å®Œå®¢æˆ·çš„è¯·æ±‚ï¼Œå¹¶æ”¶åˆ°å®¢æˆ·çš„åº”ç­”åï¼Œå³æ–­å¼€é“¾æ¥ï¼Œé‡‡ç”¨è¿™ç§æ–¹å¼å¯ä»¥èŠ‚çœä¼ è¾“æ—¶é—´\n - æ— çŠ¶æ€ï¼šHTTP åè®®æ˜¯æ— çŠ¶æ€åè®®ã€‚æ— çŠ¶æ€æ˜¯æŒ‡åè®®å¯¹äºäº‹ç‰©å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›ã€‚ç¼ºå°‘çŠ¶æ€æ„å‘³ç€å¦‚æœåç»­å¤„ç†éœ€è¦å‰é¢çš„ä¿¡æ¯ï¼Œåˆ™å®ƒå¿…é¡»é‡ä¼ ï¼Œè¿™æ ·å¯èƒ½ä¼šå¯¼è‡´æ¯æ¬¡è¿æ¥ä¼ é€çš„æ•°æ®é‡å¢å¤§ã€‚å¦ä¸€æ–¹é¢ï¼Œåœ¨æœåŠ¡å™¨ä¸éœ€è¦å…ˆå‰ä¿¡æ¯æ—¶å®ƒçš„åº”ç­”å°±æ¯”è¾ƒå¿«\n\n## HTTPS\nHTTPS åè®®ï¼ˆHyperText Transfer Protocol over Secure Socket Layerï¼‰ï¼šä¸€èˆ¬ç†è§£ä¸ºHTTP+SSL/TLSï¼Œé€šè¿‡ SSLè¯ä¹¦æ¥éªŒè¯æœåŠ¡å™¨çš„èº«ä»½ï¼Œå¹¶ä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡è¿›è¡ŒåŠ å¯†ã€‚\n\nè§£å†³HTTPçš„ä¸€äº›é—®é¢˜\n - è¯·æ±‚ä¿¡æ¯æ˜æ–‡ä¼ è¾“ï¼Œå®¹æ˜“è¢«çªƒå¬æˆªå–ã€‚\n - æ•°æ®çš„å®Œæ•´æ€§æœªæ ¡éªŒï¼Œå®¹æ˜“è¢«ç¯¡æ”¹\n - æ²¡æœ‰éªŒè¯å¯¹æ–¹èº«ä»½ï¼Œå­˜åœ¨å†’å……å±é™©\n\n\n## æ€»ç»“HTTPSå’ŒHTTPçš„åŒºåˆ«\n\n - HTTPSæ˜¯HTTPåè®®çš„å®‰å…¨ç‰ˆæœ¬ï¼ŒHTTPåè®®çš„æ•°æ®ä¼ è¾“æ˜¯æ˜æ–‡çš„ï¼Œæ˜¯ä¸å®‰å…¨çš„ï¼ŒHTTPSä½¿ç”¨äº†SSL/TLSåè®®è¿›è¡Œäº†åŠ å¯†å¤„ç†ã€‚\n - httpå’Œhttpsä½¿ç”¨è¿æ¥æ–¹å¼ä¸åŒï¼Œé»˜è®¤ç«¯å£ä¹Ÿä¸ä¸€æ ·ï¼Œhttpæ˜¯80ï¼Œhttpsæ˜¯443ã€‚\n\n## URLè¯¦è§£\n\nURLï¼ˆUniform Resource Locatorï¼‰æ˜¯ç»Ÿä¸€èµ„æºå®šä½ç¬¦çš„ç®€ç§°ï¼Œæœ‰æ—¶å€™ä¹Ÿè¢«ä¿—ç§°ä¸ºç½‘é¡µåœ°å€ï¼ˆç½‘å€ï¼‰ï¼Œå¦‚åŒæ˜¯ç½‘ç»œä¸Šçš„é—¨ç‰Œï¼Œæ˜¯å› ç‰¹ç½‘ä¸Šæ ‡å‡†çš„èµ„æºçš„åœ°å€\n\n### åŸºæœ¬ç»„æˆ\n\n| åç§°         | åŠŸèƒ½                                                         |\n| ------------ | ------------------------------------------------------------ |\n| scheme       | è®¿é—®æœåŠ¡å™¨ä»¥è·å–èµ„æºæ—¶è¦ä½¿ç”¨å“ªç§åè®®ï¼Œæ¯”å¦‚ï¼Œhttpï¼Œhttps å’Œ FTP ç­‰ |\n| host         | HTTP æœåŠ¡å™¨çš„ IP åœ°å€æˆ–åŸŸå                                  |\n| port#        | HTTP æœåŠ¡å™¨çš„é»˜è®¤ç«¯å£æ˜¯ 80ï¼Œè¿™ç§æƒ…å†µä¸‹ç«¯å£å·å¯ä»¥çœç•¥ï¼Œå¦‚æœä½¿ç”¨äº†åˆ«çš„ç«¯å£ï¼Œå¿…é¡»æŒ‡æ˜ï¼Œä¾‹å¦‚www.cnblogs.comï¼š8080 |\n| path         | è®¿é—®èµ„æºçš„è·¯å¾„                                               |\n| query-string | å‘ç»™ http æœåŠ¡å™¨çš„æ•°æ®                                       |\n| anchor       | é”š                                                           |\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/HTTP%20HTTP%20%E5%8D%8F%E8%AE%AE%20URI/15fc2525666dc96e.jpeg?raw=true)\n\n## HTTPè¯·æ±‚\n### ç±»å‹\n| åç§°    | åŠŸèƒ½                                                         |\n| ------- | ------------------------------------------------------------ |\n| GET     | å‘æŒ‡å®šçš„èµ„æºå‘å‡ºâ€œæ˜¾ç¤ºâ€è¯·æ±‚ï¼Œä½¿ç”¨ GET æ–¹æ³•åº”è¯¥åªç”¨åœ¨è¯»å–æ•°æ®ä¸Šï¼Œè€Œä¸åº”è¯¥ç”¨äºäº§ç”Ÿâ€œå‰¯ä½œç”¨â€çš„æ“ä½œä¸­ |\n| POST    | æŒ‡å®šèµ„æºæäº¤æ•°æ®ï¼Œè¯·æ±‚æœåŠ¡å™¨è¿›è¡Œå¤„ç†ï¼ˆä¾‹å¦‚æäº¤è¡¨å•æˆ–è€…ä¸Šä¼ æ–‡ä»¶ï¼‰ã€‚æ•°æ®è¢«åŒ…å«åœ¨è¯·æ±‚æ–‡æœ¬ä¸­ã€‚è¿™ä¸ªè¯·æ±‚å¯èƒ½ä¼šåˆ›å»ºæ–°çš„èµ„æºæˆ–è€…ä¿®æ”¹ç°æœ‰èµ„æºï¼Œæˆ–ä¸¤è€…çš†æœ‰ã€‚ |\n| PUT     | å‘æŒ‡å®šèµ„æºä½ç½®ä¸Šä¼ å…¶æœ€æ–°å†…å®¹                                 |\n| DELETE  | è¯·æ±‚æœåŠ¡å™¨åˆ é™¤ Request-URI æ‰€æ ‡è¯†çš„èµ„æº                      |\n| OPTIONS | ä½¿æœåŠ¡å™¨ä¼ å›è¯¥èµ„æºæ‰€æ”¯æŒçš„æ‰€æœ‰HTTPè¯·æ±‚æ–¹æ³•ã€‚ç”¨*æ¥ä»£æ›¿èµ„æºåç§°ï¼Œå‘ Web æœåŠ¡å™¨å‘é€ OPTIONS è¯·æ±‚ï¼Œå¯ä»¥æµ‹è¯•æœåŠ¡å™¨åŠŸèƒ½æ˜¯å¦æ­£å¸¸è¿ä½œ |\n| HEAD    | ä¸ GET æ–¹æ³•ä¸€æ ·ï¼Œéƒ½æ˜¯å‘æœåŠ¡å™¨å‘å‡ºæŒ‡å®šèµ„æºçš„è¯·æ±‚ï¼Œåªä¸è¿‡æœåŠ¡å™¨å°†ä¸ä¼ å›èµ„æºçš„æœ¬æ–‡éƒ¨åˆ†ï¼Œå®ƒçš„å¥½å¤„åœ¨äºï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•å¯ä»¥åœ¨ä¸å¿…ä¼ è¾“å…¨éƒ¨å†…å®¹çš„æƒ…å†µä¸‹ï¼Œå°±å¯ä»¥è·å–å…¶ä¸­å…³äºè¯¥èµ„æºçš„ä¿¡æ¯ï¼ˆåŸä¿¡æ¯æˆ–ç§°å…ƒæ•°æ®ï¼‰ |\n| TRACE   | æ˜¾ç¤ºæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­                     |\n| CONNECT | HTTP/1.1 ä¸­é¢„ç•™ç»™èƒ½å¤Ÿå°†è¿æ¥æ”¹ä¸ºé€šé“æ–¹å¼çš„ä»£ç†æœåŠ¡å™¨ã€‚é€šå¸¸ç”¨äº SSL åŠ å¯†æœåŠ¡å™¨çš„é“¾æ¥ï¼ˆç»ç”±éåŠ å¯†çš„ HTTP ä»£ç†æœåŠ¡å™¨ï¼‰ |\n\nå…¶ä¸­ï¼Œæœ€å¸¸è§çš„æ˜¯ GET å’Œ POST æ–¹æ³•ï¼Œå¦‚æœæ˜¯ RESful æ¥å£çš„è¯ä¸€èˆ¬ä¼šç”¨åˆ° PUTã€DELETEã€GETã€POSTï¼ˆåˆ†åˆ«å¯¹åº”å¢åˆ æŸ¥æ”¹\n\n### è¯·æ±‚å¤´\n| åç§°              | åŠŸèƒ½                                                         |\n| ----------------- | ------------------------------------------------------------ |\n| Authorization     | ç”¨äºè®¾ç½®èº«ä»½è®¤è¯ä¿¡æ¯                                         |\n| User-Agent        | ç”¨æˆ·æ ‡è¯†ï¼Œå¦‚ï¼šOS å’Œæµè§ˆå™¨çš„ç±»å‹å’Œç‰ˆæœ¬                        |\n| If-Modified-Since | å€¼ä¸ºä¸Šä¸€æ¬¡æœåŠ¡å™¨è¿”å›çš„Last-Modifiedå€¼ï¼Œç”¨äºç¡®å®šæŸä¸ªèµ„æºæ˜¯å¦è¢«æ›´æ”¹è¿‡ï¼Œæ²¡æœ‰æ›´æ”¹è¿‡å°±ä»ç¼“å­˜ä¸­è¯»å– |\n| If-None-Match     | å€¼ä¸ºä¸Šä¸€æ¬¡æœåŠ¡å™¨è¿”å›çš„ ETag å€¼ï¼Œä¸€èˆ¬ä¼šå’ŒIf-Modified-Since    |\n| Cookie            | å·²æœ‰çš„Cookie                                                 |\n| Referer           | æ ‡è¯†è¯·æ±‚å¼•ç”¨è‡ªå“ªä¸ªåœ°å€ï¼Œæ¯”å¦‚ä½ ä»é¡µé¢ A è·³è½¬åˆ°é¡µé¢ B æ—¶ï¼Œå€¼ä¸ºé¡µé¢ A çš„åœ°å€ |\n| Host              | è¯·æ±‚çš„ä¸»æœºå’Œç«¯å£å·                                           |\n\n### çŠ¶æ€ç \n| çŠ¶æ€ç  | å¯¹åº”çš„ä¿¡æ¯                                                   |\n| ------ | ------------------------------------------------------------ |\n| 1XX    | æç¤ºä¿¡æ¯â€”è¡¨ç¤ºè¯·æ±‚å·²æ¥æ”¶ï¼Œç»§ç»­å¤„ç†                            |\n| 2XX    | ç”¨äºè¡¨ç¤ºè¯·æ±‚å·²è¢«æˆåŠŸæ¥æ”¶ã€ç†è§£ã€æ¥æ”¶                         |\n| 3XX    | ç”¨äºè¡¨ç¤ºèµ„æºï¼ˆç½‘é¡µç­‰ï¼‰è¢«æ°¸ä¹…è½¬ç§»åˆ°å…¶å®ƒ URLï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„é‡å®šå‘ |\n| 4XX    | å®¢æˆ·ç«¯é”™è¯¯â€”è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯æˆ–è€…è¯·æ±‚æ— æ³•å®ç°                    |\n| 5XX    | æœåŠ¡å™¨ç«¯é”™è¯¯â€”æœåŠ¡å™¨æœªèƒ½å®ç°åˆæ³•çš„è¯·æ±‚                        |\n\n### å“åº”å¤´\n| åç§°              | åŠŸèƒ½                                                         |\n| ----------------- | ------------------------------------------------------------ |\n| Date              | æœåŠ¡å™¨çš„æ—¥æœŸ                                                 |\n| Last-Modified     | è¯¥èµ„æºæœ€åè¢«ä¿®æ”¹çš„æ—¶é—´                                       |\n| Transfer-Encoding | å–å€¼ä¸€èˆ¬ä¸º chunkedï¼Œå‡ºç°åœ¨ Content-Length ä¸èƒ½ç¡®å®šçš„æƒ…å†µä¸‹ï¼Œè¡¨ç¤ºæœåŠ¡å™¨ä¸çŸ¥é“å“åº”æ¿ä½“çš„æ•°æ®å¤§å°ï¼Œä¸€èˆ¬åŒæ—¶å‡ºç°Content-Encodingå“åº”å¤´ |\n| Set-Cookie        | è®¾ç½® Cookie                                                  |\n| Location          | é‡å®šå‘åˆ°å¦ä¸€ä¸ª URLï¼Œå¦‚è¾“å…¥æµè§ˆå™¨å°±è¾“å…¥ baidu.com å›è½¦ï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ°www.baidu.com å°±æ˜¯é€šè¿‡è¿™ä¸ªå“åº”å¤´æ§åˆ¶çš„ |\n| Server            | åå°æœåŠ¡å™¨                                                   |\n\n>  Reference \n>  https://zhuanlan.zhihu.com/p/72616216\n>  https://juejin.im/post/5a0ce1d95188253e24708454","slug":"HTTPHTTPSåè®®","published":1,"updated":"2020-04-11T11:50:39.636Z","_id":"ck8vk5o160016o5vm10gg1boe","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"åè®®\"><a href=\"#åè®®\" class=\"headerlink\" title=\"åè®®\"></a>åè®®</h2><p>ç½‘ç»œåè®®æ˜¯è®¡ç®—æœºä¹‹é—´ä¸ºäº†å®ç°ç½‘ç»œé€šä¿¡è€Œè¾¾æˆçš„ä¸€ç§â€œçº¦å®šâ€æˆ–è€…â€è§„åˆ™â€œï¼Œæœ‰äº†è¿™ç§â€çº¦å®šâ€œï¼Œä¸åŒå‚å•†çš„ç”Ÿäº§è®¾å¤‡ï¼Œä»¥åŠä¸åŒæ“ä½œç³»ç»Ÿç»„æˆçš„è®¡ç®—æœºä¹‹é—´ï¼Œå°±å¯ä»¥å®ç°é€šä¿¡ã€‚</p>\n<h3 id=\"HTTPåè®®\"><a href=\"#HTTPåè®®\" class=\"headerlink\" title=\"HTTPåè®®\"></a>HTTPåè®®</h3><p>HTTPåè®®æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®çš„ç¼©å†™ï¼Œè‹±æ–‡æ˜¯Hyper Text Transfer Protocolã€‚å®ƒæ˜¯ä»WEBæœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€(HTML)åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ é€åè®®ã€‚</p>\n<p>è®¾è®¡HTTPæœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†æä¾›ä¸€ç§å‘å¸ƒå’Œæ¥æ”¶HTMLé¡µé¢çš„æ–¹æ³•ã€‚</p>\n<p>HTPPæœ‰å¤šä¸ªç‰ˆæœ¬ï¼Œç›®å‰å¹¿æ³›ä½¿ç”¨çš„æ˜¯HTTP/1.1ç‰ˆæœ¬ã€‚</p>\n<h2 id=\"HTTP\"><a href=\"#HTTP\" class=\"headerlink\" title=\"HTTP\"></a>HTTP</h2><p>HTTP å…¨ç§°æ˜¯ HyperText Transfer Protocal ï¼Œå³ï¼šè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä» 1990 å¹´å¼€å§‹å°±åœ¨ WWW ä¸Šå¹¿æ³›åº”ç”¨ï¼Œæ˜¯ç°ä»Šåœ¨ WWW ä¸Šåº”ç”¨æœ€å¤šçš„åè®®ï¼ŒHTTP æ˜¯åº”ç”¨å±‚åè®®ï¼Œå½“ä½ ä¸Šç½‘æµè§ˆç½‘é¡µçš„æ—¶å€™ï¼Œæµè§ˆå™¨å’Œ web æœåŠ¡å™¨ä¹‹é—´å°±ä¼šé€šè¿‡ HTTP åœ¨ Internet ä¸Šè¿›è¡Œæ•°æ®çš„å‘é€å’Œæ¥æ”¶ã€‚HTTP æ˜¯ä¸€ä¸ªåŸºäºè¯·æ±‚/å“åº”æ¨¡å¼çš„ã€æ— çŠ¶æ€çš„åè®®ã€‚å³æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„ Request/Response</p>\n<h3 id=\"HTTPåŸç†\"><a href=\"#HTTPåŸç†\" class=\"headerlink\" title=\"HTTPåŸç†\"></a>HTTPåŸç†</h3><p>HTTPæ˜¯ä¸€ä¸ªåŸºäºTCP/IPé€šä¿¡åè®®æ¥ä¼ é€’æ•°æ®çš„åè®®ï¼Œä¼ è¾“çš„æ•°æ®ç±»å‹ä¸ºHTML æ–‡ä»¶,ã€å›¾ç‰‡æ–‡ä»¶, æŸ¥è¯¢ç»“æœç­‰ã€‚</p>\n<p>HTTPåè®®ä¸€èˆ¬ç”¨äºB/Sæ¶æ„ï¼ˆï¼‰ã€‚æµè§ˆå™¨ä½œä¸ºHTTPå®¢æˆ·ç«¯é€šè¿‡URLå‘HTTPæœåŠ¡ç«¯å³WEBæœåŠ¡å™¨å‘é€æ‰€æœ‰è¯·æ±‚ã€‚</p>\n<h3 id=\"HTTPåè®®-1\"><a href=\"#HTTPåè®®-1\" class=\"headerlink\" title=\"HTTPåè®®\"></a>HTTPåè®®</h3><p>HTTPåè®®æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®çš„ç¼©å†™ï¼Œè‹±æ–‡æ˜¯Hyper Text Transfer Protocolã€‚å®ƒæ˜¯ä»WEBæœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€(HTML)åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ é€åè®®ã€‚</p>\n<p>è®¾è®¡HTTPæœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†æä¾›ä¸€ç§å‘å¸ƒå’Œæ¥æ”¶HTMLé¡µé¢çš„æ–¹æ³•ã€‚</p>\n<p>HTPPæœ‰å¤šä¸ªç‰ˆæœ¬ï¼Œç›®å‰å¹¿æ³›ä½¿ç”¨çš„æ˜¯HTTP/1.1ç‰ˆæœ¬ã€‚</p>\n<h3 id=\"HTTPç‰¹ç‚¹\"><a href=\"#HTTPç‰¹ç‚¹\" class=\"headerlink\" title=\"HTTPç‰¹ç‚¹\"></a>HTTPç‰¹ç‚¹</h3><ul>\n<li>æ”¯æŒå®¢æˆ·ç«¯/æœåŠ¡å™¨æ¨¡å¼</li>\n<li>ç®€å•å¿«é€Ÿï¼šå®¢æˆ·å‘æœåŠ¡å™¨è¯·æ±‚æœåŠ¡æ—¶ï¼Œåªéœ€ä¼ é€è¯·æ±‚æ–¹æ³•å’Œè·¯å¾„ã€‚ç”±äº HTTP åè®®ç®€å•ï¼Œä½¿å¾— HTTP æœåŠ¡å™¨çš„ç¨‹åºè§„æ¨¡å°ï¼Œå› è€Œé€šä¿¡é€Ÿåº¦å¾ˆå¿«</li>\n<li>çµæ´»ï¼šHTTP å…è®¸ä¼ è¾“ä»»æ„ç±»å‹çš„æ•°æ®å¯¹è±¡ã€‚æ­£åœ¨ä¼ è¾“çš„ç±»å‹ç”± Content-Type åŠ ä»¥æ ‡è®°</li>\n<li>æ— è¿æ¥ï¼šæ— è¿æ¥çš„å«ä¹‰æ˜¯é™åˆ¶æ¯æ¬¡é“¾æ¥åªå¤„ç†ä¸€ä¸ªè¯·æ±‚ã€‚æœåŠ¡å™¨å¤„ç†å®Œå®¢æˆ·çš„è¯·æ±‚ï¼Œå¹¶æ”¶åˆ°å®¢æˆ·çš„åº”ç­”åï¼Œå³æ–­å¼€é“¾æ¥ï¼Œé‡‡ç”¨è¿™ç§æ–¹å¼å¯ä»¥èŠ‚çœä¼ è¾“æ—¶é—´</li>\n<li>æ— çŠ¶æ€ï¼šHTTP åè®®æ˜¯æ— çŠ¶æ€åè®®ã€‚æ— çŠ¶æ€æ˜¯æŒ‡åè®®å¯¹äºäº‹ç‰©å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›ã€‚ç¼ºå°‘çŠ¶æ€æ„å‘³ç€å¦‚æœåç»­å¤„ç†éœ€è¦å‰é¢çš„ä¿¡æ¯ï¼Œåˆ™å®ƒå¿…é¡»é‡ä¼ ï¼Œè¿™æ ·å¯èƒ½ä¼šå¯¼è‡´æ¯æ¬¡è¿æ¥ä¼ é€çš„æ•°æ®é‡å¢å¤§ã€‚å¦ä¸€æ–¹é¢ï¼Œåœ¨æœåŠ¡å™¨ä¸éœ€è¦å…ˆå‰ä¿¡æ¯æ—¶å®ƒçš„åº”ç­”å°±æ¯”è¾ƒå¿«</li>\n</ul>\n<h2 id=\"HTTPS\"><a href=\"#HTTPS\" class=\"headerlink\" title=\"HTTPS\"></a>HTTPS</h2><p>HTTPS åè®®ï¼ˆHyperText Transfer Protocol over Secure Socket Layerï¼‰ï¼šä¸€èˆ¬ç†è§£ä¸ºHTTP+SSL/TLSï¼Œé€šè¿‡ SSLè¯ä¹¦æ¥éªŒè¯æœåŠ¡å™¨çš„èº«ä»½ï¼Œå¹¶ä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡è¿›è¡ŒåŠ å¯†ã€‚</p>\n<p>è§£å†³HTTPçš„ä¸€äº›é—®é¢˜</p>\n<ul>\n<li>è¯·æ±‚ä¿¡æ¯æ˜æ–‡ä¼ è¾“ï¼Œå®¹æ˜“è¢«çªƒå¬æˆªå–ã€‚</li>\n<li>æ•°æ®çš„å®Œæ•´æ€§æœªæ ¡éªŒï¼Œå®¹æ˜“è¢«ç¯¡æ”¹</li>\n<li>æ²¡æœ‰éªŒè¯å¯¹æ–¹èº«ä»½ï¼Œå­˜åœ¨å†’å……å±é™©</li>\n</ul>\n<h2 id=\"æ€»ç»“HTTPSå’ŒHTTPçš„åŒºåˆ«\"><a href=\"#æ€»ç»“HTTPSå’ŒHTTPçš„åŒºåˆ«\" class=\"headerlink\" title=\"æ€»ç»“HTTPSå’ŒHTTPçš„åŒºåˆ«\"></a>æ€»ç»“HTTPSå’ŒHTTPçš„åŒºåˆ«</h2><ul>\n<li>HTTPSæ˜¯HTTPåè®®çš„å®‰å…¨ç‰ˆæœ¬ï¼ŒHTTPåè®®çš„æ•°æ®ä¼ è¾“æ˜¯æ˜æ–‡çš„ï¼Œæ˜¯ä¸å®‰å…¨çš„ï¼ŒHTTPSä½¿ç”¨äº†SSL/TLSåè®®è¿›è¡Œäº†åŠ å¯†å¤„ç†ã€‚</li>\n<li>httpå’Œhttpsä½¿ç”¨è¿æ¥æ–¹å¼ä¸åŒï¼Œé»˜è®¤ç«¯å£ä¹Ÿä¸ä¸€æ ·ï¼Œhttpæ˜¯80ï¼Œhttpsæ˜¯443ã€‚</li>\n</ul>\n<h2 id=\"URLè¯¦è§£\"><a href=\"#URLè¯¦è§£\" class=\"headerlink\" title=\"URLè¯¦è§£\"></a>URLè¯¦è§£</h2><p>URLï¼ˆUniform Resource Locatorï¼‰æ˜¯ç»Ÿä¸€èµ„æºå®šä½ç¬¦çš„ç®€ç§°ï¼Œæœ‰æ—¶å€™ä¹Ÿè¢«ä¿—ç§°ä¸ºç½‘é¡µåœ°å€ï¼ˆç½‘å€ï¼‰ï¼Œå¦‚åŒæ˜¯ç½‘ç»œä¸Šçš„é—¨ç‰Œï¼Œæ˜¯å› ç‰¹ç½‘ä¸Šæ ‡å‡†çš„èµ„æºçš„åœ°å€</p>\n<h3 id=\"åŸºæœ¬ç»„æˆ\"><a href=\"#åŸºæœ¬ç»„æˆ\" class=\"headerlink\" title=\"åŸºæœ¬ç»„æˆ\"></a>åŸºæœ¬ç»„æˆ</h3><table>\n<thead>\n<tr>\n<th>åç§°</th>\n<th>åŠŸèƒ½</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>scheme</td>\n<td>è®¿é—®æœåŠ¡å™¨ä»¥è·å–èµ„æºæ—¶è¦ä½¿ç”¨å“ªç§åè®®ï¼Œæ¯”å¦‚ï¼Œhttpï¼Œhttps å’Œ FTP ç­‰</td>\n</tr>\n<tr>\n<td>host</td>\n<td>HTTP æœåŠ¡å™¨çš„ IP åœ°å€æˆ–åŸŸå</td>\n</tr>\n<tr>\n<td>port#</td>\n<td>HTTP æœåŠ¡å™¨çš„é»˜è®¤ç«¯å£æ˜¯ 80ï¼Œè¿™ç§æƒ…å†µä¸‹ç«¯å£å·å¯ä»¥çœç•¥ï¼Œå¦‚æœä½¿ç”¨äº†åˆ«çš„ç«¯å£ï¼Œå¿…é¡»æŒ‡æ˜ï¼Œä¾‹å¦‚<a href=\"http://www.cnblogs.comï¼š8080\">www.cnblogs.comï¼š8080</a></td>\n</tr>\n<tr>\n<td>path</td>\n<td>è®¿é—®èµ„æºçš„è·¯å¾„</td>\n</tr>\n<tr>\n<td>query-string</td>\n<td>å‘ç»™ http æœåŠ¡å™¨çš„æ•°æ®</td>\n</tr>\n<tr>\n<td>anchor</td>\n<td>é”š</td>\n</tr>\n</tbody></table>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/HTTP%20HTTP%20%E5%8D%8F%E8%AE%AE%20URI/15fc2525666dc96e.jpeg?raw=true\"  alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<h2 id=\"HTTPè¯·æ±‚\"><a href=\"#HTTPè¯·æ±‚\" class=\"headerlink\" title=\"HTTPè¯·æ±‚\"></a>HTTPè¯·æ±‚</h2><h3 id=\"ç±»å‹\"><a href=\"#ç±»å‹\" class=\"headerlink\" title=\"ç±»å‹\"></a>ç±»å‹</h3><table>\n<thead>\n<tr>\n<th>åç§°</th>\n<th>åŠŸèƒ½</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>GET</td>\n<td>å‘æŒ‡å®šçš„èµ„æºå‘å‡ºâ€œæ˜¾ç¤ºâ€è¯·æ±‚ï¼Œä½¿ç”¨ GET æ–¹æ³•åº”è¯¥åªç”¨åœ¨è¯»å–æ•°æ®ä¸Šï¼Œè€Œä¸åº”è¯¥ç”¨äºäº§ç”Ÿâ€œå‰¯ä½œç”¨â€çš„æ“ä½œä¸­</td>\n</tr>\n<tr>\n<td>POST</td>\n<td>æŒ‡å®šèµ„æºæäº¤æ•°æ®ï¼Œè¯·æ±‚æœåŠ¡å™¨è¿›è¡Œå¤„ç†ï¼ˆä¾‹å¦‚æäº¤è¡¨å•æˆ–è€…ä¸Šä¼ æ–‡ä»¶ï¼‰ã€‚æ•°æ®è¢«åŒ…å«åœ¨è¯·æ±‚æ–‡æœ¬ä¸­ã€‚è¿™ä¸ªè¯·æ±‚å¯èƒ½ä¼šåˆ›å»ºæ–°çš„èµ„æºæˆ–è€…ä¿®æ”¹ç°æœ‰èµ„æºï¼Œæˆ–ä¸¤è€…çš†æœ‰ã€‚</td>\n</tr>\n<tr>\n<td>PUT</td>\n<td>å‘æŒ‡å®šèµ„æºä½ç½®ä¸Šä¼ å…¶æœ€æ–°å†…å®¹</td>\n</tr>\n<tr>\n<td>DELETE</td>\n<td>è¯·æ±‚æœåŠ¡å™¨åˆ é™¤ Request-URI æ‰€æ ‡è¯†çš„èµ„æº</td>\n</tr>\n<tr>\n<td>OPTIONS</td>\n<td>ä½¿æœåŠ¡å™¨ä¼ å›è¯¥èµ„æºæ‰€æ”¯æŒçš„æ‰€æœ‰HTTPè¯·æ±‚æ–¹æ³•ã€‚ç”¨*æ¥ä»£æ›¿èµ„æºåç§°ï¼Œå‘ Web æœåŠ¡å™¨å‘é€ OPTIONS è¯·æ±‚ï¼Œå¯ä»¥æµ‹è¯•æœåŠ¡å™¨åŠŸèƒ½æ˜¯å¦æ­£å¸¸è¿ä½œ</td>\n</tr>\n<tr>\n<td>HEAD</td>\n<td>ä¸ GET æ–¹æ³•ä¸€æ ·ï¼Œéƒ½æ˜¯å‘æœåŠ¡å™¨å‘å‡ºæŒ‡å®šèµ„æºçš„è¯·æ±‚ï¼Œåªä¸è¿‡æœåŠ¡å™¨å°†ä¸ä¼ å›èµ„æºçš„æœ¬æ–‡éƒ¨åˆ†ï¼Œå®ƒçš„å¥½å¤„åœ¨äºï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•å¯ä»¥åœ¨ä¸å¿…ä¼ è¾“å…¨éƒ¨å†…å®¹çš„æƒ…å†µä¸‹ï¼Œå°±å¯ä»¥è·å–å…¶ä¸­å…³äºè¯¥èµ„æºçš„ä¿¡æ¯ï¼ˆåŸä¿¡æ¯æˆ–ç§°å…ƒæ•°æ®ï¼‰</td>\n</tr>\n<tr>\n<td>TRACE</td>\n<td>æ˜¾ç¤ºæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­</td>\n</tr>\n<tr>\n<td>CONNECT</td>\n<td>HTTP/1.1 ä¸­é¢„ç•™ç»™èƒ½å¤Ÿå°†è¿æ¥æ”¹ä¸ºé€šé“æ–¹å¼çš„ä»£ç†æœåŠ¡å™¨ã€‚é€šå¸¸ç”¨äº SSL åŠ å¯†æœåŠ¡å™¨çš„é“¾æ¥ï¼ˆç»ç”±éåŠ å¯†çš„ HTTP ä»£ç†æœåŠ¡å™¨ï¼‰</td>\n</tr>\n</tbody></table>\n<p>å…¶ä¸­ï¼Œæœ€å¸¸è§çš„æ˜¯ GET å’Œ POST æ–¹æ³•ï¼Œå¦‚æœæ˜¯ RESful æ¥å£çš„è¯ä¸€èˆ¬ä¼šç”¨åˆ° PUTã€DELETEã€GETã€POSTï¼ˆåˆ†åˆ«å¯¹åº”å¢åˆ æŸ¥æ”¹</p>\n<h3 id=\"è¯·æ±‚å¤´\"><a href=\"#è¯·æ±‚å¤´\" class=\"headerlink\" title=\"è¯·æ±‚å¤´\"></a>è¯·æ±‚å¤´</h3><table>\n<thead>\n<tr>\n<th>åç§°</th>\n<th>åŠŸèƒ½</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Authorization</td>\n<td>ç”¨äºè®¾ç½®èº«ä»½è®¤è¯ä¿¡æ¯</td>\n</tr>\n<tr>\n<td>User-Agent</td>\n<td>ç”¨æˆ·æ ‡è¯†ï¼Œå¦‚ï¼šOS å’Œæµè§ˆå™¨çš„ç±»å‹å’Œç‰ˆæœ¬</td>\n</tr>\n<tr>\n<td>If-Modified-Since</td>\n<td>å€¼ä¸ºä¸Šä¸€æ¬¡æœåŠ¡å™¨è¿”å›çš„Last-Modifiedå€¼ï¼Œç”¨äºç¡®å®šæŸä¸ªèµ„æºæ˜¯å¦è¢«æ›´æ”¹è¿‡ï¼Œæ²¡æœ‰æ›´æ”¹è¿‡å°±ä»ç¼“å­˜ä¸­è¯»å–</td>\n</tr>\n<tr>\n<td>If-None-Match</td>\n<td>å€¼ä¸ºä¸Šä¸€æ¬¡æœåŠ¡å™¨è¿”å›çš„ ETag å€¼ï¼Œä¸€èˆ¬ä¼šå’ŒIf-Modified-Since</td>\n</tr>\n<tr>\n<td>Cookie</td>\n<td>å·²æœ‰çš„Cookie</td>\n</tr>\n<tr>\n<td>Referer</td>\n<td>æ ‡è¯†è¯·æ±‚å¼•ç”¨è‡ªå“ªä¸ªåœ°å€ï¼Œæ¯”å¦‚ä½ ä»é¡µé¢ A è·³è½¬åˆ°é¡µé¢ B æ—¶ï¼Œå€¼ä¸ºé¡µé¢ A çš„åœ°å€</td>\n</tr>\n<tr>\n<td>Host</td>\n<td>è¯·æ±‚çš„ä¸»æœºå’Œç«¯å£å·</td>\n</tr>\n</tbody></table>\n<h3 id=\"çŠ¶æ€ç \"><a href=\"#çŠ¶æ€ç \" class=\"headerlink\" title=\"çŠ¶æ€ç \"></a>çŠ¶æ€ç </h3><table>\n<thead>\n<tr>\n<th>çŠ¶æ€ç </th>\n<th>å¯¹åº”çš„ä¿¡æ¯</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1XX</td>\n<td>æç¤ºä¿¡æ¯â€”è¡¨ç¤ºè¯·æ±‚å·²æ¥æ”¶ï¼Œç»§ç»­å¤„ç†</td>\n</tr>\n<tr>\n<td>2XX</td>\n<td>ç”¨äºè¡¨ç¤ºè¯·æ±‚å·²è¢«æˆåŠŸæ¥æ”¶ã€ç†è§£ã€æ¥æ”¶</td>\n</tr>\n<tr>\n<td>3XX</td>\n<td>ç”¨äºè¡¨ç¤ºèµ„æºï¼ˆç½‘é¡µç­‰ï¼‰è¢«æ°¸ä¹…è½¬ç§»åˆ°å…¶å®ƒ URLï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„é‡å®šå‘</td>\n</tr>\n<tr>\n<td>4XX</td>\n<td>å®¢æˆ·ç«¯é”™è¯¯â€”è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯æˆ–è€…è¯·æ±‚æ— æ³•å®ç°</td>\n</tr>\n<tr>\n<td>5XX</td>\n<td>æœåŠ¡å™¨ç«¯é”™è¯¯â€”æœåŠ¡å™¨æœªèƒ½å®ç°åˆæ³•çš„è¯·æ±‚</td>\n</tr>\n</tbody></table>\n<h3 id=\"å“åº”å¤´\"><a href=\"#å“åº”å¤´\" class=\"headerlink\" title=\"å“åº”å¤´\"></a>å“åº”å¤´</h3><table>\n<thead>\n<tr>\n<th>åç§°</th>\n<th>åŠŸèƒ½</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Date</td>\n<td>æœåŠ¡å™¨çš„æ—¥æœŸ</td>\n</tr>\n<tr>\n<td>Last-Modified</td>\n<td>è¯¥èµ„æºæœ€åè¢«ä¿®æ”¹çš„æ—¶é—´</td>\n</tr>\n<tr>\n<td>Transfer-Encoding</td>\n<td>å–å€¼ä¸€èˆ¬ä¸º chunkedï¼Œå‡ºç°åœ¨ Content-Length ä¸èƒ½ç¡®å®šçš„æƒ…å†µä¸‹ï¼Œè¡¨ç¤ºæœåŠ¡å™¨ä¸çŸ¥é“å“åº”æ¿ä½“çš„æ•°æ®å¤§å°ï¼Œä¸€èˆ¬åŒæ—¶å‡ºç°Content-Encodingå“åº”å¤´</td>\n</tr>\n<tr>\n<td>Set-Cookie</td>\n<td>è®¾ç½® Cookie</td>\n</tr>\n<tr>\n<td>Location</td>\n<td>é‡å®šå‘åˆ°å¦ä¸€ä¸ª URLï¼Œå¦‚è¾“å…¥æµè§ˆå™¨å°±è¾“å…¥ baidu.com å›è½¦ï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ°<a href=\"http://www.baidu.com\" target=\"_blank\" rel=\"noopener\">www.baidu.com</a> å°±æ˜¯é€šè¿‡è¿™ä¸ªå“åº”å¤´æ§åˆ¶çš„</td>\n</tr>\n<tr>\n<td>Server</td>\n<td>åå°æœåŠ¡å™¨</td>\n</tr>\n</tbody></table>\n<blockquote>\n<p> Reference<br> <a href=\"https://zhuanlan.zhihu.com/p/72616216\" target=\"_blank\" rel=\"noopener\">https://zhuanlan.zhihu.com/p/72616216</a><br> <a href=\"https://juejin.im/post/5a0ce1d95188253e24708454\" target=\"_blank\" rel=\"noopener\">https://juejin.im/post/5a0ce1d95188253e24708454</a></p>\n</blockquote>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"åè®®\"><a href=\"#åè®®\" class=\"headerlink\" title=\"åè®®\"></a>åè®®</h2><p>ç½‘ç»œåè®®æ˜¯è®¡ç®—æœºä¹‹é—´ä¸ºäº†å®ç°ç½‘ç»œé€šä¿¡è€Œè¾¾æˆçš„ä¸€ç§â€œçº¦å®šâ€æˆ–è€…â€è§„åˆ™â€œï¼Œæœ‰äº†è¿™ç§â€çº¦å®šâ€œï¼Œä¸åŒå‚å•†çš„ç”Ÿäº§è®¾å¤‡ï¼Œä»¥åŠä¸åŒæ“ä½œç³»ç»Ÿç»„æˆçš„è®¡ç®—æœºä¹‹é—´ï¼Œå°±å¯ä»¥å®ç°é€šä¿¡ã€‚</p>\n<h3 id=\"HTTPåè®®\"><a href=\"#HTTPåè®®\" class=\"headerlink\" title=\"HTTPåè®®\"></a>HTTPåè®®</h3><p>HTTPåè®®æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®çš„ç¼©å†™ï¼Œè‹±æ–‡æ˜¯Hyper Text Transfer Protocolã€‚å®ƒæ˜¯ä»WEBæœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€(HTML)åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ é€åè®®ã€‚</p>\n<p>è®¾è®¡HTTPæœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†æä¾›ä¸€ç§å‘å¸ƒå’Œæ¥æ”¶HTMLé¡µé¢çš„æ–¹æ³•ã€‚</p>\n<p>HTPPæœ‰å¤šä¸ªç‰ˆæœ¬ï¼Œç›®å‰å¹¿æ³›ä½¿ç”¨çš„æ˜¯HTTP/1.1ç‰ˆæœ¬ã€‚</p>\n<h2 id=\"HTTP\"><a href=\"#HTTP\" class=\"headerlink\" title=\"HTTP\"></a>HTTP</h2><p>HTTP å…¨ç§°æ˜¯ HyperText Transfer Protocal ï¼Œå³ï¼šè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä» 1990 å¹´å¼€å§‹å°±åœ¨ WWW ä¸Šå¹¿æ³›åº”ç”¨ï¼Œæ˜¯ç°ä»Šåœ¨ WWW ä¸Šåº”ç”¨æœ€å¤šçš„åè®®ï¼ŒHTTP æ˜¯åº”ç”¨å±‚åè®®ï¼Œå½“ä½ ä¸Šç½‘æµè§ˆç½‘é¡µçš„æ—¶å€™ï¼Œæµè§ˆå™¨å’Œ web æœåŠ¡å™¨ä¹‹é—´å°±ä¼šé€šè¿‡ HTTP åœ¨ Internet ä¸Šè¿›è¡Œæ•°æ®çš„å‘é€å’Œæ¥æ”¶ã€‚HTTP æ˜¯ä¸€ä¸ªåŸºäºè¯·æ±‚/å“åº”æ¨¡å¼çš„ã€æ— çŠ¶æ€çš„åè®®ã€‚å³æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„ Request/Response</p>\n<h3 id=\"HTTPåŸç†\"><a href=\"#HTTPåŸç†\" class=\"headerlink\" title=\"HTTPåŸç†\"></a>HTTPåŸç†</h3><p>HTTPæ˜¯ä¸€ä¸ªåŸºäºTCP/IPé€šä¿¡åè®®æ¥ä¼ é€’æ•°æ®çš„åè®®ï¼Œä¼ è¾“çš„æ•°æ®ç±»å‹ä¸ºHTML æ–‡ä»¶,ã€å›¾ç‰‡æ–‡ä»¶, æŸ¥è¯¢ç»“æœç­‰ã€‚</p>\n<p>HTTPåè®®ä¸€èˆ¬ç”¨äºB/Sæ¶æ„ï¼ˆï¼‰ã€‚æµè§ˆå™¨ä½œä¸ºHTTPå®¢æˆ·ç«¯é€šè¿‡URLå‘HTTPæœåŠ¡ç«¯å³WEBæœåŠ¡å™¨å‘é€æ‰€æœ‰è¯·æ±‚ã€‚</p>\n<h3 id=\"HTTPåè®®-1\"><a href=\"#HTTPåè®®-1\" class=\"headerlink\" title=\"HTTPåè®®\"></a>HTTPåè®®</h3><p>HTTPåè®®æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®çš„ç¼©å†™ï¼Œè‹±æ–‡æ˜¯Hyper Text Transfer Protocolã€‚å®ƒæ˜¯ä»WEBæœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€(HTML)åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ é€åè®®ã€‚</p>\n<p>è®¾è®¡HTTPæœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†æä¾›ä¸€ç§å‘å¸ƒå’Œæ¥æ”¶HTMLé¡µé¢çš„æ–¹æ³•ã€‚</p>\n<p>HTPPæœ‰å¤šä¸ªç‰ˆæœ¬ï¼Œç›®å‰å¹¿æ³›ä½¿ç”¨çš„æ˜¯HTTP/1.1ç‰ˆæœ¬ã€‚</p>\n<h3 id=\"HTTPç‰¹ç‚¹\"><a href=\"#HTTPç‰¹ç‚¹\" class=\"headerlink\" title=\"HTTPç‰¹ç‚¹\"></a>HTTPç‰¹ç‚¹</h3><ul>\n<li>æ”¯æŒå®¢æˆ·ç«¯/æœåŠ¡å™¨æ¨¡å¼</li>\n<li>ç®€å•å¿«é€Ÿï¼šå®¢æˆ·å‘æœåŠ¡å™¨è¯·æ±‚æœåŠ¡æ—¶ï¼Œåªéœ€ä¼ é€è¯·æ±‚æ–¹æ³•å’Œè·¯å¾„ã€‚ç”±äº HTTP åè®®ç®€å•ï¼Œä½¿å¾— HTTP æœåŠ¡å™¨çš„ç¨‹åºè§„æ¨¡å°ï¼Œå› è€Œé€šä¿¡é€Ÿåº¦å¾ˆå¿«</li>\n<li>çµæ´»ï¼šHTTP å…è®¸ä¼ è¾“ä»»æ„ç±»å‹çš„æ•°æ®å¯¹è±¡ã€‚æ­£åœ¨ä¼ è¾“çš„ç±»å‹ç”± Content-Type åŠ ä»¥æ ‡è®°</li>\n<li>æ— è¿æ¥ï¼šæ— è¿æ¥çš„å«ä¹‰æ˜¯é™åˆ¶æ¯æ¬¡é“¾æ¥åªå¤„ç†ä¸€ä¸ªè¯·æ±‚ã€‚æœåŠ¡å™¨å¤„ç†å®Œå®¢æˆ·çš„è¯·æ±‚ï¼Œå¹¶æ”¶åˆ°å®¢æˆ·çš„åº”ç­”åï¼Œå³æ–­å¼€é“¾æ¥ï¼Œé‡‡ç”¨è¿™ç§æ–¹å¼å¯ä»¥èŠ‚çœä¼ è¾“æ—¶é—´</li>\n<li>æ— çŠ¶æ€ï¼šHTTP åè®®æ˜¯æ— çŠ¶æ€åè®®ã€‚æ— çŠ¶æ€æ˜¯æŒ‡åè®®å¯¹äºäº‹ç‰©å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›ã€‚ç¼ºå°‘çŠ¶æ€æ„å‘³ç€å¦‚æœåç»­å¤„ç†éœ€è¦å‰é¢çš„ä¿¡æ¯ï¼Œåˆ™å®ƒå¿…é¡»é‡ä¼ ï¼Œè¿™æ ·å¯èƒ½ä¼šå¯¼è‡´æ¯æ¬¡è¿æ¥ä¼ é€çš„æ•°æ®é‡å¢å¤§ã€‚å¦ä¸€æ–¹é¢ï¼Œåœ¨æœåŠ¡å™¨ä¸éœ€è¦å…ˆå‰ä¿¡æ¯æ—¶å®ƒçš„åº”ç­”å°±æ¯”è¾ƒå¿«</li>\n</ul>\n<h2 id=\"HTTPS\"><a href=\"#HTTPS\" class=\"headerlink\" title=\"HTTPS\"></a>HTTPS</h2><p>HTTPS åè®®ï¼ˆHyperText Transfer Protocol over Secure Socket Layerï¼‰ï¼šä¸€èˆ¬ç†è§£ä¸ºHTTP+SSL/TLSï¼Œé€šè¿‡ SSLè¯ä¹¦æ¥éªŒè¯æœåŠ¡å™¨çš„èº«ä»½ï¼Œå¹¶ä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡è¿›è¡ŒåŠ å¯†ã€‚</p>\n<p>è§£å†³HTTPçš„ä¸€äº›é—®é¢˜</p>\n<ul>\n<li>è¯·æ±‚ä¿¡æ¯æ˜æ–‡ä¼ è¾“ï¼Œå®¹æ˜“è¢«çªƒå¬æˆªå–ã€‚</li>\n<li>æ•°æ®çš„å®Œæ•´æ€§æœªæ ¡éªŒï¼Œå®¹æ˜“è¢«ç¯¡æ”¹</li>\n<li>æ²¡æœ‰éªŒè¯å¯¹æ–¹èº«ä»½ï¼Œå­˜åœ¨å†’å……å±é™©</li>\n</ul>\n<h2 id=\"æ€»ç»“HTTPSå’ŒHTTPçš„åŒºåˆ«\"><a href=\"#æ€»ç»“HTTPSå’ŒHTTPçš„åŒºåˆ«\" class=\"headerlink\" title=\"æ€»ç»“HTTPSå’ŒHTTPçš„åŒºåˆ«\"></a>æ€»ç»“HTTPSå’ŒHTTPçš„åŒºåˆ«</h2><ul>\n<li>HTTPSæ˜¯HTTPåè®®çš„å®‰å…¨ç‰ˆæœ¬ï¼ŒHTTPåè®®çš„æ•°æ®ä¼ è¾“æ˜¯æ˜æ–‡çš„ï¼Œæ˜¯ä¸å®‰å…¨çš„ï¼ŒHTTPSä½¿ç”¨äº†SSL/TLSåè®®è¿›è¡Œäº†åŠ å¯†å¤„ç†ã€‚</li>\n<li>httpå’Œhttpsä½¿ç”¨è¿æ¥æ–¹å¼ä¸åŒï¼Œé»˜è®¤ç«¯å£ä¹Ÿä¸ä¸€æ ·ï¼Œhttpæ˜¯80ï¼Œhttpsæ˜¯443ã€‚</li>\n</ul>\n<h2 id=\"URLè¯¦è§£\"><a href=\"#URLè¯¦è§£\" class=\"headerlink\" title=\"URLè¯¦è§£\"></a>URLè¯¦è§£</h2><p>URLï¼ˆUniform Resource Locatorï¼‰æ˜¯ç»Ÿä¸€èµ„æºå®šä½ç¬¦çš„ç®€ç§°ï¼Œæœ‰æ—¶å€™ä¹Ÿè¢«ä¿—ç§°ä¸ºç½‘é¡µåœ°å€ï¼ˆç½‘å€ï¼‰ï¼Œå¦‚åŒæ˜¯ç½‘ç»œä¸Šçš„é—¨ç‰Œï¼Œæ˜¯å› ç‰¹ç½‘ä¸Šæ ‡å‡†çš„èµ„æºçš„åœ°å€</p>\n<h3 id=\"åŸºæœ¬ç»„æˆ\"><a href=\"#åŸºæœ¬ç»„æˆ\" class=\"headerlink\" title=\"åŸºæœ¬ç»„æˆ\"></a>åŸºæœ¬ç»„æˆ</h3><table>\n<thead>\n<tr>\n<th>åç§°</th>\n<th>åŠŸèƒ½</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>scheme</td>\n<td>è®¿é—®æœåŠ¡å™¨ä»¥è·å–èµ„æºæ—¶è¦ä½¿ç”¨å“ªç§åè®®ï¼Œæ¯”å¦‚ï¼Œhttpï¼Œhttps å’Œ FTP ç­‰</td>\n</tr>\n<tr>\n<td>host</td>\n<td>HTTP æœåŠ¡å™¨çš„ IP åœ°å€æˆ–åŸŸå</td>\n</tr>\n<tr>\n<td>port#</td>\n<td>HTTP æœåŠ¡å™¨çš„é»˜è®¤ç«¯å£æ˜¯ 80ï¼Œè¿™ç§æƒ…å†µä¸‹ç«¯å£å·å¯ä»¥çœç•¥ï¼Œå¦‚æœä½¿ç”¨äº†åˆ«çš„ç«¯å£ï¼Œå¿…é¡»æŒ‡æ˜ï¼Œä¾‹å¦‚<a href=\"http://www.cnblogs.comï¼š8080\">www.cnblogs.comï¼š8080</a></td>\n</tr>\n<tr>\n<td>path</td>\n<td>è®¿é—®èµ„æºçš„è·¯å¾„</td>\n</tr>\n<tr>\n<td>query-string</td>\n<td>å‘ç»™ http æœåŠ¡å™¨çš„æ•°æ®</td>\n</tr>\n<tr>\n<td>anchor</td>\n<td>é”š</td>\n</tr>\n</tbody></table>\n<p><img src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/HTTP%20HTTP%20%E5%8D%8F%E8%AE%AE%20URI/15fc2525666dc96e.jpeg?raw=true\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<h2 id=\"HTTPè¯·æ±‚\"><a href=\"#HTTPè¯·æ±‚\" class=\"headerlink\" title=\"HTTPè¯·æ±‚\"></a>HTTPè¯·æ±‚</h2><h3 id=\"ç±»å‹\"><a href=\"#ç±»å‹\" class=\"headerlink\" title=\"ç±»å‹\"></a>ç±»å‹</h3><table>\n<thead>\n<tr>\n<th>åç§°</th>\n<th>åŠŸèƒ½</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>GET</td>\n<td>å‘æŒ‡å®šçš„èµ„æºå‘å‡ºâ€œæ˜¾ç¤ºâ€è¯·æ±‚ï¼Œä½¿ç”¨ GET æ–¹æ³•åº”è¯¥åªç”¨åœ¨è¯»å–æ•°æ®ä¸Šï¼Œè€Œä¸åº”è¯¥ç”¨äºäº§ç”Ÿâ€œå‰¯ä½œç”¨â€çš„æ“ä½œä¸­</td>\n</tr>\n<tr>\n<td>POST</td>\n<td>æŒ‡å®šèµ„æºæäº¤æ•°æ®ï¼Œè¯·æ±‚æœåŠ¡å™¨è¿›è¡Œå¤„ç†ï¼ˆä¾‹å¦‚æäº¤è¡¨å•æˆ–è€…ä¸Šä¼ æ–‡ä»¶ï¼‰ã€‚æ•°æ®è¢«åŒ…å«åœ¨è¯·æ±‚æ–‡æœ¬ä¸­ã€‚è¿™ä¸ªè¯·æ±‚å¯èƒ½ä¼šåˆ›å»ºæ–°çš„èµ„æºæˆ–è€…ä¿®æ”¹ç°æœ‰èµ„æºï¼Œæˆ–ä¸¤è€…çš†æœ‰ã€‚</td>\n</tr>\n<tr>\n<td>PUT</td>\n<td>å‘æŒ‡å®šèµ„æºä½ç½®ä¸Šä¼ å…¶æœ€æ–°å†…å®¹</td>\n</tr>\n<tr>\n<td>DELETE</td>\n<td>è¯·æ±‚æœåŠ¡å™¨åˆ é™¤ Request-URI æ‰€æ ‡è¯†çš„èµ„æº</td>\n</tr>\n<tr>\n<td>OPTIONS</td>\n<td>ä½¿æœåŠ¡å™¨ä¼ å›è¯¥èµ„æºæ‰€æ”¯æŒçš„æ‰€æœ‰HTTPè¯·æ±‚æ–¹æ³•ã€‚ç”¨*æ¥ä»£æ›¿èµ„æºåç§°ï¼Œå‘ Web æœåŠ¡å™¨å‘é€ OPTIONS è¯·æ±‚ï¼Œå¯ä»¥æµ‹è¯•æœåŠ¡å™¨åŠŸèƒ½æ˜¯å¦æ­£å¸¸è¿ä½œ</td>\n</tr>\n<tr>\n<td>HEAD</td>\n<td>ä¸ GET æ–¹æ³•ä¸€æ ·ï¼Œéƒ½æ˜¯å‘æœåŠ¡å™¨å‘å‡ºæŒ‡å®šèµ„æºçš„è¯·æ±‚ï¼Œåªä¸è¿‡æœåŠ¡å™¨å°†ä¸ä¼ å›èµ„æºçš„æœ¬æ–‡éƒ¨åˆ†ï¼Œå®ƒçš„å¥½å¤„åœ¨äºï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•å¯ä»¥åœ¨ä¸å¿…ä¼ è¾“å…¨éƒ¨å†…å®¹çš„æƒ…å†µä¸‹ï¼Œå°±å¯ä»¥è·å–å…¶ä¸­å…³äºè¯¥èµ„æºçš„ä¿¡æ¯ï¼ˆåŸä¿¡æ¯æˆ–ç§°å…ƒæ•°æ®ï¼‰</td>\n</tr>\n<tr>\n<td>TRACE</td>\n<td>æ˜¾ç¤ºæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­</td>\n</tr>\n<tr>\n<td>CONNECT</td>\n<td>HTTP/1.1 ä¸­é¢„ç•™ç»™èƒ½å¤Ÿå°†è¿æ¥æ”¹ä¸ºé€šé“æ–¹å¼çš„ä»£ç†æœåŠ¡å™¨ã€‚é€šå¸¸ç”¨äº SSL åŠ å¯†æœåŠ¡å™¨çš„é“¾æ¥ï¼ˆç»ç”±éåŠ å¯†çš„ HTTP ä»£ç†æœåŠ¡å™¨ï¼‰</td>\n</tr>\n</tbody></table>\n<p>å…¶ä¸­ï¼Œæœ€å¸¸è§çš„æ˜¯ GET å’Œ POST æ–¹æ³•ï¼Œå¦‚æœæ˜¯ RESful æ¥å£çš„è¯ä¸€èˆ¬ä¼šç”¨åˆ° PUTã€DELETEã€GETã€POSTï¼ˆåˆ†åˆ«å¯¹åº”å¢åˆ æŸ¥æ”¹</p>\n<h3 id=\"è¯·æ±‚å¤´\"><a href=\"#è¯·æ±‚å¤´\" class=\"headerlink\" title=\"è¯·æ±‚å¤´\"></a>è¯·æ±‚å¤´</h3><table>\n<thead>\n<tr>\n<th>åç§°</th>\n<th>åŠŸèƒ½</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Authorization</td>\n<td>ç”¨äºè®¾ç½®èº«ä»½è®¤è¯ä¿¡æ¯</td>\n</tr>\n<tr>\n<td>User-Agent</td>\n<td>ç”¨æˆ·æ ‡è¯†ï¼Œå¦‚ï¼šOS å’Œæµè§ˆå™¨çš„ç±»å‹å’Œç‰ˆæœ¬</td>\n</tr>\n<tr>\n<td>If-Modified-Since</td>\n<td>å€¼ä¸ºä¸Šä¸€æ¬¡æœåŠ¡å™¨è¿”å›çš„Last-Modifiedå€¼ï¼Œç”¨äºç¡®å®šæŸä¸ªèµ„æºæ˜¯å¦è¢«æ›´æ”¹è¿‡ï¼Œæ²¡æœ‰æ›´æ”¹è¿‡å°±ä»ç¼“å­˜ä¸­è¯»å–</td>\n</tr>\n<tr>\n<td>If-None-Match</td>\n<td>å€¼ä¸ºä¸Šä¸€æ¬¡æœåŠ¡å™¨è¿”å›çš„ ETag å€¼ï¼Œä¸€èˆ¬ä¼šå’ŒIf-Modified-Since</td>\n</tr>\n<tr>\n<td>Cookie</td>\n<td>å·²æœ‰çš„Cookie</td>\n</tr>\n<tr>\n<td>Referer</td>\n<td>æ ‡è¯†è¯·æ±‚å¼•ç”¨è‡ªå“ªä¸ªåœ°å€ï¼Œæ¯”å¦‚ä½ ä»é¡µé¢ A è·³è½¬åˆ°é¡µé¢ B æ—¶ï¼Œå€¼ä¸ºé¡µé¢ A çš„åœ°å€</td>\n</tr>\n<tr>\n<td>Host</td>\n<td>è¯·æ±‚çš„ä¸»æœºå’Œç«¯å£å·</td>\n</tr>\n</tbody></table>\n<h3 id=\"çŠ¶æ€ç \"><a href=\"#çŠ¶æ€ç \" class=\"headerlink\" title=\"çŠ¶æ€ç \"></a>çŠ¶æ€ç </h3><table>\n<thead>\n<tr>\n<th>çŠ¶æ€ç </th>\n<th>å¯¹åº”çš„ä¿¡æ¯</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1XX</td>\n<td>æç¤ºä¿¡æ¯â€”è¡¨ç¤ºè¯·æ±‚å·²æ¥æ”¶ï¼Œç»§ç»­å¤„ç†</td>\n</tr>\n<tr>\n<td>2XX</td>\n<td>ç”¨äºè¡¨ç¤ºè¯·æ±‚å·²è¢«æˆåŠŸæ¥æ”¶ã€ç†è§£ã€æ¥æ”¶</td>\n</tr>\n<tr>\n<td>3XX</td>\n<td>ç”¨äºè¡¨ç¤ºèµ„æºï¼ˆç½‘é¡µç­‰ï¼‰è¢«æ°¸ä¹…è½¬ç§»åˆ°å…¶å®ƒ URLï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„é‡å®šå‘</td>\n</tr>\n<tr>\n<td>4XX</td>\n<td>å®¢æˆ·ç«¯é”™è¯¯â€”è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯æˆ–è€…è¯·æ±‚æ— æ³•å®ç°</td>\n</tr>\n<tr>\n<td>5XX</td>\n<td>æœåŠ¡å™¨ç«¯é”™è¯¯â€”æœåŠ¡å™¨æœªèƒ½å®ç°åˆæ³•çš„è¯·æ±‚</td>\n</tr>\n</tbody></table>\n<h3 id=\"å“åº”å¤´\"><a href=\"#å“åº”å¤´\" class=\"headerlink\" title=\"å“åº”å¤´\"></a>å“åº”å¤´</h3><table>\n<thead>\n<tr>\n<th>åç§°</th>\n<th>åŠŸèƒ½</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Date</td>\n<td>æœåŠ¡å™¨çš„æ—¥æœŸ</td>\n</tr>\n<tr>\n<td>Last-Modified</td>\n<td>è¯¥èµ„æºæœ€åè¢«ä¿®æ”¹çš„æ—¶é—´</td>\n</tr>\n<tr>\n<td>Transfer-Encoding</td>\n<td>å–å€¼ä¸€èˆ¬ä¸º chunkedï¼Œå‡ºç°åœ¨ Content-Length ä¸èƒ½ç¡®å®šçš„æƒ…å†µä¸‹ï¼Œè¡¨ç¤ºæœåŠ¡å™¨ä¸çŸ¥é“å“åº”æ¿ä½“çš„æ•°æ®å¤§å°ï¼Œä¸€èˆ¬åŒæ—¶å‡ºç°Content-Encodingå“åº”å¤´</td>\n</tr>\n<tr>\n<td>Set-Cookie</td>\n<td>è®¾ç½® Cookie</td>\n</tr>\n<tr>\n<td>Location</td>\n<td>é‡å®šå‘åˆ°å¦ä¸€ä¸ª URLï¼Œå¦‚è¾“å…¥æµè§ˆå™¨å°±è¾“å…¥ baidu.com å›è½¦ï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ°<a href=\"http://www.baidu.com\" target=\"_blank\" rel=\"noopener\">www.baidu.com</a> å°±æ˜¯é€šè¿‡è¿™ä¸ªå“åº”å¤´æ§åˆ¶çš„</td>\n</tr>\n<tr>\n<td>Server</td>\n<td>åå°æœåŠ¡å™¨</td>\n</tr>\n</tbody></table>\n<blockquote>\n<p> Reference<br> <a href=\"https://zhuanlan.zhihu.com/p/72616216\" target=\"_blank\" rel=\"noopener\">https://zhuanlan.zhihu.com/p/72616216</a><br> <a href=\"https://juejin.im/post/5a0ce1d95188253e24708454\" target=\"_blank\" rel=\"noopener\">https://juejin.im/post/5a0ce1d95188253e24708454</a></p>\n</blockquote>\n"},{"title":"JavaScript æµ…æ‹·è´ æ·±æ‹·è´ èµ‹å€¼ å¼•ç”¨ JS","date":"2019-06-19T02:10:59.000Z","cover":"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/JavaScript.png?raw=true","_content":"\n## å‰è¨€\nè¿™ä¸ªé—®é¢˜è¯´ä¸¥é‡ä¹Ÿä¸ä¸¥é‡ï¼Œè¯´ä¸å°ä¹Ÿä¸å°ã€‚\nå¦‚æœä½ ä¹Ÿåˆšåˆšå¥½ç¢°åˆ°äº†è¿™ä¸ªé—®é¢˜ã€‚å°±è·Ÿç€æˆ‘ä¸€èµ·äº†è§£ä¸€ä¸‹å§ï¼\n\n## åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹\n\n \n\n - **åŸºæœ¬ç±»å‹**\n\nåŸºæœ¬ç±»å‹ä¹Ÿç§°å€¼ç±»å‹ï¼Œæ•°å€¼ç±»å‹ã€‚\nåŒ…æ‹¬äº†\n\n  1. String\n 2. Number\n 3. Boolean\n 4. Null\n 5. Undefined\n 6. Symbolï¼ˆES6æ–°å¢ï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„ä¸€ä¸ªå€¼ã€‚[MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol)ï¼‰\n\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JavaScript%20%E6%B5%85%E6%8B%B7%E8%B4%9D%20%E6%B7%B1%E6%8B%B7%E8%B4%9D%20%E8%B5%8B%E5%80%BC%20%E5%BC%95%E7%94%A8%20JS/20190428204522836.png?raw=true)\n\nåŸºæœ¬ç±»å‹çš„æ˜¯æ”¾åœ¨æ ˆåŒºçš„ï¼Œè®¿é—®çš„æ—¶å€™ä¹Ÿæ˜¯æŒ‰å€¼è®¿é—®ï¼Œå°±æ˜¯æ­£å¸¸çš„ç†è§£çš„èµ‹å€¼ã€‚\n\n - **å¼•ç”¨ç±»å‹å’Œæµ…æ‹·è´**\n\n\nå¼•ç”¨ç±»å‹ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯å¼•ç”¨æ¥è®¿é—®çš„ã€‚\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JavaScript%20%E6%B5%85%E6%8B%B7%E8%B4%9D%20%E6%B7%B1%E6%8B%B7%E8%B4%9D%20%E8%B5%8B%E5%80%BC%20%E5%BC%95%E7%94%A8%20JS/20190428204904611.png?raw=true)\n\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ“ä½œçš„æ˜¯**q**ã€‚ä¸ºä»€ä¹ˆ**w**ä¹Ÿæ”¹å˜äº†å‘¢ï¼Ÿ\n\nå› ä¸º**w**ä¸æ˜¯çœŸçš„ç»™ä»–èµ‹å€¼äº†[1, 2]ã€‚\n\nè€Œæ˜¯èµ‹å€¼ç»™äº†**q**æ‰€æŒ‡å‘çš„åœ°å€çš„æŒ‡é’ˆã€‚\n\næœ‰ç‚¹ç»•ï¼Œå…¶å®è¯´ç™½äº†å°±æ˜¯ q æ˜¯æŒ‡å‘åœ°å€ A çš„ã€‚\n\nw = q ï¼Œåªæ˜¯æŠŠ q æŒ‡å‘ åœ°å€ A çš„è¿™ä¸ªæŒ‡é’ˆèµ‹å€¼ç»™äº† w ã€‚\n\nw å’Œ q éƒ½å¯ä»¥æ“ä½œè¿™ä¸ªåœ°å€çš„å†…å®¹ã€‚\n\næ‰€ä»¥ï¼Œå½“æˆ‘ä»¬ç”¨ q æ¥æ“ä½œè¿™ä¸ªåœ°å€å†…å®¹çš„æ—¶å€™ï¼Œåœ°å€å†…å®¹å°±å˜äº†ã€‚å½“ w å»å–å€¼çš„æ—¶å€™ï¼Œå†…å®¹å·²ç»å˜äº†ã€‚\n\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JavaScript%20%E6%B5%85%E6%8B%B7%E8%B4%9D%20%E6%B7%B1%E6%8B%B7%E8%B4%9D%20%E8%B5%8B%E5%80%BC%20%E5%BC%95%E7%94%A8%20JS/20190428205243797.png?raw=true)\n\n\nw å’Œ q éƒ½å¯ä»¥æ“ä½œè¿™ä¸ªåœ°å€å†…å®¹ã€‚\n\né‚£ä¹ˆå¼•ç”¨ç±»å‹æœ‰é‚£äº›å‘¢ï¼Ÿ\n\n\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JavaScript%20%E6%B5%85%E6%8B%B7%E8%B4%9D%20%E6%B7%B1%E6%8B%B7%E8%B4%9D%20%E8%B5%8B%E5%80%BC%20%E5%BC%95%E7%94%A8%20JS/20190428205350562.png?raw=true)\n\nè¿™æ ·ç®€å•çš„å¼•ç”¨èµ‹å€¼ä¹Ÿå«åšæµ…æ‹·è´ã€‚\n\nå¯èƒ½ä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚:\n\nAå’ŒBéƒ½æ˜¯æ•°ç»„ï¼›\n\næˆ‘åªæ˜¯æ‡’å¾—ç»™Bèµ‹å€¼å’ŒAä¸€æ¨¡ä¸€æ ·çš„ï¼›\n\næ‰€ä»¥æˆ‘ç›´æ¥B = Aï¼›\n\næˆ‘åœ¨æ“ä½œå®ŒBä¹‹åæˆ‘åˆæƒ³å»å–å€¼Açš„å€¼çš„æ—¶å€™ï¼Œå‘ç°Aå·²ç»å˜äº†ã€‚\n\nåœ¨reactä¸­ä¹Ÿæœ‰å¯¹stateæµ…æ‹·è´åˆ¤æ–­çš„ï¼ˆPureComponentï¼‰\n\n\n - **æ·±æ‹·è´**\n\n ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JavaScript%20%E6%B5%85%E6%8B%B7%E8%B4%9D%20%E6%B7%B1%E6%8B%B7%E8%B4%9D%20%E8%B5%8B%E5%80%BC%20%E5%BC%95%E7%94%A8%20JS/20190428205853748.png?raw=true)\n\nè¿™ä¸ªå°±å«åšæ·±æ‹·è´ã€‚\n\nå°†ä»–çš„å†…å®¹åˆ†è§£å‡ºæ¥è¿›è¡Œè§£æã€‚\n\nä½†æ˜¯è¿™æ ·ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜ã€‚\n\néº»çƒ¦ï¼\n\næ¯”å¦‚\n\nlet A = [ {a: [1, 2]}, {b: [1, 2]} ]ã€‚\n\nè¿™ä¸ªæ—¶å€™è¦æ·±æ‹·è´ç»™Bçš„è¯ã€‚\n\nè¦ä¸€ç›´ç»“æ„åˆ°å¾ˆæ·±å¤„ã€‚\n\næœ‰å‡ ä¸ªä¸ªåŠæ³•å¯ä»¥è§£å†³ã€‚\n\n1.å«åš**åºåˆ—åŒ–**\n\n - JSON.stringify()\n\n - JSON.parse()\n\n ä½†æ˜¯è¿™æ ·éå¸¸æµªè´¹èµ„æº\n\n2.Object.assign()æ‹·è´\n\n - å½“å¯¹è±¡ä¸­åªæœ‰ä¸€çº§å±æ€§ï¼Œæ²¡æœ‰äºŒçº§å±æ€§çš„æ—¶å€™ï¼Œæ­¤æ–¹æ³•ä¸ºæ·±æ‹·è´ï¼Œä½†æ˜¯å¯¹è±¡ä¸­æœ‰å¯¹è±¡çš„æ—¶å€™ï¼Œæ­¤æ–¹æ³•ï¼Œåœ¨äºŒçº§å±æ€§ä»¥åå°±æ˜¯æµ…æ‹·è´ã€‚\n\n 3.ä½¿ç”¨é€’å½’çš„æ–¹å¼å®ç°æ·±æ‹·è´\n\n```\n //ä½¿ç”¨é€’å½’çš„æ–¹å¼å®ç°æ•°ç»„ã€å¯¹è±¡çš„æ·±æ‹·è´\nfunction deepClone1(obj) {\n  //åˆ¤æ–­æ‹·è´çš„è¦è¿›è¡Œæ·±æ‹·è´çš„æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡ï¼Œæ˜¯æ•°ç»„çš„è¯è¿›è¡Œæ•°ç»„æ‹·è´ï¼Œå¯¹è±¡çš„è¯è¿›è¡Œå¯¹è±¡æ‹·è´\n  var objClone = Array.isArray(obj) ? [] : {};\n  //è¿›è¡Œæ·±æ‹·è´çš„ä¸èƒ½ä¸ºç©ºï¼Œå¹¶ä¸”æ˜¯å¯¹è±¡æˆ–è€…æ˜¯\n  if (obj && typeof obj === \"object\") {\n    for (key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        if (obj[key] && typeof obj[key] === \"object\") {\n          objClone[key] = deepClone1(obj[key]);\n        } else {\n          objClone[key] = obj[key];\n        }\n      }\n    }\n  }\n  return objClone;\n}\n```\n\n5.lodashå‡½æ•°åº“å®ç°æ·±æ‹·è´\n\nlodashå¾ˆçƒ­é—¨çš„å‡½æ•°åº“ï¼Œæä¾›äº† lodash.cloneDeep()å®ç°æ·±æ‹·è´\n","source":"_posts/JavaScript-æµ…æ‹·è´-æ·±æ‹·è´-èµ‹å€¼-å¼•ç”¨-JS.md","raw":"---\ntitle: JavaScript æµ…æ‹·è´ æ·±æ‹·è´ èµ‹å€¼ å¼•ç”¨ JS\ndate: 2019-06-19 10:10:59\ntags: [æ·±æ‹·è´, æµ…æ‹·è´]\ncategory: [JavaScript]\ncover: https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/JavaScript.png?raw=true\n---\n\n## å‰è¨€\nè¿™ä¸ªé—®é¢˜è¯´ä¸¥é‡ä¹Ÿä¸ä¸¥é‡ï¼Œè¯´ä¸å°ä¹Ÿä¸å°ã€‚\nå¦‚æœä½ ä¹Ÿåˆšåˆšå¥½ç¢°åˆ°äº†è¿™ä¸ªé—®é¢˜ã€‚å°±è·Ÿç€æˆ‘ä¸€èµ·äº†è§£ä¸€ä¸‹å§ï¼\n\n## åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹\n\n \n\n - **åŸºæœ¬ç±»å‹**\n\nåŸºæœ¬ç±»å‹ä¹Ÿç§°å€¼ç±»å‹ï¼Œæ•°å€¼ç±»å‹ã€‚\nåŒ…æ‹¬äº†\n\n  1. String\n 2. Number\n 3. Boolean\n 4. Null\n 5. Undefined\n 6. Symbolï¼ˆES6æ–°å¢ï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„ä¸€ä¸ªå€¼ã€‚[MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol)ï¼‰\n\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JavaScript%20%E6%B5%85%E6%8B%B7%E8%B4%9D%20%E6%B7%B1%E6%8B%B7%E8%B4%9D%20%E8%B5%8B%E5%80%BC%20%E5%BC%95%E7%94%A8%20JS/20190428204522836.png?raw=true)\n\nåŸºæœ¬ç±»å‹çš„æ˜¯æ”¾åœ¨æ ˆåŒºçš„ï¼Œè®¿é—®çš„æ—¶å€™ä¹Ÿæ˜¯æŒ‰å€¼è®¿é—®ï¼Œå°±æ˜¯æ­£å¸¸çš„ç†è§£çš„èµ‹å€¼ã€‚\n\n - **å¼•ç”¨ç±»å‹å’Œæµ…æ‹·è´**\n\n\nå¼•ç”¨ç±»å‹ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯å¼•ç”¨æ¥è®¿é—®çš„ã€‚\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JavaScript%20%E6%B5%85%E6%8B%B7%E8%B4%9D%20%E6%B7%B1%E6%8B%B7%E8%B4%9D%20%E8%B5%8B%E5%80%BC%20%E5%BC%95%E7%94%A8%20JS/20190428204904611.png?raw=true)\n\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ“ä½œçš„æ˜¯**q**ã€‚ä¸ºä»€ä¹ˆ**w**ä¹Ÿæ”¹å˜äº†å‘¢ï¼Ÿ\n\nå› ä¸º**w**ä¸æ˜¯çœŸçš„ç»™ä»–èµ‹å€¼äº†[1, 2]ã€‚\n\nè€Œæ˜¯èµ‹å€¼ç»™äº†**q**æ‰€æŒ‡å‘çš„åœ°å€çš„æŒ‡é’ˆã€‚\n\næœ‰ç‚¹ç»•ï¼Œå…¶å®è¯´ç™½äº†å°±æ˜¯ q æ˜¯æŒ‡å‘åœ°å€ A çš„ã€‚\n\nw = q ï¼Œåªæ˜¯æŠŠ q æŒ‡å‘ åœ°å€ A çš„è¿™ä¸ªæŒ‡é’ˆèµ‹å€¼ç»™äº† w ã€‚\n\nw å’Œ q éƒ½å¯ä»¥æ“ä½œè¿™ä¸ªåœ°å€çš„å†…å®¹ã€‚\n\næ‰€ä»¥ï¼Œå½“æˆ‘ä»¬ç”¨ q æ¥æ“ä½œè¿™ä¸ªåœ°å€å†…å®¹çš„æ—¶å€™ï¼Œåœ°å€å†…å®¹å°±å˜äº†ã€‚å½“ w å»å–å€¼çš„æ—¶å€™ï¼Œå†…å®¹å·²ç»å˜äº†ã€‚\n\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JavaScript%20%E6%B5%85%E6%8B%B7%E8%B4%9D%20%E6%B7%B1%E6%8B%B7%E8%B4%9D%20%E8%B5%8B%E5%80%BC%20%E5%BC%95%E7%94%A8%20JS/20190428205243797.png?raw=true)\n\n\nw å’Œ q éƒ½å¯ä»¥æ“ä½œè¿™ä¸ªåœ°å€å†…å®¹ã€‚\n\né‚£ä¹ˆå¼•ç”¨ç±»å‹æœ‰é‚£äº›å‘¢ï¼Ÿ\n\n\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JavaScript%20%E6%B5%85%E6%8B%B7%E8%B4%9D%20%E6%B7%B1%E6%8B%B7%E8%B4%9D%20%E8%B5%8B%E5%80%BC%20%E5%BC%95%E7%94%A8%20JS/20190428205350562.png?raw=true)\n\nè¿™æ ·ç®€å•çš„å¼•ç”¨èµ‹å€¼ä¹Ÿå«åšæµ…æ‹·è´ã€‚\n\nå¯èƒ½ä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚:\n\nAå’ŒBéƒ½æ˜¯æ•°ç»„ï¼›\n\næˆ‘åªæ˜¯æ‡’å¾—ç»™Bèµ‹å€¼å’ŒAä¸€æ¨¡ä¸€æ ·çš„ï¼›\n\næ‰€ä»¥æˆ‘ç›´æ¥B = Aï¼›\n\næˆ‘åœ¨æ“ä½œå®ŒBä¹‹åæˆ‘åˆæƒ³å»å–å€¼Açš„å€¼çš„æ—¶å€™ï¼Œå‘ç°Aå·²ç»å˜äº†ã€‚\n\nåœ¨reactä¸­ä¹Ÿæœ‰å¯¹stateæµ…æ‹·è´åˆ¤æ–­çš„ï¼ˆPureComponentï¼‰\n\n\n - **æ·±æ‹·è´**\n\n ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JavaScript%20%E6%B5%85%E6%8B%B7%E8%B4%9D%20%E6%B7%B1%E6%8B%B7%E8%B4%9D%20%E8%B5%8B%E5%80%BC%20%E5%BC%95%E7%94%A8%20JS/20190428205853748.png?raw=true)\n\nè¿™ä¸ªå°±å«åšæ·±æ‹·è´ã€‚\n\nå°†ä»–çš„å†…å®¹åˆ†è§£å‡ºæ¥è¿›è¡Œè§£æã€‚\n\nä½†æ˜¯è¿™æ ·ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜ã€‚\n\néº»çƒ¦ï¼\n\næ¯”å¦‚\n\nlet A = [ {a: [1, 2]}, {b: [1, 2]} ]ã€‚\n\nè¿™ä¸ªæ—¶å€™è¦æ·±æ‹·è´ç»™Bçš„è¯ã€‚\n\nè¦ä¸€ç›´ç»“æ„åˆ°å¾ˆæ·±å¤„ã€‚\n\næœ‰å‡ ä¸ªä¸ªåŠæ³•å¯ä»¥è§£å†³ã€‚\n\n1.å«åš**åºåˆ—åŒ–**\n\n - JSON.stringify()\n\n - JSON.parse()\n\n ä½†æ˜¯è¿™æ ·éå¸¸æµªè´¹èµ„æº\n\n2.Object.assign()æ‹·è´\n\n - å½“å¯¹è±¡ä¸­åªæœ‰ä¸€çº§å±æ€§ï¼Œæ²¡æœ‰äºŒçº§å±æ€§çš„æ—¶å€™ï¼Œæ­¤æ–¹æ³•ä¸ºæ·±æ‹·è´ï¼Œä½†æ˜¯å¯¹è±¡ä¸­æœ‰å¯¹è±¡çš„æ—¶å€™ï¼Œæ­¤æ–¹æ³•ï¼Œåœ¨äºŒçº§å±æ€§ä»¥åå°±æ˜¯æµ…æ‹·è´ã€‚\n\n 3.ä½¿ç”¨é€’å½’çš„æ–¹å¼å®ç°æ·±æ‹·è´\n\n```\n //ä½¿ç”¨é€’å½’çš„æ–¹å¼å®ç°æ•°ç»„ã€å¯¹è±¡çš„æ·±æ‹·è´\nfunction deepClone1(obj) {\n  //åˆ¤æ–­æ‹·è´çš„è¦è¿›è¡Œæ·±æ‹·è´çš„æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡ï¼Œæ˜¯æ•°ç»„çš„è¯è¿›è¡Œæ•°ç»„æ‹·è´ï¼Œå¯¹è±¡çš„è¯è¿›è¡Œå¯¹è±¡æ‹·è´\n  var objClone = Array.isArray(obj) ? [] : {};\n  //è¿›è¡Œæ·±æ‹·è´çš„ä¸èƒ½ä¸ºç©ºï¼Œå¹¶ä¸”æ˜¯å¯¹è±¡æˆ–è€…æ˜¯\n  if (obj && typeof obj === \"object\") {\n    for (key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        if (obj[key] && typeof obj[key] === \"object\") {\n          objClone[key] = deepClone1(obj[key]);\n        } else {\n          objClone[key] = obj[key];\n        }\n      }\n    }\n  }\n  return objClone;\n}\n```\n\n5.lodashå‡½æ•°åº“å®ç°æ·±æ‹·è´\n\nlodashå¾ˆçƒ­é—¨çš„å‡½æ•°åº“ï¼Œæä¾›äº† lodash.cloneDeep()å®ç°æ·±æ‹·è´\n","slug":"JavaScript-æµ…æ‹·è´-æ·±æ‹·è´-èµ‹å€¼-å¼•ç”¨-JS","published":1,"updated":"2020-04-11T11:50:39.767Z","_id":"ck8vk5o170017o5vm7we3dmtf","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>è¿™ä¸ªé—®é¢˜è¯´ä¸¥é‡ä¹Ÿä¸ä¸¥é‡ï¼Œè¯´ä¸å°ä¹Ÿä¸å°ã€‚<br>å¦‚æœä½ ä¹Ÿåˆšåˆšå¥½ç¢°åˆ°äº†è¿™ä¸ªé—®é¢˜ã€‚å°±è·Ÿç€æˆ‘ä¸€èµ·äº†è§£ä¸€ä¸‹å§ï¼</p>\n<h2 id=\"åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹\"><a href=\"#åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹\" class=\"headerlink\" title=\"åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹\"></a>åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹</h2><ul>\n<li><strong>åŸºæœ¬ç±»å‹</strong></li>\n</ul>\n<p>åŸºæœ¬ç±»å‹ä¹Ÿç§°å€¼ç±»å‹ï¼Œæ•°å€¼ç±»å‹ã€‚<br>åŒ…æ‹¬äº†</p>\n<ol>\n<li>String<ol start=\"2\">\n<li>Number</li>\n<li>Boolean</li>\n<li>Null</li>\n<li>Undefined</li>\n<li>Symbolï¼ˆES6æ–°å¢ï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„ä¸€ä¸ªå€¼ã€‚<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol\" target=\"_blank\" rel=\"noopener\">MDN</a>ï¼‰</li>\n</ol>\n</li>\n</ol>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JavaScript%20%E6%B5%85%E6%8B%B7%E8%B4%9D%20%E6%B7%B1%E6%8B%B7%E8%B4%9D%20%E8%B5%8B%E5%80%BC%20%E5%BC%95%E7%94%A8%20JS/20190428204522836.png?raw=true\"  alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>åŸºæœ¬ç±»å‹çš„æ˜¯æ”¾åœ¨æ ˆåŒºçš„ï¼Œè®¿é—®çš„æ—¶å€™ä¹Ÿæ˜¯æŒ‰å€¼è®¿é—®ï¼Œå°±æ˜¯æ­£å¸¸çš„ç†è§£çš„èµ‹å€¼ã€‚</p>\n<ul>\n<li><strong>å¼•ç”¨ç±»å‹å’Œæµ…æ‹·è´</strong></li>\n</ul>\n<p>å¼•ç”¨ç±»å‹ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯å¼•ç”¨æ¥è®¿é—®çš„ã€‚</p>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JavaScript%20%E6%B5%85%E6%8B%B7%E8%B4%9D%20%E6%B7%B1%E6%8B%B7%E8%B4%9D%20%E8%B5%8B%E5%80%BC%20%E5%BC%95%E7%94%A8%20JS/20190428204904611.png?raw=true\"  alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ“ä½œçš„æ˜¯<strong>q</strong>ã€‚ä¸ºä»€ä¹ˆ<strong>w</strong>ä¹Ÿæ”¹å˜äº†å‘¢ï¼Ÿ</p>\n<p>å› ä¸º<strong>w</strong>ä¸æ˜¯çœŸçš„ç»™ä»–èµ‹å€¼äº†[1, 2]ã€‚</p>\n<p>è€Œæ˜¯èµ‹å€¼ç»™äº†<strong>q</strong>æ‰€æŒ‡å‘çš„åœ°å€çš„æŒ‡é’ˆã€‚</p>\n<p>æœ‰ç‚¹ç»•ï¼Œå…¶å®è¯´ç™½äº†å°±æ˜¯ q æ˜¯æŒ‡å‘åœ°å€ A çš„ã€‚</p>\n<p>w = q ï¼Œåªæ˜¯æŠŠ q æŒ‡å‘ åœ°å€ A çš„è¿™ä¸ªæŒ‡é’ˆèµ‹å€¼ç»™äº† w ã€‚</p>\n<p>w å’Œ q éƒ½å¯ä»¥æ“ä½œè¿™ä¸ªåœ°å€çš„å†…å®¹ã€‚</p>\n<p>æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬ç”¨ q æ¥æ“ä½œè¿™ä¸ªåœ°å€å†…å®¹çš„æ—¶å€™ï¼Œåœ°å€å†…å®¹å°±å˜äº†ã€‚å½“ w å»å–å€¼çš„æ—¶å€™ï¼Œå†…å®¹å·²ç»å˜äº†ã€‚</p>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JavaScript%20%E6%B5%85%E6%8B%B7%E8%B4%9D%20%E6%B7%B1%E6%8B%B7%E8%B4%9D%20%E8%B5%8B%E5%80%BC%20%E5%BC%95%E7%94%A8%20JS/20190428205243797.png?raw=true\"  alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>w å’Œ q éƒ½å¯ä»¥æ“ä½œè¿™ä¸ªåœ°å€å†…å®¹ã€‚</p>\n<p>é‚£ä¹ˆå¼•ç”¨ç±»å‹æœ‰é‚£äº›å‘¢ï¼Ÿ</p>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JavaScript%20%E6%B5%85%E6%8B%B7%E8%B4%9D%20%E6%B7%B1%E6%8B%B7%E8%B4%9D%20%E8%B5%8B%E5%80%BC%20%E5%BC%95%E7%94%A8%20JS/20190428205350562.png?raw=true\"  alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>è¿™æ ·ç®€å•çš„å¼•ç”¨èµ‹å€¼ä¹Ÿå«åšæµ…æ‹·è´ã€‚</p>\n<p>å¯èƒ½ä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚:</p>\n<p>Aå’ŒBéƒ½æ˜¯æ•°ç»„ï¼›</p>\n<p>æˆ‘åªæ˜¯æ‡’å¾—ç»™Bèµ‹å€¼å’ŒAä¸€æ¨¡ä¸€æ ·çš„ï¼›</p>\n<p>æ‰€ä»¥æˆ‘ç›´æ¥B = Aï¼›</p>\n<p>æˆ‘åœ¨æ“ä½œå®ŒBä¹‹åæˆ‘åˆæƒ³å»å–å€¼Açš„å€¼çš„æ—¶å€™ï¼Œå‘ç°Aå·²ç»å˜äº†ã€‚</p>\n<p>åœ¨reactä¸­ä¹Ÿæœ‰å¯¹stateæµ…æ‹·è´åˆ¤æ–­çš„ï¼ˆPureComponentï¼‰</p>\n<ul>\n<li><p><strong>æ·±æ‹·è´</strong></p>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JavaScript%20%E6%B5%85%E6%8B%B7%E8%B4%9D%20%E6%B7%B1%E6%8B%B7%E8%B4%9D%20%E8%B5%8B%E5%80%BC%20%E5%BC%95%E7%94%A8%20JS/20190428205853748.png?raw=true\"  alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n</li>\n</ul>\n<p>è¿™ä¸ªå°±å«åšæ·±æ‹·è´ã€‚</p>\n<p>å°†ä»–çš„å†…å®¹åˆ†è§£å‡ºæ¥è¿›è¡Œè§£æã€‚</p>\n<p>ä½†æ˜¯è¿™æ ·ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜ã€‚</p>\n<p>éº»çƒ¦ï¼</p>\n<p>æ¯”å¦‚</p>\n<p>let A = [ {a: [1, 2]}, {b: [1, 2]} ]ã€‚</p>\n<p>è¿™ä¸ªæ—¶å€™è¦æ·±æ‹·è´ç»™Bçš„è¯ã€‚</p>\n<p>è¦ä¸€ç›´ç»“æ„åˆ°å¾ˆæ·±å¤„ã€‚</p>\n<p>æœ‰å‡ ä¸ªä¸ªåŠæ³•å¯ä»¥è§£å†³ã€‚</p>\n<p>1.å«åš<strong>åºåˆ—åŒ–</strong></p>\n<ul>\n<li><p>JSON.stringify()</p>\n</li>\n<li><p>JSON.parse()</p>\n<p>ä½†æ˜¯è¿™æ ·éå¸¸æµªè´¹èµ„æº</p>\n</li>\n</ul>\n<p>2.Object.assign()æ‹·è´</p>\n<ul>\n<li>å½“å¯¹è±¡ä¸­åªæœ‰ä¸€çº§å±æ€§ï¼Œæ²¡æœ‰äºŒçº§å±æ€§çš„æ—¶å€™ï¼Œæ­¤æ–¹æ³•ä¸ºæ·±æ‹·è´ï¼Œä½†æ˜¯å¯¹è±¡ä¸­æœ‰å¯¹è±¡çš„æ—¶å€™ï¼Œæ­¤æ–¹æ³•ï¼Œåœ¨äºŒçº§å±æ€§ä»¥åå°±æ˜¯æµ…æ‹·è´ã€‚</li>\n</ul>\n<p> 3.ä½¿ç”¨é€’å½’çš„æ–¹å¼å®ç°æ·±æ‹·è´</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> &#x2F;&#x2F;ä½¿ç”¨é€’å½’çš„æ–¹å¼å®ç°æ•°ç»„ã€å¯¹è±¡çš„æ·±æ‹·è´</span><br><span class=\"line\">function deepClone1(obj) &#123;</span><br><span class=\"line\">  &#x2F;&#x2F;åˆ¤æ–­æ‹·è´çš„è¦è¿›è¡Œæ·±æ‹·è´çš„æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡ï¼Œæ˜¯æ•°ç»„çš„è¯è¿›è¡Œæ•°ç»„æ‹·è´ï¼Œå¯¹è±¡çš„è¯è¿›è¡Œå¯¹è±¡æ‹·è´</span><br><span class=\"line\">  var objClone &#x3D; Array.isArray(obj) ? [] : &#123;&#125;;</span><br><span class=\"line\">  &#x2F;&#x2F;è¿›è¡Œæ·±æ‹·è´çš„ä¸èƒ½ä¸ºç©ºï¼Œå¹¶ä¸”æ˜¯å¯¹è±¡æˆ–è€…æ˜¯</span><br><span class=\"line\">  if (obj &amp;&amp; typeof obj &#x3D;&#x3D;&#x3D; &quot;object&quot;) &#123;</span><br><span class=\"line\">    for (key in obj) &#123;</span><br><span class=\"line\">      if (obj.hasOwnProperty(key)) &#123;</span><br><span class=\"line\">        if (obj[key] &amp;&amp; typeof obj[key] &#x3D;&#x3D;&#x3D; &quot;object&quot;) &#123;</span><br><span class=\"line\">          objClone[key] &#x3D; deepClone1(obj[key]);</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          objClone[key] &#x3D; obj[key];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  return objClone;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>5.lodashå‡½æ•°åº“å®ç°æ·±æ‹·è´</p>\n<p>lodashå¾ˆçƒ­é—¨çš„å‡½æ•°åº“ï¼Œæä¾›äº† lodash.cloneDeep()å®ç°æ·±æ‹·è´</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>è¿™ä¸ªé—®é¢˜è¯´ä¸¥é‡ä¹Ÿä¸ä¸¥é‡ï¼Œè¯´ä¸å°ä¹Ÿä¸å°ã€‚<br>å¦‚æœä½ ä¹Ÿåˆšåˆšå¥½ç¢°åˆ°äº†è¿™ä¸ªé—®é¢˜ã€‚å°±è·Ÿç€æˆ‘ä¸€èµ·äº†è§£ä¸€ä¸‹å§ï¼</p>\n<h2 id=\"åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹\"><a href=\"#åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹\" class=\"headerlink\" title=\"åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹\"></a>åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹</h2><ul>\n<li><strong>åŸºæœ¬ç±»å‹</strong></li>\n</ul>\n<p>åŸºæœ¬ç±»å‹ä¹Ÿç§°å€¼ç±»å‹ï¼Œæ•°å€¼ç±»å‹ã€‚<br>åŒ…æ‹¬äº†</p>\n<ol>\n<li>String<ol start=\"2\">\n<li>Number</li>\n<li>Boolean</li>\n<li>Null</li>\n<li>Undefined</li>\n<li>Symbolï¼ˆES6æ–°å¢ï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„ä¸€ä¸ªå€¼ã€‚<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol\" target=\"_blank\" rel=\"noopener\">MDN</a>ï¼‰</li>\n</ol>\n</li>\n</ol>\n<p><img src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JavaScript%20%E6%B5%85%E6%8B%B7%E8%B4%9D%20%E6%B7%B1%E6%8B%B7%E8%B4%9D%20%E8%B5%8B%E5%80%BC%20%E5%BC%95%E7%94%A8%20JS/20190428204522836.png?raw=true\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>åŸºæœ¬ç±»å‹çš„æ˜¯æ”¾åœ¨æ ˆåŒºçš„ï¼Œè®¿é—®çš„æ—¶å€™ä¹Ÿæ˜¯æŒ‰å€¼è®¿é—®ï¼Œå°±æ˜¯æ­£å¸¸çš„ç†è§£çš„èµ‹å€¼ã€‚</p>\n<ul>\n<li><strong>å¼•ç”¨ç±»å‹å’Œæµ…æ‹·è´</strong></li>\n</ul>\n<p>å¼•ç”¨ç±»å‹ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯å¼•ç”¨æ¥è®¿é—®çš„ã€‚</p>\n<p><img src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JavaScript%20%E6%B5%85%E6%8B%B7%E8%B4%9D%20%E6%B7%B1%E6%8B%B7%E8%B4%9D%20%E8%B5%8B%E5%80%BC%20%E5%BC%95%E7%94%A8%20JS/20190428204904611.png?raw=true\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ“ä½œçš„æ˜¯<strong>q</strong>ã€‚ä¸ºä»€ä¹ˆ<strong>w</strong>ä¹Ÿæ”¹å˜äº†å‘¢ï¼Ÿ</p>\n<p>å› ä¸º<strong>w</strong>ä¸æ˜¯çœŸçš„ç»™ä»–èµ‹å€¼äº†[1, 2]ã€‚</p>\n<p>è€Œæ˜¯èµ‹å€¼ç»™äº†<strong>q</strong>æ‰€æŒ‡å‘çš„åœ°å€çš„æŒ‡é’ˆã€‚</p>\n<p>æœ‰ç‚¹ç»•ï¼Œå…¶å®è¯´ç™½äº†å°±æ˜¯ q æ˜¯æŒ‡å‘åœ°å€ A çš„ã€‚</p>\n<p>w = q ï¼Œåªæ˜¯æŠŠ q æŒ‡å‘ åœ°å€ A çš„è¿™ä¸ªæŒ‡é’ˆèµ‹å€¼ç»™äº† w ã€‚</p>\n<p>w å’Œ q éƒ½å¯ä»¥æ“ä½œè¿™ä¸ªåœ°å€çš„å†…å®¹ã€‚</p>\n<p>æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬ç”¨ q æ¥æ“ä½œè¿™ä¸ªåœ°å€å†…å®¹çš„æ—¶å€™ï¼Œåœ°å€å†…å®¹å°±å˜äº†ã€‚å½“ w å»å–å€¼çš„æ—¶å€™ï¼Œå†…å®¹å·²ç»å˜äº†ã€‚</p>\n<p><img src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JavaScript%20%E6%B5%85%E6%8B%B7%E8%B4%9D%20%E6%B7%B1%E6%8B%B7%E8%B4%9D%20%E8%B5%8B%E5%80%BC%20%E5%BC%95%E7%94%A8%20JS/20190428205243797.png?raw=true\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>w å’Œ q éƒ½å¯ä»¥æ“ä½œè¿™ä¸ªåœ°å€å†…å®¹ã€‚</p>\n<p>é‚£ä¹ˆå¼•ç”¨ç±»å‹æœ‰é‚£äº›å‘¢ï¼Ÿ</p>\n<p><img src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JavaScript%20%E6%B5%85%E6%8B%B7%E8%B4%9D%20%E6%B7%B1%E6%8B%B7%E8%B4%9D%20%E8%B5%8B%E5%80%BC%20%E5%BC%95%E7%94%A8%20JS/20190428205350562.png?raw=true\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>è¿™æ ·ç®€å•çš„å¼•ç”¨èµ‹å€¼ä¹Ÿå«åšæµ…æ‹·è´ã€‚</p>\n<p>å¯èƒ½ä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚:</p>\n<p>Aå’ŒBéƒ½æ˜¯æ•°ç»„ï¼›</p>\n<p>æˆ‘åªæ˜¯æ‡’å¾—ç»™Bèµ‹å€¼å’ŒAä¸€æ¨¡ä¸€æ ·çš„ï¼›</p>\n<p>æ‰€ä»¥æˆ‘ç›´æ¥B = Aï¼›</p>\n<p>æˆ‘åœ¨æ“ä½œå®ŒBä¹‹åæˆ‘åˆæƒ³å»å–å€¼Açš„å€¼çš„æ—¶å€™ï¼Œå‘ç°Aå·²ç»å˜äº†ã€‚</p>\n<p>åœ¨reactä¸­ä¹Ÿæœ‰å¯¹stateæµ…æ‹·è´åˆ¤æ–­çš„ï¼ˆPureComponentï¼‰</p>\n<ul>\n<li><p><strong>æ·±æ‹·è´</strong></p>\n<p><img src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JavaScript%20%E6%B5%85%E6%8B%B7%E8%B4%9D%20%E6%B7%B1%E6%8B%B7%E8%B4%9D%20%E8%B5%8B%E5%80%BC%20%E5%BC%95%E7%94%A8%20JS/20190428205853748.png?raw=true\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n</li>\n</ul>\n<p>è¿™ä¸ªå°±å«åšæ·±æ‹·è´ã€‚</p>\n<p>å°†ä»–çš„å†…å®¹åˆ†è§£å‡ºæ¥è¿›è¡Œè§£æã€‚</p>\n<p>ä½†æ˜¯è¿™æ ·ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜ã€‚</p>\n<p>éº»çƒ¦ï¼</p>\n<p>æ¯”å¦‚</p>\n<p>let A = [ {a: [1, 2]}, {b: [1, 2]} ]ã€‚</p>\n<p>è¿™ä¸ªæ—¶å€™è¦æ·±æ‹·è´ç»™Bçš„è¯ã€‚</p>\n<p>è¦ä¸€ç›´ç»“æ„åˆ°å¾ˆæ·±å¤„ã€‚</p>\n<p>æœ‰å‡ ä¸ªä¸ªåŠæ³•å¯ä»¥è§£å†³ã€‚</p>\n<p>1.å«åš<strong>åºåˆ—åŒ–</strong></p>\n<ul>\n<li><p>JSON.stringify()</p>\n</li>\n<li><p>JSON.parse()</p>\n<p>ä½†æ˜¯è¿™æ ·éå¸¸æµªè´¹èµ„æº</p>\n</li>\n</ul>\n<p>2.Object.assign()æ‹·è´</p>\n<ul>\n<li>å½“å¯¹è±¡ä¸­åªæœ‰ä¸€çº§å±æ€§ï¼Œæ²¡æœ‰äºŒçº§å±æ€§çš„æ—¶å€™ï¼Œæ­¤æ–¹æ³•ä¸ºæ·±æ‹·è´ï¼Œä½†æ˜¯å¯¹è±¡ä¸­æœ‰å¯¹è±¡çš„æ—¶å€™ï¼Œæ­¤æ–¹æ³•ï¼Œåœ¨äºŒçº§å±æ€§ä»¥åå°±æ˜¯æµ…æ‹·è´ã€‚</li>\n</ul>\n<p> 3.ä½¿ç”¨é€’å½’çš„æ–¹å¼å®ç°æ·±æ‹·è´</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> &#x2F;&#x2F;ä½¿ç”¨é€’å½’çš„æ–¹å¼å®ç°æ•°ç»„ã€å¯¹è±¡çš„æ·±æ‹·è´</span><br><span class=\"line\">function deepClone1(obj) &#123;</span><br><span class=\"line\">  &#x2F;&#x2F;åˆ¤æ–­æ‹·è´çš„è¦è¿›è¡Œæ·±æ‹·è´çš„æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡ï¼Œæ˜¯æ•°ç»„çš„è¯è¿›è¡Œæ•°ç»„æ‹·è´ï¼Œå¯¹è±¡çš„è¯è¿›è¡Œå¯¹è±¡æ‹·è´</span><br><span class=\"line\">  var objClone &#x3D; Array.isArray(obj) ? [] : &#123;&#125;;</span><br><span class=\"line\">  &#x2F;&#x2F;è¿›è¡Œæ·±æ‹·è´çš„ä¸èƒ½ä¸ºç©ºï¼Œå¹¶ä¸”æ˜¯å¯¹è±¡æˆ–è€…æ˜¯</span><br><span class=\"line\">  if (obj &amp;&amp; typeof obj &#x3D;&#x3D;&#x3D; &quot;object&quot;) &#123;</span><br><span class=\"line\">    for (key in obj) &#123;</span><br><span class=\"line\">      if (obj.hasOwnProperty(key)) &#123;</span><br><span class=\"line\">        if (obj[key] &amp;&amp; typeof obj[key] &#x3D;&#x3D;&#x3D; &quot;object&quot;) &#123;</span><br><span class=\"line\">          objClone[key] &#x3D; deepClone1(obj[key]);</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          objClone[key] &#x3D; obj[key];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  return objClone;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>5.lodashå‡½æ•°åº“å®ç°æ·±æ‹·è´</p>\n<p>lodashå¾ˆçƒ­é—¨çš„å‡½æ•°åº“ï¼Œæä¾›äº† lodash.cloneDeep()å®ç°æ·±æ‹·è´</p>\n"},{"title":"JWT spring boot JAVA ä½¿ç”¨æ­¥éª¤ spring boot2.0","date":"2019-06-19T02:58:33.000Z","cover":"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/JWT.png?raw=true","_content":"\n## å‰è¨€\nJWTæ˜¯json web tokenç¼©å†™ã€‚å®ƒå°†ç”¨æˆ·ä¿¡æ¯åŠ å¯†åˆ°tokené‡Œï¼ŒæœåŠ¡å™¨ä¸ä¿å­˜ä»»ä½•ç”¨æˆ·ä¿¡æ¯ã€‚æœåŠ¡å™¨é€šè¿‡ä½¿ç”¨ä¿å­˜çš„å¯†é’¥éªŒè¯tokençš„æ­£ç¡®æ€§ï¼Œåªè¦æ­£ç¡®å³é€šè¿‡éªŒè¯ã€‚\n\nï¼ˆ1ï¼‰JWT é»˜è®¤æ˜¯ä¸åŠ å¯†ï¼Œä½†ä¹Ÿæ˜¯å¯ä»¥åŠ å¯†çš„ã€‚ç”ŸæˆåŸå§‹ Token ä»¥åï¼Œå¯ä»¥ç”¨å¯†é’¥å†åŠ å¯†ä¸€æ¬¡ã€‚\n\nï¼ˆ2ï¼‰JWT ä¸åŠ å¯†çš„æƒ…å†µä¸‹ï¼Œä¸èƒ½å°†ç§˜å¯†æ•°æ®å†™å…¥ JWTã€‚\n\nï¼ˆ3ï¼‰JWT ä¸ä»…å¯ä»¥ç”¨äºè®¤è¯ï¼Œä¹Ÿå¯ä»¥ç”¨äºäº¤æ¢ä¿¡æ¯ã€‚æœ‰æ•ˆä½¿ç”¨ JWTï¼Œå¯ä»¥é™ä½æœåŠ¡å™¨æŸ¥è¯¢æ•°æ®åº“çš„æ¬¡æ•°ã€‚\n\nï¼ˆ4ï¼‰JWT çš„æœ€å¤§ç¼ºç‚¹æ˜¯ï¼Œç”±äºæœåŠ¡å™¨ä¸ä¿å­˜ session çŠ¶æ€ï¼Œå› æ­¤æ— æ³•åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­åºŸæ­¢æŸä¸ª tokenï¼Œæˆ–è€…æ›´æ”¹ token çš„æƒé™ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦ JWT ç­¾å‘äº†ï¼Œåœ¨åˆ°æœŸä¹‹å‰å°±ä¼šå§‹ç»ˆæœ‰æ•ˆï¼Œé™¤éæœåŠ¡å™¨éƒ¨ç½²é¢å¤–çš„é€»è¾‘ã€‚\n\nï¼ˆ5ï¼‰JWT æœ¬èº«åŒ…å«äº†è®¤è¯ä¿¡æ¯ï¼Œä¸€æ—¦æ³„éœ²ï¼Œä»»ä½•äººéƒ½å¯ä»¥è·å¾—è¯¥ä»¤ç‰Œçš„æ‰€æœ‰æƒé™ã€‚ä¸ºäº†å‡å°‘ç›—ç”¨ï¼ŒJWT çš„æœ‰æ•ˆæœŸåº”è¯¥è®¾ç½®å¾—æ¯”è¾ƒçŸ­ã€‚å¯¹äºä¸€äº›æ¯”è¾ƒé‡è¦çš„æƒé™ï¼Œä½¿ç”¨æ—¶åº”è¯¥å†æ¬¡å¯¹ç”¨æˆ·è¿›è¡Œè®¤è¯ã€‚\n\nï¼ˆ6ï¼‰ä¸ºäº†å‡å°‘ç›—ç”¨ï¼ŒJWT ä¸åº”è¯¥ä½¿ç”¨ HTTP åè®®æ˜ç ä¼ è¾“ï¼Œè¦ä½¿ç”¨ HTTPS åè®®ä¼ è¾“ã€‚\n## ä½¿ç”¨\n\n - æ·»åŠ ä¾èµ–\nhttps://jwt.io/\né€‰æ‹©å¯¹åº”çš„ç‰ˆæœ¬\n - ä½¿ç”¨\n\n```\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport com.auth0.jwt.JWT;\nimport com.auth0.jwt.JWTVerifier;\nimport com.auth0.jwt.algorithms.Algorithm;\nimport com.auth0.jwt.interfaces.Claim;\nimport com.auth0.jwt.interfaces.DecodedJWT;\nimport org.springframework.util.StringUtils;\n\npublic class TokenConfig {\n    /** tokenç§˜é’¥ï¼Œè¯·å‹¿æ³„éœ²ï¼Œè¯·å‹¿éšä¾¿ä¿®æ”¹ backups:JKKLJOoasdlfj */\n    public static final String SECRET = \"JKKLJOoasdlfj\";\n    /** token è¿‡æœŸæ—¶é—´: 10å¤© */\n    public static final int calendarField = Calendar.DATE;\n    public static final int calendarInterval = 10;\n\n    /**\n     * JWTç”ŸæˆToken.<br/>\n     *\n     * JWTæ„æˆ: header, payload, signature\n     *\n     * @param user_id\n     *            ç™»å½•æˆåŠŸåç”¨æˆ·user_id, å‚æ•°user_idä¸å¯ä¼ ç©º\n     */\n    public static String createToken(Long user_id) throws Exception {\n        Date iatDate = new Date();\n        // expire time\n        Calendar nowTime = Calendar.getInstance();\n        nowTime.add(calendarField, calendarInterval);\n        Date expiresDate = nowTime.getTime();\n\n        // header Map\n        Map<String, Object> map = new HashMap<>();\n        map.put(\"alg\", \"HS256\");\n        map.put(\"typ\", \"JWT\");\n\n        // build token\n        // param backups {iss:Service, aud:APP}\n        String token = JWT.create().withHeader(map) // header\n                .withClaim(\"iss\", \"Service\") // payload\n                .withClaim(\"aud\", \"APP\").withClaim(\"user_id\", null == user_id ? null : user_id.toString())\n                .withIssuedAt(iatDate) // sign time\n                .withExpiresAt(expiresDate) // expire time\n                .sign(Algorithm.HMAC256(SECRET)); // signature\n\n        return token;\n    }\n\n    /**\n     * è§£å¯†Token\n     *\n     * @param token\n     * @return\n     * @throws Exception\n     */\n    public static Map<String, Claim> verifyToken(String token) {\n        DecodedJWT jwt = null;\n        try {\n            JWTVerifier verifier = JWT.require(Algorithm.HMAC256(SECRET)).build();\n            jwt = verifier.verify(token);\n        } catch (Exception e) {\n            // e.printStackTrace();\n            // token æ ¡éªŒå¤±è´¥, æŠ›å‡ºTokenéªŒè¯éæ³•å¼‚å¸¸\n        }\n        return jwt.getClaims();\n    }\n\n    /**\n     * æ ¹æ®Tokenè·å–user_id\n     *\n     * @param token\n     * @return user_id\n     */\n    public static Long getAppUID(String token) {\n        Map<String, Claim> claims = verifyToken(token);\n        Claim user_id_claim = claims.get(\"user_id\");\n        if (null == user_id_claim || StringUtils.isEmpty(user_id_claim.asString())) {\n            // token æ ¡éªŒå¤±è´¥, æŠ›å‡ºTokenéªŒè¯éæ³•å¼‚å¸¸\n        }\n        return Long.valueOf(user_id_claim.asString());\n    }\n}\n```\n\n## æ¦‚å¿µè§£æ\nJWT çš„ä¸‰ä¸ªéƒ¨åˆ†ä¾æ¬¡å¦‚ä¸‹ã€‚\n\n - Headerï¼ˆå¤´éƒ¨ï¼‰\n - Payloadï¼ˆè´Ÿè½½ï¼‰\n - Signatureï¼ˆç­¾åï¼‰\n\n\nå†™æˆä¸€è¡Œï¼Œå°±æ˜¯ä¸‹é¢çš„æ ·å­ã€‚\n\n\n![https://www.wangbase.com/blogimg/asset/201807/bg2018072303.jpg](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JWT%20spring%20boot%20JAVA%20%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4%20spring%20boot2.0/20190325103836546.png?raw=true)\n","source":"_posts/JWT-spring-boot-JAVA-ä½¿ç”¨æ­¥éª¤-spring-boot2-0.md","raw":"---\ntitle: JWT spring boot JAVA ä½¿ç”¨æ­¥éª¤ spring boot2.0\ndate: 2019-06-19 10:58:33\ntags: [Spring-Boot-2.0, Java, JWT]\ncategory: [Java, Spring-Boot]\ncover: https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/JWT.png?raw=true\n---\n\n## å‰è¨€\nJWTæ˜¯json web tokenç¼©å†™ã€‚å®ƒå°†ç”¨æˆ·ä¿¡æ¯åŠ å¯†åˆ°tokené‡Œï¼ŒæœåŠ¡å™¨ä¸ä¿å­˜ä»»ä½•ç”¨æˆ·ä¿¡æ¯ã€‚æœåŠ¡å™¨é€šè¿‡ä½¿ç”¨ä¿å­˜çš„å¯†é’¥éªŒè¯tokençš„æ­£ç¡®æ€§ï¼Œåªè¦æ­£ç¡®å³é€šè¿‡éªŒè¯ã€‚\n\nï¼ˆ1ï¼‰JWT é»˜è®¤æ˜¯ä¸åŠ å¯†ï¼Œä½†ä¹Ÿæ˜¯å¯ä»¥åŠ å¯†çš„ã€‚ç”ŸæˆåŸå§‹ Token ä»¥åï¼Œå¯ä»¥ç”¨å¯†é’¥å†åŠ å¯†ä¸€æ¬¡ã€‚\n\nï¼ˆ2ï¼‰JWT ä¸åŠ å¯†çš„æƒ…å†µä¸‹ï¼Œä¸èƒ½å°†ç§˜å¯†æ•°æ®å†™å…¥ JWTã€‚\n\nï¼ˆ3ï¼‰JWT ä¸ä»…å¯ä»¥ç”¨äºè®¤è¯ï¼Œä¹Ÿå¯ä»¥ç”¨äºäº¤æ¢ä¿¡æ¯ã€‚æœ‰æ•ˆä½¿ç”¨ JWTï¼Œå¯ä»¥é™ä½æœåŠ¡å™¨æŸ¥è¯¢æ•°æ®åº“çš„æ¬¡æ•°ã€‚\n\nï¼ˆ4ï¼‰JWT çš„æœ€å¤§ç¼ºç‚¹æ˜¯ï¼Œç”±äºæœåŠ¡å™¨ä¸ä¿å­˜ session çŠ¶æ€ï¼Œå› æ­¤æ— æ³•åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­åºŸæ­¢æŸä¸ª tokenï¼Œæˆ–è€…æ›´æ”¹ token çš„æƒé™ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦ JWT ç­¾å‘äº†ï¼Œåœ¨åˆ°æœŸä¹‹å‰å°±ä¼šå§‹ç»ˆæœ‰æ•ˆï¼Œé™¤éæœåŠ¡å™¨éƒ¨ç½²é¢å¤–çš„é€»è¾‘ã€‚\n\nï¼ˆ5ï¼‰JWT æœ¬èº«åŒ…å«äº†è®¤è¯ä¿¡æ¯ï¼Œä¸€æ—¦æ³„éœ²ï¼Œä»»ä½•äººéƒ½å¯ä»¥è·å¾—è¯¥ä»¤ç‰Œçš„æ‰€æœ‰æƒé™ã€‚ä¸ºäº†å‡å°‘ç›—ç”¨ï¼ŒJWT çš„æœ‰æ•ˆæœŸåº”è¯¥è®¾ç½®å¾—æ¯”è¾ƒçŸ­ã€‚å¯¹äºä¸€äº›æ¯”è¾ƒé‡è¦çš„æƒé™ï¼Œä½¿ç”¨æ—¶åº”è¯¥å†æ¬¡å¯¹ç”¨æˆ·è¿›è¡Œè®¤è¯ã€‚\n\nï¼ˆ6ï¼‰ä¸ºäº†å‡å°‘ç›—ç”¨ï¼ŒJWT ä¸åº”è¯¥ä½¿ç”¨ HTTP åè®®æ˜ç ä¼ è¾“ï¼Œè¦ä½¿ç”¨ HTTPS åè®®ä¼ è¾“ã€‚\n## ä½¿ç”¨\n\n - æ·»åŠ ä¾èµ–\nhttps://jwt.io/\né€‰æ‹©å¯¹åº”çš„ç‰ˆæœ¬\n - ä½¿ç”¨\n\n```\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport com.auth0.jwt.JWT;\nimport com.auth0.jwt.JWTVerifier;\nimport com.auth0.jwt.algorithms.Algorithm;\nimport com.auth0.jwt.interfaces.Claim;\nimport com.auth0.jwt.interfaces.DecodedJWT;\nimport org.springframework.util.StringUtils;\n\npublic class TokenConfig {\n    /** tokenç§˜é’¥ï¼Œè¯·å‹¿æ³„éœ²ï¼Œè¯·å‹¿éšä¾¿ä¿®æ”¹ backups:JKKLJOoasdlfj */\n    public static final String SECRET = \"JKKLJOoasdlfj\";\n    /** token è¿‡æœŸæ—¶é—´: 10å¤© */\n    public static final int calendarField = Calendar.DATE;\n    public static final int calendarInterval = 10;\n\n    /**\n     * JWTç”ŸæˆToken.<br/>\n     *\n     * JWTæ„æˆ: header, payload, signature\n     *\n     * @param user_id\n     *            ç™»å½•æˆåŠŸåç”¨æˆ·user_id, å‚æ•°user_idä¸å¯ä¼ ç©º\n     */\n    public static String createToken(Long user_id) throws Exception {\n        Date iatDate = new Date();\n        // expire time\n        Calendar nowTime = Calendar.getInstance();\n        nowTime.add(calendarField, calendarInterval);\n        Date expiresDate = nowTime.getTime();\n\n        // header Map\n        Map<String, Object> map = new HashMap<>();\n        map.put(\"alg\", \"HS256\");\n        map.put(\"typ\", \"JWT\");\n\n        // build token\n        // param backups {iss:Service, aud:APP}\n        String token = JWT.create().withHeader(map) // header\n                .withClaim(\"iss\", \"Service\") // payload\n                .withClaim(\"aud\", \"APP\").withClaim(\"user_id\", null == user_id ? null : user_id.toString())\n                .withIssuedAt(iatDate) // sign time\n                .withExpiresAt(expiresDate) // expire time\n                .sign(Algorithm.HMAC256(SECRET)); // signature\n\n        return token;\n    }\n\n    /**\n     * è§£å¯†Token\n     *\n     * @param token\n     * @return\n     * @throws Exception\n     */\n    public static Map<String, Claim> verifyToken(String token) {\n        DecodedJWT jwt = null;\n        try {\n            JWTVerifier verifier = JWT.require(Algorithm.HMAC256(SECRET)).build();\n            jwt = verifier.verify(token);\n        } catch (Exception e) {\n            // e.printStackTrace();\n            // token æ ¡éªŒå¤±è´¥, æŠ›å‡ºTokenéªŒè¯éæ³•å¼‚å¸¸\n        }\n        return jwt.getClaims();\n    }\n\n    /**\n     * æ ¹æ®Tokenè·å–user_id\n     *\n     * @param token\n     * @return user_id\n     */\n    public static Long getAppUID(String token) {\n        Map<String, Claim> claims = verifyToken(token);\n        Claim user_id_claim = claims.get(\"user_id\");\n        if (null == user_id_claim || StringUtils.isEmpty(user_id_claim.asString())) {\n            // token æ ¡éªŒå¤±è´¥, æŠ›å‡ºTokenéªŒè¯éæ³•å¼‚å¸¸\n        }\n        return Long.valueOf(user_id_claim.asString());\n    }\n}\n```\n\n## æ¦‚å¿µè§£æ\nJWT çš„ä¸‰ä¸ªéƒ¨åˆ†ä¾æ¬¡å¦‚ä¸‹ã€‚\n\n - Headerï¼ˆå¤´éƒ¨ï¼‰\n - Payloadï¼ˆè´Ÿè½½ï¼‰\n - Signatureï¼ˆç­¾åï¼‰\n\n\nå†™æˆä¸€è¡Œï¼Œå°±æ˜¯ä¸‹é¢çš„æ ·å­ã€‚\n\n\n![https://www.wangbase.com/blogimg/asset/201807/bg2018072303.jpg](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JWT%20spring%20boot%20JAVA%20%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4%20spring%20boot2.0/20190325103836546.png?raw=true)\n","slug":"JWT-spring-boot-JAVA-ä½¿ç”¨æ­¥éª¤-spring-boot2-0","published":1,"updated":"2020-04-11T11:50:39.840Z","_id":"ck8vk5o1o001io5vmencyhf4v","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>JWTæ˜¯json web tokenç¼©å†™ã€‚å®ƒå°†ç”¨æˆ·ä¿¡æ¯åŠ å¯†åˆ°tokené‡Œï¼ŒæœåŠ¡å™¨ä¸ä¿å­˜ä»»ä½•ç”¨æˆ·ä¿¡æ¯ã€‚æœåŠ¡å™¨é€šè¿‡ä½¿ç”¨ä¿å­˜çš„å¯†é’¥éªŒè¯tokençš„æ­£ç¡®æ€§ï¼Œåªè¦æ­£ç¡®å³é€šè¿‡éªŒè¯ã€‚</p>\n<p>ï¼ˆ1ï¼‰JWT é»˜è®¤æ˜¯ä¸åŠ å¯†ï¼Œä½†ä¹Ÿæ˜¯å¯ä»¥åŠ å¯†çš„ã€‚ç”ŸæˆåŸå§‹ Token ä»¥åï¼Œå¯ä»¥ç”¨å¯†é’¥å†åŠ å¯†ä¸€æ¬¡ã€‚</p>\n<p>ï¼ˆ2ï¼‰JWT ä¸åŠ å¯†çš„æƒ…å†µä¸‹ï¼Œä¸èƒ½å°†ç§˜å¯†æ•°æ®å†™å…¥ JWTã€‚</p>\n<p>ï¼ˆ3ï¼‰JWT ä¸ä»…å¯ä»¥ç”¨äºè®¤è¯ï¼Œä¹Ÿå¯ä»¥ç”¨äºäº¤æ¢ä¿¡æ¯ã€‚æœ‰æ•ˆä½¿ç”¨ JWTï¼Œå¯ä»¥é™ä½æœåŠ¡å™¨æŸ¥è¯¢æ•°æ®åº“çš„æ¬¡æ•°ã€‚</p>\n<p>ï¼ˆ4ï¼‰JWT çš„æœ€å¤§ç¼ºç‚¹æ˜¯ï¼Œç”±äºæœåŠ¡å™¨ä¸ä¿å­˜ session çŠ¶æ€ï¼Œå› æ­¤æ— æ³•åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­åºŸæ­¢æŸä¸ª tokenï¼Œæˆ–è€…æ›´æ”¹ token çš„æƒé™ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦ JWT ç­¾å‘äº†ï¼Œåœ¨åˆ°æœŸä¹‹å‰å°±ä¼šå§‹ç»ˆæœ‰æ•ˆï¼Œé™¤éæœåŠ¡å™¨éƒ¨ç½²é¢å¤–çš„é€»è¾‘ã€‚</p>\n<p>ï¼ˆ5ï¼‰JWT æœ¬èº«åŒ…å«äº†è®¤è¯ä¿¡æ¯ï¼Œä¸€æ—¦æ³„éœ²ï¼Œä»»ä½•äººéƒ½å¯ä»¥è·å¾—è¯¥ä»¤ç‰Œçš„æ‰€æœ‰æƒé™ã€‚ä¸ºäº†å‡å°‘ç›—ç”¨ï¼ŒJWT çš„æœ‰æ•ˆæœŸåº”è¯¥è®¾ç½®å¾—æ¯”è¾ƒçŸ­ã€‚å¯¹äºä¸€äº›æ¯”è¾ƒé‡è¦çš„æƒé™ï¼Œä½¿ç”¨æ—¶åº”è¯¥å†æ¬¡å¯¹ç”¨æˆ·è¿›è¡Œè®¤è¯ã€‚</p>\n<p>ï¼ˆ6ï¼‰ä¸ºäº†å‡å°‘ç›—ç”¨ï¼ŒJWT ä¸åº”è¯¥ä½¿ç”¨ HTTP åè®®æ˜ç ä¼ è¾“ï¼Œè¦ä½¿ç”¨ HTTPS åè®®ä¼ è¾“ã€‚</p>\n<h2 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h2><ul>\n<li>æ·»åŠ ä¾èµ–<br><a href=\"https://jwt.io/\" target=\"_blank\" rel=\"noopener\">https://jwt.io/</a><br>é€‰æ‹©å¯¹åº”çš„ç‰ˆæœ¬</li>\n<li>ä½¿ç”¨</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import java.util.Calendar;</span><br><span class=\"line\">import java.util.Date;</span><br><span class=\"line\">import java.util.HashMap;</span><br><span class=\"line\">import java.util.Map;</span><br><span class=\"line\"></span><br><span class=\"line\">import com.auth0.jwt.JWT;</span><br><span class=\"line\">import com.auth0.jwt.JWTVerifier;</span><br><span class=\"line\">import com.auth0.jwt.algorithms.Algorithm;</span><br><span class=\"line\">import com.auth0.jwt.interfaces.Claim;</span><br><span class=\"line\">import com.auth0.jwt.interfaces.DecodedJWT;</span><br><span class=\"line\">import org.springframework.util.StringUtils;</span><br><span class=\"line\"></span><br><span class=\"line\">public class TokenConfig &#123;</span><br><span class=\"line\">    &#x2F;** tokenç§˜é’¥ï¼Œè¯·å‹¿æ³„éœ²ï¼Œè¯·å‹¿éšä¾¿ä¿®æ”¹ backups:JKKLJOoasdlfj *&#x2F;</span><br><span class=\"line\">    public static final String SECRET &#x3D; &quot;JKKLJOoasdlfj&quot;;</span><br><span class=\"line\">    &#x2F;** token è¿‡æœŸæ—¶é—´: 10å¤© *&#x2F;</span><br><span class=\"line\">    public static final int calendarField &#x3D; Calendar.DATE;</span><br><span class=\"line\">    public static final int calendarInterval &#x3D; 10;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;**</span><br><span class=\"line\">     * JWTç”ŸæˆToken.&lt;br&#x2F;&gt;</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * JWTæ„æˆ: header, payload, signature</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * @param user_id</span><br><span class=\"line\">     *            ç™»å½•æˆåŠŸåç”¨æˆ·user_id, å‚æ•°user_idä¸å¯ä¼ ç©º</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    public static String createToken(Long user_id) throws Exception &#123;</span><br><span class=\"line\">        Date iatDate &#x3D; new Date();</span><br><span class=\"line\">        &#x2F;&#x2F; expire time</span><br><span class=\"line\">        Calendar nowTime &#x3D; Calendar.getInstance();</span><br><span class=\"line\">        nowTime.add(calendarField, calendarInterval);</span><br><span class=\"line\">        Date expiresDate &#x3D; nowTime.getTime();</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F; header Map</span><br><span class=\"line\">        Map&lt;String, Object&gt; map &#x3D; new HashMap&lt;&gt;();</span><br><span class=\"line\">        map.put(&quot;alg&quot;, &quot;HS256&quot;);</span><br><span class=\"line\">        map.put(&quot;typ&quot;, &quot;JWT&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F; build token</span><br><span class=\"line\">        &#x2F;&#x2F; param backups &#123;iss:Service, aud:APP&#125;</span><br><span class=\"line\">        String token &#x3D; JWT.create().withHeader(map) &#x2F;&#x2F; header</span><br><span class=\"line\">                .withClaim(&quot;iss&quot;, &quot;Service&quot;) &#x2F;&#x2F; payload</span><br><span class=\"line\">                .withClaim(&quot;aud&quot;, &quot;APP&quot;).withClaim(&quot;user_id&quot;, null &#x3D;&#x3D; user_id ? null : user_id.toString())</span><br><span class=\"line\">                .withIssuedAt(iatDate) &#x2F;&#x2F; sign time</span><br><span class=\"line\">                .withExpiresAt(expiresDate) &#x2F;&#x2F; expire time</span><br><span class=\"line\">                .sign(Algorithm.HMAC256(SECRET)); &#x2F;&#x2F; signature</span><br><span class=\"line\"></span><br><span class=\"line\">        return token;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;**</span><br><span class=\"line\">     * è§£å¯†Token</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * @param token</span><br><span class=\"line\">     * @return</span><br><span class=\"line\">     * @throws Exception</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    public static Map&lt;String, Claim&gt; verifyToken(String token) &#123;</span><br><span class=\"line\">        DecodedJWT jwt &#x3D; null;</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            JWTVerifier verifier &#x3D; JWT.require(Algorithm.HMAC256(SECRET)).build();</span><br><span class=\"line\">            jwt &#x3D; verifier.verify(token);</span><br><span class=\"line\">        &#125; catch (Exception e) &#123;</span><br><span class=\"line\">            &#x2F;&#x2F; e.printStackTrace();</span><br><span class=\"line\">            &#x2F;&#x2F; token æ ¡éªŒå¤±è´¥, æŠ›å‡ºTokenéªŒè¯éæ³•å¼‚å¸¸</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        return jwt.getClaims();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;**</span><br><span class=\"line\">     * æ ¹æ®Tokenè·å–user_id</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * @param token</span><br><span class=\"line\">     * @return user_id</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    public static Long getAppUID(String token) &#123;</span><br><span class=\"line\">        Map&lt;String, Claim&gt; claims &#x3D; verifyToken(token);</span><br><span class=\"line\">        Claim user_id_claim &#x3D; claims.get(&quot;user_id&quot;);</span><br><span class=\"line\">        if (null &#x3D;&#x3D; user_id_claim || StringUtils.isEmpty(user_id_claim.asString())) &#123;</span><br><span class=\"line\">            &#x2F;&#x2F; token æ ¡éªŒå¤±è´¥, æŠ›å‡ºTokenéªŒè¯éæ³•å¼‚å¸¸</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        return Long.valueOf(user_id_claim.asString());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ¦‚å¿µè§£æ\"><a href=\"#æ¦‚å¿µè§£æ\" class=\"headerlink\" title=\"æ¦‚å¿µè§£æ\"></a>æ¦‚å¿µè§£æ</h2><p>JWT çš„ä¸‰ä¸ªéƒ¨åˆ†ä¾æ¬¡å¦‚ä¸‹ã€‚</p>\n<ul>\n<li>Headerï¼ˆå¤´éƒ¨ï¼‰</li>\n<li>Payloadï¼ˆè´Ÿè½½ï¼‰</li>\n<li>Signatureï¼ˆç­¾åï¼‰</li>\n</ul>\n<p>å†™æˆä¸€è¡Œï¼Œå°±æ˜¯ä¸‹é¢çš„æ ·å­ã€‚</p>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JWT%20spring%20boot%20JAVA%20%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4%20spring%20boot2.0/20190325103836546.png?raw=true\"  alt=\"https://www.wangbase.com/blogimg/asset/201807/bg2018072303.jpg\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>JWTæ˜¯json web tokenç¼©å†™ã€‚å®ƒå°†ç”¨æˆ·ä¿¡æ¯åŠ å¯†åˆ°tokené‡Œï¼ŒæœåŠ¡å™¨ä¸ä¿å­˜ä»»ä½•ç”¨æˆ·ä¿¡æ¯ã€‚æœåŠ¡å™¨é€šè¿‡ä½¿ç”¨ä¿å­˜çš„å¯†é’¥éªŒè¯tokençš„æ­£ç¡®æ€§ï¼Œåªè¦æ­£ç¡®å³é€šè¿‡éªŒè¯ã€‚</p>\n<p>ï¼ˆ1ï¼‰JWT é»˜è®¤æ˜¯ä¸åŠ å¯†ï¼Œä½†ä¹Ÿæ˜¯å¯ä»¥åŠ å¯†çš„ã€‚ç”ŸæˆåŸå§‹ Token ä»¥åï¼Œå¯ä»¥ç”¨å¯†é’¥å†åŠ å¯†ä¸€æ¬¡ã€‚</p>\n<p>ï¼ˆ2ï¼‰JWT ä¸åŠ å¯†çš„æƒ…å†µä¸‹ï¼Œä¸èƒ½å°†ç§˜å¯†æ•°æ®å†™å…¥ JWTã€‚</p>\n<p>ï¼ˆ3ï¼‰JWT ä¸ä»…å¯ä»¥ç”¨äºè®¤è¯ï¼Œä¹Ÿå¯ä»¥ç”¨äºäº¤æ¢ä¿¡æ¯ã€‚æœ‰æ•ˆä½¿ç”¨ JWTï¼Œå¯ä»¥é™ä½æœåŠ¡å™¨æŸ¥è¯¢æ•°æ®åº“çš„æ¬¡æ•°ã€‚</p>\n<p>ï¼ˆ4ï¼‰JWT çš„æœ€å¤§ç¼ºç‚¹æ˜¯ï¼Œç”±äºæœåŠ¡å™¨ä¸ä¿å­˜ session çŠ¶æ€ï¼Œå› æ­¤æ— æ³•åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­åºŸæ­¢æŸä¸ª tokenï¼Œæˆ–è€…æ›´æ”¹ token çš„æƒé™ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦ JWT ç­¾å‘äº†ï¼Œåœ¨åˆ°æœŸä¹‹å‰å°±ä¼šå§‹ç»ˆæœ‰æ•ˆï¼Œé™¤éæœåŠ¡å™¨éƒ¨ç½²é¢å¤–çš„é€»è¾‘ã€‚</p>\n<p>ï¼ˆ5ï¼‰JWT æœ¬èº«åŒ…å«äº†è®¤è¯ä¿¡æ¯ï¼Œä¸€æ—¦æ³„éœ²ï¼Œä»»ä½•äººéƒ½å¯ä»¥è·å¾—è¯¥ä»¤ç‰Œçš„æ‰€æœ‰æƒé™ã€‚ä¸ºäº†å‡å°‘ç›—ç”¨ï¼ŒJWT çš„æœ‰æ•ˆæœŸåº”è¯¥è®¾ç½®å¾—æ¯”è¾ƒçŸ­ã€‚å¯¹äºä¸€äº›æ¯”è¾ƒé‡è¦çš„æƒé™ï¼Œä½¿ç”¨æ—¶åº”è¯¥å†æ¬¡å¯¹ç”¨æˆ·è¿›è¡Œè®¤è¯ã€‚</p>\n<p>ï¼ˆ6ï¼‰ä¸ºäº†å‡å°‘ç›—ç”¨ï¼ŒJWT ä¸åº”è¯¥ä½¿ç”¨ HTTP åè®®æ˜ç ä¼ è¾“ï¼Œè¦ä½¿ç”¨ HTTPS åè®®ä¼ è¾“ã€‚</p>\n<h2 id=\"ä½¿ç”¨\"><a href=\"#ä½¿ç”¨\" class=\"headerlink\" title=\"ä½¿ç”¨\"></a>ä½¿ç”¨</h2><ul>\n<li>æ·»åŠ ä¾èµ–<br><a href=\"https://jwt.io/\" target=\"_blank\" rel=\"noopener\">https://jwt.io/</a><br>é€‰æ‹©å¯¹åº”çš„ç‰ˆæœ¬</li>\n<li>ä½¿ç”¨</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import java.util.Calendar;</span><br><span class=\"line\">import java.util.Date;</span><br><span class=\"line\">import java.util.HashMap;</span><br><span class=\"line\">import java.util.Map;</span><br><span class=\"line\"></span><br><span class=\"line\">import com.auth0.jwt.JWT;</span><br><span class=\"line\">import com.auth0.jwt.JWTVerifier;</span><br><span class=\"line\">import com.auth0.jwt.algorithms.Algorithm;</span><br><span class=\"line\">import com.auth0.jwt.interfaces.Claim;</span><br><span class=\"line\">import com.auth0.jwt.interfaces.DecodedJWT;</span><br><span class=\"line\">import org.springframework.util.StringUtils;</span><br><span class=\"line\"></span><br><span class=\"line\">public class TokenConfig &#123;</span><br><span class=\"line\">    &#x2F;** tokenç§˜é’¥ï¼Œè¯·å‹¿æ³„éœ²ï¼Œè¯·å‹¿éšä¾¿ä¿®æ”¹ backups:JKKLJOoasdlfj *&#x2F;</span><br><span class=\"line\">    public static final String SECRET &#x3D; &quot;JKKLJOoasdlfj&quot;;</span><br><span class=\"line\">    &#x2F;** token è¿‡æœŸæ—¶é—´: 10å¤© *&#x2F;</span><br><span class=\"line\">    public static final int calendarField &#x3D; Calendar.DATE;</span><br><span class=\"line\">    public static final int calendarInterval &#x3D; 10;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;**</span><br><span class=\"line\">     * JWTç”ŸæˆToken.&lt;br&#x2F;&gt;</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * JWTæ„æˆ: header, payload, signature</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * @param user_id</span><br><span class=\"line\">     *            ç™»å½•æˆåŠŸåç”¨æˆ·user_id, å‚æ•°user_idä¸å¯ä¼ ç©º</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    public static String createToken(Long user_id) throws Exception &#123;</span><br><span class=\"line\">        Date iatDate &#x3D; new Date();</span><br><span class=\"line\">        &#x2F;&#x2F; expire time</span><br><span class=\"line\">        Calendar nowTime &#x3D; Calendar.getInstance();</span><br><span class=\"line\">        nowTime.add(calendarField, calendarInterval);</span><br><span class=\"line\">        Date expiresDate &#x3D; nowTime.getTime();</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F; header Map</span><br><span class=\"line\">        Map&lt;String, Object&gt; map &#x3D; new HashMap&lt;&gt;();</span><br><span class=\"line\">        map.put(&quot;alg&quot;, &quot;HS256&quot;);</span><br><span class=\"line\">        map.put(&quot;typ&quot;, &quot;JWT&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F; build token</span><br><span class=\"line\">        &#x2F;&#x2F; param backups &#123;iss:Service, aud:APP&#125;</span><br><span class=\"line\">        String token &#x3D; JWT.create().withHeader(map) &#x2F;&#x2F; header</span><br><span class=\"line\">                .withClaim(&quot;iss&quot;, &quot;Service&quot;) &#x2F;&#x2F; payload</span><br><span class=\"line\">                .withClaim(&quot;aud&quot;, &quot;APP&quot;).withClaim(&quot;user_id&quot;, null &#x3D;&#x3D; user_id ? null : user_id.toString())</span><br><span class=\"line\">                .withIssuedAt(iatDate) &#x2F;&#x2F; sign time</span><br><span class=\"line\">                .withExpiresAt(expiresDate) &#x2F;&#x2F; expire time</span><br><span class=\"line\">                .sign(Algorithm.HMAC256(SECRET)); &#x2F;&#x2F; signature</span><br><span class=\"line\"></span><br><span class=\"line\">        return token;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;**</span><br><span class=\"line\">     * è§£å¯†Token</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * @param token</span><br><span class=\"line\">     * @return</span><br><span class=\"line\">     * @throws Exception</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    public static Map&lt;String, Claim&gt; verifyToken(String token) &#123;</span><br><span class=\"line\">        DecodedJWT jwt &#x3D; null;</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            JWTVerifier verifier &#x3D; JWT.require(Algorithm.HMAC256(SECRET)).build();</span><br><span class=\"line\">            jwt &#x3D; verifier.verify(token);</span><br><span class=\"line\">        &#125; catch (Exception e) &#123;</span><br><span class=\"line\">            &#x2F;&#x2F; e.printStackTrace();</span><br><span class=\"line\">            &#x2F;&#x2F; token æ ¡éªŒå¤±è´¥, æŠ›å‡ºTokenéªŒè¯éæ³•å¼‚å¸¸</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        return jwt.getClaims();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;**</span><br><span class=\"line\">     * æ ¹æ®Tokenè·å–user_id</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * @param token</span><br><span class=\"line\">     * @return user_id</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    public static Long getAppUID(String token) &#123;</span><br><span class=\"line\">        Map&lt;String, Claim&gt; claims &#x3D; verifyToken(token);</span><br><span class=\"line\">        Claim user_id_claim &#x3D; claims.get(&quot;user_id&quot;);</span><br><span class=\"line\">        if (null &#x3D;&#x3D; user_id_claim || StringUtils.isEmpty(user_id_claim.asString())) &#123;</span><br><span class=\"line\">            &#x2F;&#x2F; token æ ¡éªŒå¤±è´¥, æŠ›å‡ºTokenéªŒè¯éæ³•å¼‚å¸¸</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        return Long.valueOf(user_id_claim.asString());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ¦‚å¿µè§£æ\"><a href=\"#æ¦‚å¿µè§£æ\" class=\"headerlink\" title=\"æ¦‚å¿µè§£æ\"></a>æ¦‚å¿µè§£æ</h2><p>JWT çš„ä¸‰ä¸ªéƒ¨åˆ†ä¾æ¬¡å¦‚ä¸‹ã€‚</p>\n<ul>\n<li>Headerï¼ˆå¤´éƒ¨ï¼‰</li>\n<li>Payloadï¼ˆè´Ÿè½½ï¼‰</li>\n<li>Signatureï¼ˆç­¾åï¼‰</li>\n</ul>\n<p>å†™æˆä¸€è¡Œï¼Œå°±æ˜¯ä¸‹é¢çš„æ ·å­ã€‚</p>\n<p><img src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/JWT%20spring%20boot%20JAVA%20%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4%20spring%20boot2.0/20190325103836546.png?raw=true\" alt=\"https://www.wangbase.com/blogimg/asset/201807/bg2018072303.jpg\"></p>\n"},{"title":"React Hook å€’è®¡æ—¶","date":"2019-07-30T13:01:24.000Z","cover":"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/React.jpeg?raw=true","_content":"\n```\nuseEffect(() => {\n    setTimeout(() => {\n      if (count > 0) {\n        setCount((c: number) => c - 1); // âœ… åœ¨è¿™ä¸ä¾èµ–äºå¤–éƒ¨çš„ `count` å˜é‡\n      }\n    }, 1000);\n  }, [count]); // âœ… æˆ‘ä»¬çš„ effect ä¸é€‚ç”¨ç»„ä»¶ä½œç”¨åŸŸä¸­çš„ä»»ä½•å˜é‡\n```\n\n```\n<button onClick={() => setCount(60)} >ç‚¹æˆ‘</button>\n```\n\n>æœ¬äººè‡ªåˆ›è‡ªç”¨ ä¸€ä¸ªå¥½ç”¨çš„AntDesign Formå¿«é€Ÿç”Ÿæˆå™¨\n>https://github.com/DerrickTel/ant-design-form\n>æ¬¢è¿å¤§å®¶ææ„è§,æœ¬äººä¼šä¸å®šæœŸæ›´æ–°.æœ‰æ–°çš„éœ€æ±‚éƒ½å¯ä»¥ç»™æˆ‘æissue  \n>èƒ½åŠ¨åŠ¨ä½ çš„å°æ‰‹ç‚¹ä¸ªstartå°±æ›´æ£’å•¦~\n","source":"_posts/React-Hook-å€’è®¡æ—¶.md","raw":"---\ntitle: React Hook å€’è®¡æ—¶\ndate: 2019-07-30 21:01:24\ntags: [ReactHook, React, å€’è®¡æ—¶]\ncategory: [React]\ncover: https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/React.jpeg?raw=true\n---\n\n```\nuseEffect(() => {\n    setTimeout(() => {\n      if (count > 0) {\n        setCount((c: number) => c - 1); // âœ… åœ¨è¿™ä¸ä¾èµ–äºå¤–éƒ¨çš„ `count` å˜é‡\n      }\n    }, 1000);\n  }, [count]); // âœ… æˆ‘ä»¬çš„ effect ä¸é€‚ç”¨ç»„ä»¶ä½œç”¨åŸŸä¸­çš„ä»»ä½•å˜é‡\n```\n\n```\n<button onClick={() => setCount(60)} >ç‚¹æˆ‘</button>\n```\n\n>æœ¬äººè‡ªåˆ›è‡ªç”¨ ä¸€ä¸ªå¥½ç”¨çš„AntDesign Formå¿«é€Ÿç”Ÿæˆå™¨\n>https://github.com/DerrickTel/ant-design-form\n>æ¬¢è¿å¤§å®¶ææ„è§,æœ¬äººä¼šä¸å®šæœŸæ›´æ–°.æœ‰æ–°çš„éœ€æ±‚éƒ½å¯ä»¥ç»™æˆ‘æissue  \n>èƒ½åŠ¨åŠ¨ä½ çš„å°æ‰‹ç‚¹ä¸ªstartå°±æ›´æ£’å•¦~\n","slug":"React-Hook-å€’è®¡æ—¶","published":1,"updated":"2020-04-11T11:50:39.923Z","_id":"ck8vk5p7t001to5vmer4962gz","comments":1,"layout":"post","photos":[],"link":"","content":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">useEffect(() &#x3D;&gt; &#123;</span><br><span class=\"line\">    setTimeout(() &#x3D;&gt; &#123;</span><br><span class=\"line\">      if (count &gt; 0) &#123;</span><br><span class=\"line\">        setCount((c: number) &#x3D;&gt; c - 1); &#x2F;&#x2F; âœ… åœ¨è¿™ä¸ä¾èµ–äºå¤–éƒ¨çš„ &#96;count&#96; å˜é‡</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;, 1000);</span><br><span class=\"line\">  &#125;, [count]); &#x2F;&#x2F; âœ… æˆ‘ä»¬çš„ effect ä¸é€‚ç”¨ç»„ä»¶ä½œç”¨åŸŸä¸­çš„ä»»ä½•å˜é‡</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;button onClick&#x3D;&#123;() &#x3D;&gt; setCount(60)&#125; &gt;ç‚¹æˆ‘&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>æœ¬äººè‡ªåˆ›è‡ªç”¨ ä¸€ä¸ªå¥½ç”¨çš„AntDesign Formå¿«é€Ÿç”Ÿæˆå™¨<br><a href=\"https://github.com/DerrickTel/ant-design-form\" target=\"_blank\" rel=\"noopener\">https://github.com/DerrickTel/ant-design-form</a><br>æ¬¢è¿å¤§å®¶ææ„è§,æœ¬äººä¼šä¸å®šæœŸæ›´æ–°.æœ‰æ–°çš„éœ€æ±‚éƒ½å¯ä»¥ç»™æˆ‘æissue<br>èƒ½åŠ¨åŠ¨ä½ çš„å°æ‰‹ç‚¹ä¸ªstartå°±æ›´æ£’å•¦~</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">useEffect(() &#x3D;&gt; &#123;</span><br><span class=\"line\">    setTimeout(() &#x3D;&gt; &#123;</span><br><span class=\"line\">      if (count &gt; 0) &#123;</span><br><span class=\"line\">        setCount((c: number) &#x3D;&gt; c - 1); &#x2F;&#x2F; âœ… åœ¨è¿™ä¸ä¾èµ–äºå¤–éƒ¨çš„ &#96;count&#96; å˜é‡</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;, 1000);</span><br><span class=\"line\">  &#125;, [count]); &#x2F;&#x2F; âœ… æˆ‘ä»¬çš„ effect ä¸é€‚ç”¨ç»„ä»¶ä½œç”¨åŸŸä¸­çš„ä»»ä½•å˜é‡</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;button onClick&#x3D;&#123;() &#x3D;&gt; setCount(60)&#125; &gt;ç‚¹æˆ‘&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>æœ¬äººè‡ªåˆ›è‡ªç”¨ ä¸€ä¸ªå¥½ç”¨çš„AntDesign Formå¿«é€Ÿç”Ÿæˆå™¨<br><a href=\"https://github.com/DerrickTel/ant-design-form\" target=\"_blank\" rel=\"noopener\">https://github.com/DerrickTel/ant-design-form</a><br>æ¬¢è¿å¤§å®¶ææ„è§,æœ¬äººä¼šä¸å®šæœŸæ›´æ–°.æœ‰æ–°çš„éœ€æ±‚éƒ½å¯ä»¥ç»™æˆ‘æissue<br>èƒ½åŠ¨åŠ¨ä½ çš„å°æ‰‹ç‚¹ä¸ªstartå°±æ›´æ£’å•¦~</p>\n</blockquote>\n"},{"title":"React Hook useState useEffect componentDidMount componentDidUpdate componentWillUnmount","date":"2019-07-30T13:00:00.000Z","cover":"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/React.jpeg?raw=true","_content":"## ä»‹ç»\nHook æ˜¯ React 16.8 çš„æ–°å¢ç‰¹æ€§ã€‚å®ƒå¯ä»¥è®©ä½ åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ã€‚\n\n## ç¼˜ç”±\n\nHookçš„åˆè¡·æ˜¯ä¸ºäº†è§£å†³åŸæœ¬æ— çŠ¶æ€ç»„å»ºéœ€è¦ä½¿ç”¨state, å¿…é¡»æ”¹é€ ä¸ºclassè¿™ä¸ªç—›ç‚¹.\n\n## useState\n\n```\nimport React, { useState } from 'react';\n\nfunction Example() {\n  // å£°æ˜ä¸€ä¸ªå« \"count\" çš„ state å˜é‡\n  const [count, setCount] = useState(0);\n\n  return (\n    <div>\n      <p>You clicked {count} times</p>\n      <button onClick={() => setCount(count + 1)}>\n        Click me\n      </button>\n    </div>\n  );\n}\n```\nè¿™ä¸ªæ˜¯å®˜æ–¹æä¾›çš„æœ€ç®€å•çš„ä¾‹å­.\n\nä¸éš¾ç†è§£, æŒ‰é’®æ¯æ¬¡ç‚¹å‡»éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡setCount, ä»è€Œæ”¹å˜countçš„å€¼\n\nå’Œä»¥ä¸‹çš„ä¾‹å­ç­‰ä»·\n\n```\nclass Example extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      count: 0\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <p>You clicked {this.state.count} times</p>\n        <button onClick={() => this.setState({ count: this.state.count + 1 })}>\n          Click me\n        </button>\n      </div>\n    );\n  }\n}\n```\n\næˆ‘ç”¨æ³¨é‡Šæ¥è§£é‡Šå¯èƒ½æ›´å¥½ç†è§£useStateæ¯ä¸ªå‚æ•°çš„æ„ä¹‰ï¼Œç¨å¾®æ”¹é€ ä¸€ä¸‹ç¬¬ä¸€ä¸ªä¾‹å­\n\n```\nimport React, { useState } from 'react';\n\nfunction Example() {\n  // å£°æ˜ä¸€ä¸ªå« \"count\" çš„ state å˜é‡\n  const [\n\t  count, ã€€// åœ¨stateé‡Œé¢çš„åå­—\n\t  setCount  // æ”¹å˜è¿™ä¸ªåå­—çš„å‡½æ•°\n  ] = useState(\n  \t0  // åˆå€¼countçš„åˆå€¼\n  );\n\n  return (\n    <div>\n      <p>You clicked {count} times</p>\n      <button onClick={() => \n      setCount(\n      count + 1  //  å‡†å¤‡æŠŠcountè¯¥æˆä»€ä¹ˆæ ·å­\n      )}>\n        Click me\n      </button>\n    </div>\n  );\n}\n```\n\nåœ¨ä»¥å‰classçš„å½¢å¼, æ‰€æœ‰çš„å¯å˜æ•°æ®éƒ½æ”¾åœ¨ä¸€ä¸ªstateå†…éƒ¨è¿›è¡Œç»´æŠ¤, è¿™æ ·è¿™ä¸ªstateä¼šè¶Šæ¥è¶Šå¤§...è¶Šæ¥è¶Šè‡ƒè‚¿...è¶Šæ¥è¶Šéš¾ä»¥ç»´æŠ¤..å¦‚æœæ²¡æœ‰æ³¨é‡Šå¯èƒ½å°±éš¾ä»¥ç†è§£...è¿™æ ·å°±è¯ç”Ÿäº†**Redux**\n\næˆ‘æœ¬äººè®¤ä¸º, useStateå¯ä»¥ç›´æ¥è§£å†³è¿™æ ·çš„ä¸€ä¸ªç—›ç‚¹, ä¸‹é¢æ˜¯æˆ‘åœ¨æ–°é¡¹ç›®ä¸­ä½¿ç”¨**hook**çš„ä¾‹å­\n\n```\n// è¡¨æ ¼loading\n  const [loading, setLoading] = useState(true);\n\n  // è¡¨æ ¼æ•°æ®\n  const [listData, setListData] = useState({ list: [], total: 0 });\n\n  // å½“å‰é¡µç \n  const [current, setCurrent] = useState(0);\n\n  // æœç´¢æ•°æ®\n  const [searchData, setSearchData] = useState({});\n\n  // åŒ»ç”ŸèŒç§°\n  const [jobTitle, setJobTitle] = useState([]);\n\n  // ç§‘å®¤\n  const [dept, setDept] = useState([]);\n\n  // å¼¹çª—æ˜¾éš\n  const [visible, setVisible] = useState(false);\n\n  // å¼¹çª—æ•°æ®\n  const [showData, setShowData] = useState({});\n```\nå¯ä»¥å¾ˆç›´è§‚çš„çœ‹åˆ°åŸºæœ¬ä¸Šä¸€ä¸ªæ•°æ®äº«å—ä¸€ä¸ªuseState...é…åˆæ­£ç¡®çš„æ³¨é‡Š, è°ƒç”¨æ­£ç¡®çš„æ–¹æ³•, ä½¿ä»£ç å¯è¯»æ€§å¤§å¤§å¢å¼º.\n\n## useEffect\n\n> å¦‚æœä½ ç†Ÿæ‚‰ React class çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œä½ å¯ä»¥æŠŠ useEffect Hook çœ‹åš `componentDidMountï¼ŒcomponentDidUpdate å’Œ componentWillUnmount` è¿™ä¸‰ä¸ªå‡½æ•°çš„ç»„åˆã€‚\n\nè¿™å¥è¯æ¥è‡ªå®˜ç½‘çš„åŸç”».\n\næ¥ä¸‹æ¥æˆ‘å°±ä¸ºå¤§å®¶è§£é‡ŠuseEffect\n\n> useEffect ä¼šåœ¨æ¯æ¬¡æ¸²æŸ“åéƒ½æ‰§è¡Œå—ï¼Ÿ æ˜¯çš„ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒåœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“ä¹‹åå’Œæ¯æ¬¡æ›´æ–°ä¹‹åéƒ½ä¼šæ‰§è¡Œã€‚\n\nè¿™ä¸ªæ˜¯å®˜ç½‘çš„åŸè¯, ä¸éš¾ç†è§£,è¿™æ ·å°±å¯ä»¥æ¨¡æ‹Ÿå‡ºcomponentDidUpdate..ä½ å¯ä»¥åœ¨hooké‡Œé¢å†™ä½ æƒ³è¦é€»è¾‘. .\n\nç›´æ¥ä¸Šå®˜ç½‘ä»£ç \n\n```\nimport React, { useState, useEffect } from 'react';\n\nfunction Example() {\n  const [count, setCount] = useState(0);\n\n  useEffect(() => {\n    document.title = `You clicked ${count} times`;\n  });\n\n  return (\n    <div>\n      <p>You clicked {count} times</p>\n      <button onClick={() => setCount(count + 1)}>\n        Click me\n      </button>\n    </div>\n  );\n}\n```\n\nå¯ä»¥çœ‹åˆ°æ¯æ¬¡ç‚¹å‡»æŒ‰é’®, éƒ½é‡æ–°setäº†Countçš„å€¼, å› ä¸ºæ¯æ¬¡æ›´æ–°éƒ½ä¼šèµ°åˆ°useEffect(åé¢ä¼šè¯´åˆ°æ€ä¹ˆæ ·ä¸æ¯æ¬¡éƒ½è¿›å…¥useEffect ).\nä»–æ˜¯useEffectçš„é€»è¾‘æ˜¯,æ¯æ¬¡éƒ½ä¿®æ”¹`document.title`\n\nè¿™æ ·å°±æ¨¡æ‹Ÿäº†`componentDidUpdate`\n\n**componentDidMount  componentWillUnmount**\n\nuseEffectå…¶å®æœ‰ä¸¤ä¸ªå‚æ•°, ç¬¬ä¸€ä¸ªæ˜¯è°ƒç”¨å‡½æ•°, ç¬¬äºŒä¸ªæ˜¯ç›‘å¬å€¼.\n\n```\nuseEffect(\n  () => { // æˆ‘å«Aå‡½æ•°\n    const subscription = props.source.subscribe();\n    return () => {\n      subscription.unsubscribe();\n    };\n  },\n  [props.source],\n);\n```\n\nè¿™æ®µä»£ç å¯ä»¥ç†è§£ä¸º, ç¨‹åºä¸€è¿è¡Œ, å°±è°ƒç”¨äº†ä¸€æ¬¡Aå‡½æ•°,ä¹‹åæ¯æ¬¡æ¸²æŸ“è™½ç„¶éƒ½ä¼šèµ°åˆ°è¿™ä¸ªuseEffect. å› ä¸ºä»–æœ‰ç¬¬äºŒä¸ªå‚æ•°.æ‰€ä»¥åªæœ‰åœ¨ `[props.source]` å˜åŒ–çš„æ—¶å€™.æ‰ä¼šå†æ¬¡è°ƒç”¨Aå‡½æ•°.\n\næˆ‘ä»¬å¯ä»¥çµæ´»çš„è°ƒç”¨èµ·æ¥, è¿™ä¸ªå€¼å¯ä»¥æ¥è‡ªuseStateæ§åˆ¶.ä½ æƒ³ä»–å˜åŒ–çš„æ—¶å€™,ä½ å°±ç”¨useStateæ”¹å˜ä¸€ä¸‹ä»–çš„å€¼.\n\næœ€å…¸å‹çš„ä¾‹å­å°±æ˜¯, **çŸ­ä¿¡çš„å€’è®¡æ—¶**\n\né‚£æˆ‘æ€ä¹ˆæ ·æ‰å¯ä»¥ä¼˜é›…çš„è®©è¿™ä¸ªuseEffectåªè°ƒç”¨ä¸€æ¬¡.åƒcomponentDidMountå‘¢?\n\nå¯ä»¥è¿™æ ·åœ¨ç¬¬äºŒä¸ªå€¼ä¼ ä¸€ä¸ªæ§åˆ¶è¿›å».\n\n```\nuseEffect(() => {\n    const firstGet = async () => {\n      const [z, x, c] = await Promise.all([\n        requestZ(),\n        requestX(),\n        requestZ(),\n      ]);\n      // åšä½ æƒ³åšçš„äº‹æƒ…\n    };\n    firstGet();\n  }, []);\n```\n\nè¿™æ ·å°±å¯ä»¥å¾ˆä¼˜é›…çš„æ¨¡ä»¿componentDidMount.è€Œä¸éœ€è¦åœ¨åé¢æä»€ä¹ˆæ²¡äººçŸ¥é“çš„èŠ±é‡Œèƒ¡å“¨çš„å€¼.\n\né‚£æ€ä¹ˆæ ·æ‰å¯ä»¥æ¨¡ä»¿componentWillUnmountå‘¢?\n\n```\nuseEffect(() => {\n    // Specify how to clean up after this effect:\n    return function cleanup() {\n      ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);\n    };\n  }, []);\n```\n\n> ä¸ºä»€ä¹ˆè¦åœ¨ effect ä¸­è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Ÿ è¿™æ˜¯ effect å¯é€‰çš„æ¸…é™¤æœºåˆ¶ã€‚æ¯ä¸ª effect éƒ½å¯ä»¥è¿”å›ä¸€ä¸ªæ¸…é™¤å‡½æ•°ã€‚å¦‚æ­¤å¯ä»¥å°†æ·»åŠ å’Œç§»é™¤è®¢é˜…çš„é€»è¾‘æ”¾åœ¨ä¸€èµ·ã€‚å®ƒä»¬éƒ½å±äº effect çš„ä¸€éƒ¨åˆ†ã€‚\n\n> React ä½•æ—¶æ¸…é™¤ effectï¼Ÿ React ä¼šåœ¨ç»„ä»¶å¸è½½çš„æ—¶å€™æ‰§è¡Œæ¸…é™¤æ“ä½œã€‚æ­£å¦‚ä¹‹å‰å­¦åˆ°çš„ï¼Œeffect åœ¨æ¯æ¬¡æ¸²æŸ“çš„æ—¶å€™éƒ½ä¼šæ‰§è¡Œã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ React ä¼šåœ¨æ‰§è¡Œå½“å‰ effect ä¹‹å‰å¯¹ä¸Šä¸€ä¸ª effect è¿›è¡Œæ¸…é™¤ã€‚\n\nè¿™äº›éƒ½æ˜¯å®˜ç½‘çš„åŸè¯.  ä»£ç ä¸­çš„return å°±æ˜¯æ¸…é™¤..åŒæ ·çš„,åœ¨ç¬¬äºŒä¸ªå€¼æ”¾å…¥ä¸€ä¸ªç©º.è¿™æ ·å°±ä¼šå¾ˆä¼˜é›…çš„æ¸…é™¤äº†. æœ€æ˜æ˜¾å°±æ˜¯çŸ­ä¿¡å€’è®¡æ—¶çš„`setInerval`, clearä¸€ä¸‹æ‰ä¸ä¼šä¸€ç›´å ç”¨èµ„æº\n\n>æœ¬äººè‡ªåˆ›è‡ªç”¨ ä¸€ä¸ªå¥½ç”¨çš„AntDesign Formå¿«é€Ÿç”Ÿæˆå™¨\n>https://github.com/DerrickTel/ant-design-form\n>æ¬¢è¿å¤§å®¶ææ„è§,æœ¬äººä¼šä¸å®šæœŸæ›´æ–°.æœ‰æ–°çš„éœ€æ±‚éƒ½å¯ä»¥ç»™æˆ‘æissue  \n>èƒ½åŠ¨åŠ¨ä½ çš„å°æ‰‹ç‚¹ä¸ªèµå°±æ›´æ£’å•¦~","source":"_posts/React-Hook-useState-useEffect-componentDidMount-componentDidUpdate-componentWillUnmount.md","raw":"---\ntitle: >-\n  React Hook useState useEffect componentDidMount componentDidUpdate\n  componentWillUnmount\ndate: 2019-07-30 21:00:00\ntags: [ReactHook, React]\ncategory: [React]\ncover: https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/React.jpeg?raw=true\n---\n## ä»‹ç»\nHook æ˜¯ React 16.8 çš„æ–°å¢ç‰¹æ€§ã€‚å®ƒå¯ä»¥è®©ä½ åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ã€‚\n\n## ç¼˜ç”±\n\nHookçš„åˆè¡·æ˜¯ä¸ºäº†è§£å†³åŸæœ¬æ— çŠ¶æ€ç»„å»ºéœ€è¦ä½¿ç”¨state, å¿…é¡»æ”¹é€ ä¸ºclassè¿™ä¸ªç—›ç‚¹.\n\n## useState\n\n```\nimport React, { useState } from 'react';\n\nfunction Example() {\n  // å£°æ˜ä¸€ä¸ªå« \"count\" çš„ state å˜é‡\n  const [count, setCount] = useState(0);\n\n  return (\n    <div>\n      <p>You clicked {count} times</p>\n      <button onClick={() => setCount(count + 1)}>\n        Click me\n      </button>\n    </div>\n  );\n}\n```\nè¿™ä¸ªæ˜¯å®˜æ–¹æä¾›çš„æœ€ç®€å•çš„ä¾‹å­.\n\nä¸éš¾ç†è§£, æŒ‰é’®æ¯æ¬¡ç‚¹å‡»éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡setCount, ä»è€Œæ”¹å˜countçš„å€¼\n\nå’Œä»¥ä¸‹çš„ä¾‹å­ç­‰ä»·\n\n```\nclass Example extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      count: 0\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <p>You clicked {this.state.count} times</p>\n        <button onClick={() => this.setState({ count: this.state.count + 1 })}>\n          Click me\n        </button>\n      </div>\n    );\n  }\n}\n```\n\næˆ‘ç”¨æ³¨é‡Šæ¥è§£é‡Šå¯èƒ½æ›´å¥½ç†è§£useStateæ¯ä¸ªå‚æ•°çš„æ„ä¹‰ï¼Œç¨å¾®æ”¹é€ ä¸€ä¸‹ç¬¬ä¸€ä¸ªä¾‹å­\n\n```\nimport React, { useState } from 'react';\n\nfunction Example() {\n  // å£°æ˜ä¸€ä¸ªå« \"count\" çš„ state å˜é‡\n  const [\n\t  count, ã€€// åœ¨stateé‡Œé¢çš„åå­—\n\t  setCount  // æ”¹å˜è¿™ä¸ªåå­—çš„å‡½æ•°\n  ] = useState(\n  \t0  // åˆå€¼countçš„åˆå€¼\n  );\n\n  return (\n    <div>\n      <p>You clicked {count} times</p>\n      <button onClick={() => \n      setCount(\n      count + 1  //  å‡†å¤‡æŠŠcountè¯¥æˆä»€ä¹ˆæ ·å­\n      )}>\n        Click me\n      </button>\n    </div>\n  );\n}\n```\n\nåœ¨ä»¥å‰classçš„å½¢å¼, æ‰€æœ‰çš„å¯å˜æ•°æ®éƒ½æ”¾åœ¨ä¸€ä¸ªstateå†…éƒ¨è¿›è¡Œç»´æŠ¤, è¿™æ ·è¿™ä¸ªstateä¼šè¶Šæ¥è¶Šå¤§...è¶Šæ¥è¶Šè‡ƒè‚¿...è¶Šæ¥è¶Šéš¾ä»¥ç»´æŠ¤..å¦‚æœæ²¡æœ‰æ³¨é‡Šå¯èƒ½å°±éš¾ä»¥ç†è§£...è¿™æ ·å°±è¯ç”Ÿäº†**Redux**\n\næˆ‘æœ¬äººè®¤ä¸º, useStateå¯ä»¥ç›´æ¥è§£å†³è¿™æ ·çš„ä¸€ä¸ªç—›ç‚¹, ä¸‹é¢æ˜¯æˆ‘åœ¨æ–°é¡¹ç›®ä¸­ä½¿ç”¨**hook**çš„ä¾‹å­\n\n```\n// è¡¨æ ¼loading\n  const [loading, setLoading] = useState(true);\n\n  // è¡¨æ ¼æ•°æ®\n  const [listData, setListData] = useState({ list: [], total: 0 });\n\n  // å½“å‰é¡µç \n  const [current, setCurrent] = useState(0);\n\n  // æœç´¢æ•°æ®\n  const [searchData, setSearchData] = useState({});\n\n  // åŒ»ç”ŸèŒç§°\n  const [jobTitle, setJobTitle] = useState([]);\n\n  // ç§‘å®¤\n  const [dept, setDept] = useState([]);\n\n  // å¼¹çª—æ˜¾éš\n  const [visible, setVisible] = useState(false);\n\n  // å¼¹çª—æ•°æ®\n  const [showData, setShowData] = useState({});\n```\nå¯ä»¥å¾ˆç›´è§‚çš„çœ‹åˆ°åŸºæœ¬ä¸Šä¸€ä¸ªæ•°æ®äº«å—ä¸€ä¸ªuseState...é…åˆæ­£ç¡®çš„æ³¨é‡Š, è°ƒç”¨æ­£ç¡®çš„æ–¹æ³•, ä½¿ä»£ç å¯è¯»æ€§å¤§å¤§å¢å¼º.\n\n## useEffect\n\n> å¦‚æœä½ ç†Ÿæ‚‰ React class çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œä½ å¯ä»¥æŠŠ useEffect Hook çœ‹åš `componentDidMountï¼ŒcomponentDidUpdate å’Œ componentWillUnmount` è¿™ä¸‰ä¸ªå‡½æ•°çš„ç»„åˆã€‚\n\nè¿™å¥è¯æ¥è‡ªå®˜ç½‘çš„åŸç”».\n\næ¥ä¸‹æ¥æˆ‘å°±ä¸ºå¤§å®¶è§£é‡ŠuseEffect\n\n> useEffect ä¼šåœ¨æ¯æ¬¡æ¸²æŸ“åéƒ½æ‰§è¡Œå—ï¼Ÿ æ˜¯çš„ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒåœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“ä¹‹åå’Œæ¯æ¬¡æ›´æ–°ä¹‹åéƒ½ä¼šæ‰§è¡Œã€‚\n\nè¿™ä¸ªæ˜¯å®˜ç½‘çš„åŸè¯, ä¸éš¾ç†è§£,è¿™æ ·å°±å¯ä»¥æ¨¡æ‹Ÿå‡ºcomponentDidUpdate..ä½ å¯ä»¥åœ¨hooké‡Œé¢å†™ä½ æƒ³è¦é€»è¾‘. .\n\nç›´æ¥ä¸Šå®˜ç½‘ä»£ç \n\n```\nimport React, { useState, useEffect } from 'react';\n\nfunction Example() {\n  const [count, setCount] = useState(0);\n\n  useEffect(() => {\n    document.title = `You clicked ${count} times`;\n  });\n\n  return (\n    <div>\n      <p>You clicked {count} times</p>\n      <button onClick={() => setCount(count + 1)}>\n        Click me\n      </button>\n    </div>\n  );\n}\n```\n\nå¯ä»¥çœ‹åˆ°æ¯æ¬¡ç‚¹å‡»æŒ‰é’®, éƒ½é‡æ–°setäº†Countçš„å€¼, å› ä¸ºæ¯æ¬¡æ›´æ–°éƒ½ä¼šèµ°åˆ°useEffect(åé¢ä¼šè¯´åˆ°æ€ä¹ˆæ ·ä¸æ¯æ¬¡éƒ½è¿›å…¥useEffect ).\nä»–æ˜¯useEffectçš„é€»è¾‘æ˜¯,æ¯æ¬¡éƒ½ä¿®æ”¹`document.title`\n\nè¿™æ ·å°±æ¨¡æ‹Ÿäº†`componentDidUpdate`\n\n**componentDidMount  componentWillUnmount**\n\nuseEffectå…¶å®æœ‰ä¸¤ä¸ªå‚æ•°, ç¬¬ä¸€ä¸ªæ˜¯è°ƒç”¨å‡½æ•°, ç¬¬äºŒä¸ªæ˜¯ç›‘å¬å€¼.\n\n```\nuseEffect(\n  () => { // æˆ‘å«Aå‡½æ•°\n    const subscription = props.source.subscribe();\n    return () => {\n      subscription.unsubscribe();\n    };\n  },\n  [props.source],\n);\n```\n\nè¿™æ®µä»£ç å¯ä»¥ç†è§£ä¸º, ç¨‹åºä¸€è¿è¡Œ, å°±è°ƒç”¨äº†ä¸€æ¬¡Aå‡½æ•°,ä¹‹åæ¯æ¬¡æ¸²æŸ“è™½ç„¶éƒ½ä¼šèµ°åˆ°è¿™ä¸ªuseEffect. å› ä¸ºä»–æœ‰ç¬¬äºŒä¸ªå‚æ•°.æ‰€ä»¥åªæœ‰åœ¨ `[props.source]` å˜åŒ–çš„æ—¶å€™.æ‰ä¼šå†æ¬¡è°ƒç”¨Aå‡½æ•°.\n\næˆ‘ä»¬å¯ä»¥çµæ´»çš„è°ƒç”¨èµ·æ¥, è¿™ä¸ªå€¼å¯ä»¥æ¥è‡ªuseStateæ§åˆ¶.ä½ æƒ³ä»–å˜åŒ–çš„æ—¶å€™,ä½ å°±ç”¨useStateæ”¹å˜ä¸€ä¸‹ä»–çš„å€¼.\n\næœ€å…¸å‹çš„ä¾‹å­å°±æ˜¯, **çŸ­ä¿¡çš„å€’è®¡æ—¶**\n\né‚£æˆ‘æ€ä¹ˆæ ·æ‰å¯ä»¥ä¼˜é›…çš„è®©è¿™ä¸ªuseEffectåªè°ƒç”¨ä¸€æ¬¡.åƒcomponentDidMountå‘¢?\n\nå¯ä»¥è¿™æ ·åœ¨ç¬¬äºŒä¸ªå€¼ä¼ ä¸€ä¸ªæ§åˆ¶è¿›å».\n\n```\nuseEffect(() => {\n    const firstGet = async () => {\n      const [z, x, c] = await Promise.all([\n        requestZ(),\n        requestX(),\n        requestZ(),\n      ]);\n      // åšä½ æƒ³åšçš„äº‹æƒ…\n    };\n    firstGet();\n  }, []);\n```\n\nè¿™æ ·å°±å¯ä»¥å¾ˆä¼˜é›…çš„æ¨¡ä»¿componentDidMount.è€Œä¸éœ€è¦åœ¨åé¢æä»€ä¹ˆæ²¡äººçŸ¥é“çš„èŠ±é‡Œèƒ¡å“¨çš„å€¼.\n\né‚£æ€ä¹ˆæ ·æ‰å¯ä»¥æ¨¡ä»¿componentWillUnmountå‘¢?\n\n```\nuseEffect(() => {\n    // Specify how to clean up after this effect:\n    return function cleanup() {\n      ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);\n    };\n  }, []);\n```\n\n> ä¸ºä»€ä¹ˆè¦åœ¨ effect ä¸­è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Ÿ è¿™æ˜¯ effect å¯é€‰çš„æ¸…é™¤æœºåˆ¶ã€‚æ¯ä¸ª effect éƒ½å¯ä»¥è¿”å›ä¸€ä¸ªæ¸…é™¤å‡½æ•°ã€‚å¦‚æ­¤å¯ä»¥å°†æ·»åŠ å’Œç§»é™¤è®¢é˜…çš„é€»è¾‘æ”¾åœ¨ä¸€èµ·ã€‚å®ƒä»¬éƒ½å±äº effect çš„ä¸€éƒ¨åˆ†ã€‚\n\n> React ä½•æ—¶æ¸…é™¤ effectï¼Ÿ React ä¼šåœ¨ç»„ä»¶å¸è½½çš„æ—¶å€™æ‰§è¡Œæ¸…é™¤æ“ä½œã€‚æ­£å¦‚ä¹‹å‰å­¦åˆ°çš„ï¼Œeffect åœ¨æ¯æ¬¡æ¸²æŸ“çš„æ—¶å€™éƒ½ä¼šæ‰§è¡Œã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ React ä¼šåœ¨æ‰§è¡Œå½“å‰ effect ä¹‹å‰å¯¹ä¸Šä¸€ä¸ª effect è¿›è¡Œæ¸…é™¤ã€‚\n\nè¿™äº›éƒ½æ˜¯å®˜ç½‘çš„åŸè¯.  ä»£ç ä¸­çš„return å°±æ˜¯æ¸…é™¤..åŒæ ·çš„,åœ¨ç¬¬äºŒä¸ªå€¼æ”¾å…¥ä¸€ä¸ªç©º.è¿™æ ·å°±ä¼šå¾ˆä¼˜é›…çš„æ¸…é™¤äº†. æœ€æ˜æ˜¾å°±æ˜¯çŸ­ä¿¡å€’è®¡æ—¶çš„`setInerval`, clearä¸€ä¸‹æ‰ä¸ä¼šä¸€ç›´å ç”¨èµ„æº\n\n>æœ¬äººè‡ªåˆ›è‡ªç”¨ ä¸€ä¸ªå¥½ç”¨çš„AntDesign Formå¿«é€Ÿç”Ÿæˆå™¨\n>https://github.com/DerrickTel/ant-design-form\n>æ¬¢è¿å¤§å®¶ææ„è§,æœ¬äººä¼šä¸å®šæœŸæ›´æ–°.æœ‰æ–°çš„éœ€æ±‚éƒ½å¯ä»¥ç»™æˆ‘æissue  \n>èƒ½åŠ¨åŠ¨ä½ çš„å°æ‰‹ç‚¹ä¸ªèµå°±æ›´æ£’å•¦~","slug":"React-Hook-useState-useEffect-componentDidMount-componentDidUpdate-componentWillUnmount","published":1,"updated":"2020-04-11T11:50:40.134Z","_id":"ck8vk5p8p0021o5vm0dsyezm8","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h2><p>Hook æ˜¯ React 16.8 çš„æ–°å¢ç‰¹æ€§ã€‚å®ƒå¯ä»¥è®©ä½ åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ã€‚</p>\n<h2 id=\"ç¼˜ç”±\"><a href=\"#ç¼˜ç”±\" class=\"headerlink\" title=\"ç¼˜ç”±\"></a>ç¼˜ç”±</h2><p>Hookçš„åˆè¡·æ˜¯ä¸ºäº†è§£å†³åŸæœ¬æ— çŠ¶æ€ç»„å»ºéœ€è¦ä½¿ç”¨state, å¿…é¡»æ”¹é€ ä¸ºclassè¿™ä¸ªç—›ç‚¹.</p>\n<h2 id=\"useState\"><a href=\"#useState\" class=\"headerlink\" title=\"useState\"></a>useState</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import React, &#123; useState &#125; from &#39;react&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">function Example() &#123;</span><br><span class=\"line\">  &#x2F;&#x2F; å£°æ˜ä¸€ä¸ªå« &quot;count&quot; çš„ state å˜é‡</span><br><span class=\"line\">  const [count, setCount] &#x3D; useState(0);</span><br><span class=\"line\"></span><br><span class=\"line\">  return (</span><br><span class=\"line\">    &lt;div&gt;</span><br><span class=\"line\">      &lt;p&gt;You clicked &#123;count&#125; times&lt;&#x2F;p&gt;</span><br><span class=\"line\">      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; setCount(count + 1)&#125;&gt;</span><br><span class=\"line\">        Click me</span><br><span class=\"line\">      &lt;&#x2F;button&gt;</span><br><span class=\"line\">    &lt;&#x2F;div&gt;</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¿™ä¸ªæ˜¯å®˜æ–¹æä¾›çš„æœ€ç®€å•çš„ä¾‹å­.</p>\n<p>ä¸éš¾ç†è§£, æŒ‰é’®æ¯æ¬¡ç‚¹å‡»éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡setCount, ä»è€Œæ”¹å˜countçš„å€¼</p>\n<p>å’Œä»¥ä¸‹çš„ä¾‹å­ç­‰ä»·</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Example extends React.Component &#123;</span><br><span class=\"line\">  constructor(props) &#123;</span><br><span class=\"line\">    super(props);</span><br><span class=\"line\">    this.state &#x3D; &#123;</span><br><span class=\"line\">      count: 0</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;div&gt;</span><br><span class=\"line\">        &lt;p&gt;You clicked &#123;this.state.count&#125; times&lt;&#x2F;p&gt;</span><br><span class=\"line\">        &lt;button onClick&#x3D;&#123;() &#x3D;&gt; this.setState(&#123; count: this.state.count + 1 &#125;)&#125;&gt;</span><br><span class=\"line\">          Click me</span><br><span class=\"line\">        &lt;&#x2F;button&gt;</span><br><span class=\"line\">      &lt;&#x2F;div&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ç”¨æ³¨é‡Šæ¥è§£é‡Šå¯èƒ½æ›´å¥½ç†è§£useStateæ¯ä¸ªå‚æ•°çš„æ„ä¹‰ï¼Œç¨å¾®æ”¹é€ ä¸€ä¸‹ç¬¬ä¸€ä¸ªä¾‹å­</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import React, &#123; useState &#125; from &#39;react&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">function Example() &#123;</span><br><span class=\"line\">  &#x2F;&#x2F; å£°æ˜ä¸€ä¸ªå« &quot;count&quot; çš„ state å˜é‡</span><br><span class=\"line\">  const [</span><br><span class=\"line\">\t  count, ã€€&#x2F;&#x2F; åœ¨stateé‡Œé¢çš„åå­—</span><br><span class=\"line\">\t  setCount  &#x2F;&#x2F; æ”¹å˜è¿™ä¸ªåå­—çš„å‡½æ•°</span><br><span class=\"line\">  ] &#x3D; useState(</span><br><span class=\"line\">  \t0  &#x2F;&#x2F; åˆå€¼countçš„åˆå€¼</span><br><span class=\"line\">  );</span><br><span class=\"line\"></span><br><span class=\"line\">  return (</span><br><span class=\"line\">    &lt;div&gt;</span><br><span class=\"line\">      &lt;p&gt;You clicked &#123;count&#125; times&lt;&#x2F;p&gt;</span><br><span class=\"line\">      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; </span><br><span class=\"line\">      setCount(</span><br><span class=\"line\">      count + 1  &#x2F;&#x2F;  å‡†å¤‡æŠŠcountè¯¥æˆä»€ä¹ˆæ ·å­</span><br><span class=\"line\">      )&#125;&gt;</span><br><span class=\"line\">        Click me</span><br><span class=\"line\">      &lt;&#x2F;button&gt;</span><br><span class=\"line\">    &lt;&#x2F;div&gt;</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨ä»¥å‰classçš„å½¢å¼, æ‰€æœ‰çš„å¯å˜æ•°æ®éƒ½æ”¾åœ¨ä¸€ä¸ªstateå†…éƒ¨è¿›è¡Œç»´æŠ¤, è¿™æ ·è¿™ä¸ªstateä¼šè¶Šæ¥è¶Šå¤§â€¦è¶Šæ¥è¶Šè‡ƒè‚¿â€¦è¶Šæ¥è¶Šéš¾ä»¥ç»´æŠ¤..å¦‚æœæ²¡æœ‰æ³¨é‡Šå¯èƒ½å°±éš¾ä»¥ç†è§£â€¦è¿™æ ·å°±è¯ç”Ÿäº†<strong>Redux</strong></p>\n<p>æˆ‘æœ¬äººè®¤ä¸º, useStateå¯ä»¥ç›´æ¥è§£å†³è¿™æ ·çš„ä¸€ä¸ªç—›ç‚¹, ä¸‹é¢æ˜¯æˆ‘åœ¨æ–°é¡¹ç›®ä¸­ä½¿ç”¨<strong>hook</strong>çš„ä¾‹å­</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F; è¡¨æ ¼loading</span><br><span class=\"line\">  const [loading, setLoading] &#x3D; useState(true);</span><br><span class=\"line\"></span><br><span class=\"line\">  &#x2F;&#x2F; è¡¨æ ¼æ•°æ®</span><br><span class=\"line\">  const [listData, setListData] &#x3D; useState(&#123; list: [], total: 0 &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  &#x2F;&#x2F; å½“å‰é¡µç </span><br><span class=\"line\">  const [current, setCurrent] &#x3D; useState(0);</span><br><span class=\"line\"></span><br><span class=\"line\">  &#x2F;&#x2F; æœç´¢æ•°æ®</span><br><span class=\"line\">  const [searchData, setSearchData] &#x3D; useState(&#123;&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  &#x2F;&#x2F; åŒ»ç”ŸèŒç§°</span><br><span class=\"line\">  const [jobTitle, setJobTitle] &#x3D; useState([]);</span><br><span class=\"line\"></span><br><span class=\"line\">  &#x2F;&#x2F; ç§‘å®¤</span><br><span class=\"line\">  const [dept, setDept] &#x3D; useState([]);</span><br><span class=\"line\"></span><br><span class=\"line\">  &#x2F;&#x2F; å¼¹çª—æ˜¾éš</span><br><span class=\"line\">  const [visible, setVisible] &#x3D; useState(false);</span><br><span class=\"line\"></span><br><span class=\"line\">  &#x2F;&#x2F; å¼¹çª—æ•°æ®</span><br><span class=\"line\">  const [showData, setShowData] &#x3D; useState(&#123;&#125;);</span><br></pre></td></tr></table></figure>\n<p>å¯ä»¥å¾ˆç›´è§‚çš„çœ‹åˆ°åŸºæœ¬ä¸Šä¸€ä¸ªæ•°æ®äº«å—ä¸€ä¸ªuseStateâ€¦é…åˆæ­£ç¡®çš„æ³¨é‡Š, è°ƒç”¨æ­£ç¡®çš„æ–¹æ³•, ä½¿ä»£ç å¯è¯»æ€§å¤§å¤§å¢å¼º.</p>\n<h2 id=\"useEffect\"><a href=\"#useEffect\" class=\"headerlink\" title=\"useEffect\"></a>useEffect</h2><blockquote>\n<p>å¦‚æœä½ ç†Ÿæ‚‰ React class çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œä½ å¯ä»¥æŠŠ useEffect Hook çœ‹åš <code>componentDidMountï¼ŒcomponentDidUpdate å’Œ componentWillUnmount</code> è¿™ä¸‰ä¸ªå‡½æ•°çš„ç»„åˆã€‚</p>\n</blockquote>\n<p>è¿™å¥è¯æ¥è‡ªå®˜ç½‘çš„åŸç”».</p>\n<p>æ¥ä¸‹æ¥æˆ‘å°±ä¸ºå¤§å®¶è§£é‡ŠuseEffect</p>\n<blockquote>\n<p>useEffect ä¼šåœ¨æ¯æ¬¡æ¸²æŸ“åéƒ½æ‰§è¡Œå—ï¼Ÿ æ˜¯çš„ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒåœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“ä¹‹åå’Œæ¯æ¬¡æ›´æ–°ä¹‹åéƒ½ä¼šæ‰§è¡Œã€‚</p>\n</blockquote>\n<p>è¿™ä¸ªæ˜¯å®˜ç½‘çš„åŸè¯, ä¸éš¾ç†è§£,è¿™æ ·å°±å¯ä»¥æ¨¡æ‹Ÿå‡ºcomponentDidUpdate..ä½ å¯ä»¥åœ¨hooké‡Œé¢å†™ä½ æƒ³è¦é€»è¾‘. .</p>\n<p>ç›´æ¥ä¸Šå®˜ç½‘ä»£ç </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import React, &#123; useState, useEffect &#125; from &#39;react&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">function Example() &#123;</span><br><span class=\"line\">  const [count, setCount] &#x3D; useState(0);</span><br><span class=\"line\"></span><br><span class=\"line\">  useEffect(() &#x3D;&gt; &#123;</span><br><span class=\"line\">    document.title &#x3D; &#96;You clicked $&#123;count&#125; times&#96;;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  return (</span><br><span class=\"line\">    &lt;div&gt;</span><br><span class=\"line\">      &lt;p&gt;You clicked &#123;count&#125; times&lt;&#x2F;p&gt;</span><br><span class=\"line\">      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; setCount(count + 1)&#125;&gt;</span><br><span class=\"line\">        Click me</span><br><span class=\"line\">      &lt;&#x2F;button&gt;</span><br><span class=\"line\">    &lt;&#x2F;div&gt;</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¯ä»¥çœ‹åˆ°æ¯æ¬¡ç‚¹å‡»æŒ‰é’®, éƒ½é‡æ–°setäº†Countçš„å€¼, å› ä¸ºæ¯æ¬¡æ›´æ–°éƒ½ä¼šèµ°åˆ°useEffect(åé¢ä¼šè¯´åˆ°æ€ä¹ˆæ ·ä¸æ¯æ¬¡éƒ½è¿›å…¥useEffect ).<br>ä»–æ˜¯useEffectçš„é€»è¾‘æ˜¯,æ¯æ¬¡éƒ½ä¿®æ”¹<code>document.title</code></p>\n<p>è¿™æ ·å°±æ¨¡æ‹Ÿäº†<code>componentDidUpdate</code></p>\n<p><strong>componentDidMount  componentWillUnmount</strong></p>\n<p>useEffectå…¶å®æœ‰ä¸¤ä¸ªå‚æ•°, ç¬¬ä¸€ä¸ªæ˜¯è°ƒç”¨å‡½æ•°, ç¬¬äºŒä¸ªæ˜¯ç›‘å¬å€¼.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">useEffect(</span><br><span class=\"line\">  () &#x3D;&gt; &#123; &#x2F;&#x2F; æˆ‘å«Aå‡½æ•°</span><br><span class=\"line\">    const subscription &#x3D; props.source.subscribe();</span><br><span class=\"line\">    return () &#x3D;&gt; &#123;</span><br><span class=\"line\">      subscription.unsubscribe();</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  [props.source],</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ®µä»£ç å¯ä»¥ç†è§£ä¸º, ç¨‹åºä¸€è¿è¡Œ, å°±è°ƒç”¨äº†ä¸€æ¬¡Aå‡½æ•°,ä¹‹åæ¯æ¬¡æ¸²æŸ“è™½ç„¶éƒ½ä¼šèµ°åˆ°è¿™ä¸ªuseEffect. å› ä¸ºä»–æœ‰ç¬¬äºŒä¸ªå‚æ•°.æ‰€ä»¥åªæœ‰åœ¨ <code>[props.source]</code> å˜åŒ–çš„æ—¶å€™.æ‰ä¼šå†æ¬¡è°ƒç”¨Aå‡½æ•°.</p>\n<p>æˆ‘ä»¬å¯ä»¥çµæ´»çš„è°ƒç”¨èµ·æ¥, è¿™ä¸ªå€¼å¯ä»¥æ¥è‡ªuseStateæ§åˆ¶.ä½ æƒ³ä»–å˜åŒ–çš„æ—¶å€™,ä½ å°±ç”¨useStateæ”¹å˜ä¸€ä¸‹ä»–çš„å€¼.</p>\n<p>æœ€å…¸å‹çš„ä¾‹å­å°±æ˜¯, <strong>çŸ­ä¿¡çš„å€’è®¡æ—¶</strong></p>\n<p>é‚£æˆ‘æ€ä¹ˆæ ·æ‰å¯ä»¥ä¼˜é›…çš„è®©è¿™ä¸ªuseEffectåªè°ƒç”¨ä¸€æ¬¡.åƒcomponentDidMountå‘¢?</p>\n<p>å¯ä»¥è¿™æ ·åœ¨ç¬¬äºŒä¸ªå€¼ä¼ ä¸€ä¸ªæ§åˆ¶è¿›å».</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">useEffect(() &#x3D;&gt; &#123;</span><br><span class=\"line\">    const firstGet &#x3D; async () &#x3D;&gt; &#123;</span><br><span class=\"line\">      const [z, x, c] &#x3D; await Promise.all([</span><br><span class=\"line\">        requestZ(),</span><br><span class=\"line\">        requestX(),</span><br><span class=\"line\">        requestZ(),</span><br><span class=\"line\">      ]);</span><br><span class=\"line\">      &#x2F;&#x2F; åšä½ æƒ³åšçš„äº‹æƒ…</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    firstGet();</span><br><span class=\"line\">  &#125;, []);</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·å°±å¯ä»¥å¾ˆä¼˜é›…çš„æ¨¡ä»¿componentDidMount.è€Œä¸éœ€è¦åœ¨åé¢æä»€ä¹ˆæ²¡äººçŸ¥é“çš„èŠ±é‡Œèƒ¡å“¨çš„å€¼.</p>\n<p>é‚£æ€ä¹ˆæ ·æ‰å¯ä»¥æ¨¡ä»¿componentWillUnmountå‘¢?</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">useEffect(() &#x3D;&gt; &#123;</span><br><span class=\"line\">    &#x2F;&#x2F; Specify how to clean up after this effect:</span><br><span class=\"line\">    return function cleanup() &#123;</span><br><span class=\"line\">      ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;, []);</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä¸ºä»€ä¹ˆè¦åœ¨ effect ä¸­è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Ÿ è¿™æ˜¯ effect å¯é€‰çš„æ¸…é™¤æœºåˆ¶ã€‚æ¯ä¸ª effect éƒ½å¯ä»¥è¿”å›ä¸€ä¸ªæ¸…é™¤å‡½æ•°ã€‚å¦‚æ­¤å¯ä»¥å°†æ·»åŠ å’Œç§»é™¤è®¢é˜…çš„é€»è¾‘æ”¾åœ¨ä¸€èµ·ã€‚å®ƒä»¬éƒ½å±äº effect çš„ä¸€éƒ¨åˆ†ã€‚</p>\n</blockquote>\n<blockquote>\n<p>React ä½•æ—¶æ¸…é™¤ effectï¼Ÿ React ä¼šåœ¨ç»„ä»¶å¸è½½çš„æ—¶å€™æ‰§è¡Œæ¸…é™¤æ“ä½œã€‚æ­£å¦‚ä¹‹å‰å­¦åˆ°çš„ï¼Œeffect åœ¨æ¯æ¬¡æ¸²æŸ“çš„æ—¶å€™éƒ½ä¼šæ‰§è¡Œã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ React ä¼šåœ¨æ‰§è¡Œå½“å‰ effect ä¹‹å‰å¯¹ä¸Šä¸€ä¸ª effect è¿›è¡Œæ¸…é™¤ã€‚</p>\n</blockquote>\n<p>è¿™äº›éƒ½æ˜¯å®˜ç½‘çš„åŸè¯.  ä»£ç ä¸­çš„return å°±æ˜¯æ¸…é™¤..åŒæ ·çš„,åœ¨ç¬¬äºŒä¸ªå€¼æ”¾å…¥ä¸€ä¸ªç©º.è¿™æ ·å°±ä¼šå¾ˆä¼˜é›…çš„æ¸…é™¤äº†. æœ€æ˜æ˜¾å°±æ˜¯çŸ­ä¿¡å€’è®¡æ—¶çš„<code>setInerval</code>, clearä¸€ä¸‹æ‰ä¸ä¼šä¸€ç›´å ç”¨èµ„æº</p>\n<blockquote>\n<p>æœ¬äººè‡ªåˆ›è‡ªç”¨ ä¸€ä¸ªå¥½ç”¨çš„AntDesign Formå¿«é€Ÿç”Ÿæˆå™¨<br><a href=\"https://github.com/DerrickTel/ant-design-form\" target=\"_blank\" rel=\"noopener\">https://github.com/DerrickTel/ant-design-form</a><br>æ¬¢è¿å¤§å®¶ææ„è§,æœ¬äººä¼šä¸å®šæœŸæ›´æ–°.æœ‰æ–°çš„éœ€æ±‚éƒ½å¯ä»¥ç»™æˆ‘æissue<br>èƒ½åŠ¨åŠ¨ä½ çš„å°æ‰‹ç‚¹ä¸ªèµå°±æ›´æ£’å•¦~</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"ä»‹ç»\"><a href=\"#ä»‹ç»\" class=\"headerlink\" title=\"ä»‹ç»\"></a>ä»‹ç»</h2><p>Hook æ˜¯ React 16.8 çš„æ–°å¢ç‰¹æ€§ã€‚å®ƒå¯ä»¥è®©ä½ åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ã€‚</p>\n<h2 id=\"ç¼˜ç”±\"><a href=\"#ç¼˜ç”±\" class=\"headerlink\" title=\"ç¼˜ç”±\"></a>ç¼˜ç”±</h2><p>Hookçš„åˆè¡·æ˜¯ä¸ºäº†è§£å†³åŸæœ¬æ— çŠ¶æ€ç»„å»ºéœ€è¦ä½¿ç”¨state, å¿…é¡»æ”¹é€ ä¸ºclassè¿™ä¸ªç—›ç‚¹.</p>\n<h2 id=\"useState\"><a href=\"#useState\" class=\"headerlink\" title=\"useState\"></a>useState</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import React, &#123; useState &#125; from &#39;react&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">function Example() &#123;</span><br><span class=\"line\">  &#x2F;&#x2F; å£°æ˜ä¸€ä¸ªå« &quot;count&quot; çš„ state å˜é‡</span><br><span class=\"line\">  const [count, setCount] &#x3D; useState(0);</span><br><span class=\"line\"></span><br><span class=\"line\">  return (</span><br><span class=\"line\">    &lt;div&gt;</span><br><span class=\"line\">      &lt;p&gt;You clicked &#123;count&#125; times&lt;&#x2F;p&gt;</span><br><span class=\"line\">      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; setCount(count + 1)&#125;&gt;</span><br><span class=\"line\">        Click me</span><br><span class=\"line\">      &lt;&#x2F;button&gt;</span><br><span class=\"line\">    &lt;&#x2F;div&gt;</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¿™ä¸ªæ˜¯å®˜æ–¹æä¾›çš„æœ€ç®€å•çš„ä¾‹å­.</p>\n<p>ä¸éš¾ç†è§£, æŒ‰é’®æ¯æ¬¡ç‚¹å‡»éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡setCount, ä»è€Œæ”¹å˜countçš„å€¼</p>\n<p>å’Œä»¥ä¸‹çš„ä¾‹å­ç­‰ä»·</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Example extends React.Component &#123;</span><br><span class=\"line\">  constructor(props) &#123;</span><br><span class=\"line\">    super(props);</span><br><span class=\"line\">    this.state &#x3D; &#123;</span><br><span class=\"line\">      count: 0</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    return (</span><br><span class=\"line\">      &lt;div&gt;</span><br><span class=\"line\">        &lt;p&gt;You clicked &#123;this.state.count&#125; times&lt;&#x2F;p&gt;</span><br><span class=\"line\">        &lt;button onClick&#x3D;&#123;() &#x3D;&gt; this.setState(&#123; count: this.state.count + 1 &#125;)&#125;&gt;</span><br><span class=\"line\">          Click me</span><br><span class=\"line\">        &lt;&#x2F;button&gt;</span><br><span class=\"line\">      &lt;&#x2F;div&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ç”¨æ³¨é‡Šæ¥è§£é‡Šå¯èƒ½æ›´å¥½ç†è§£useStateæ¯ä¸ªå‚æ•°çš„æ„ä¹‰ï¼Œç¨å¾®æ”¹é€ ä¸€ä¸‹ç¬¬ä¸€ä¸ªä¾‹å­</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import React, &#123; useState &#125; from &#39;react&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">function Example() &#123;</span><br><span class=\"line\">  &#x2F;&#x2F; å£°æ˜ä¸€ä¸ªå« &quot;count&quot; çš„ state å˜é‡</span><br><span class=\"line\">  const [</span><br><span class=\"line\">\t  count, ã€€&#x2F;&#x2F; åœ¨stateé‡Œé¢çš„åå­—</span><br><span class=\"line\">\t  setCount  &#x2F;&#x2F; æ”¹å˜è¿™ä¸ªåå­—çš„å‡½æ•°</span><br><span class=\"line\">  ] &#x3D; useState(</span><br><span class=\"line\">  \t0  &#x2F;&#x2F; åˆå€¼countçš„åˆå€¼</span><br><span class=\"line\">  );</span><br><span class=\"line\"></span><br><span class=\"line\">  return (</span><br><span class=\"line\">    &lt;div&gt;</span><br><span class=\"line\">      &lt;p&gt;You clicked &#123;count&#125; times&lt;&#x2F;p&gt;</span><br><span class=\"line\">      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; </span><br><span class=\"line\">      setCount(</span><br><span class=\"line\">      count + 1  &#x2F;&#x2F;  å‡†å¤‡æŠŠcountè¯¥æˆä»€ä¹ˆæ ·å­</span><br><span class=\"line\">      )&#125;&gt;</span><br><span class=\"line\">        Click me</span><br><span class=\"line\">      &lt;&#x2F;button&gt;</span><br><span class=\"line\">    &lt;&#x2F;div&gt;</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨ä»¥å‰classçš„å½¢å¼, æ‰€æœ‰çš„å¯å˜æ•°æ®éƒ½æ”¾åœ¨ä¸€ä¸ªstateå†…éƒ¨è¿›è¡Œç»´æŠ¤, è¿™æ ·è¿™ä¸ªstateä¼šè¶Šæ¥è¶Šå¤§â€¦è¶Šæ¥è¶Šè‡ƒè‚¿â€¦è¶Šæ¥è¶Šéš¾ä»¥ç»´æŠ¤..å¦‚æœæ²¡æœ‰æ³¨é‡Šå¯èƒ½å°±éš¾ä»¥ç†è§£â€¦è¿™æ ·å°±è¯ç”Ÿäº†<strong>Redux</strong></p>\n<p>æˆ‘æœ¬äººè®¤ä¸º, useStateå¯ä»¥ç›´æ¥è§£å†³è¿™æ ·çš„ä¸€ä¸ªç—›ç‚¹, ä¸‹é¢æ˜¯æˆ‘åœ¨æ–°é¡¹ç›®ä¸­ä½¿ç”¨<strong>hook</strong>çš„ä¾‹å­</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F; è¡¨æ ¼loading</span><br><span class=\"line\">  const [loading, setLoading] &#x3D; useState(true);</span><br><span class=\"line\"></span><br><span class=\"line\">  &#x2F;&#x2F; è¡¨æ ¼æ•°æ®</span><br><span class=\"line\">  const [listData, setListData] &#x3D; useState(&#123; list: [], total: 0 &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  &#x2F;&#x2F; å½“å‰é¡µç </span><br><span class=\"line\">  const [current, setCurrent] &#x3D; useState(0);</span><br><span class=\"line\"></span><br><span class=\"line\">  &#x2F;&#x2F; æœç´¢æ•°æ®</span><br><span class=\"line\">  const [searchData, setSearchData] &#x3D; useState(&#123;&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  &#x2F;&#x2F; åŒ»ç”ŸèŒç§°</span><br><span class=\"line\">  const [jobTitle, setJobTitle] &#x3D; useState([]);</span><br><span class=\"line\"></span><br><span class=\"line\">  &#x2F;&#x2F; ç§‘å®¤</span><br><span class=\"line\">  const [dept, setDept] &#x3D; useState([]);</span><br><span class=\"line\"></span><br><span class=\"line\">  &#x2F;&#x2F; å¼¹çª—æ˜¾éš</span><br><span class=\"line\">  const [visible, setVisible] &#x3D; useState(false);</span><br><span class=\"line\"></span><br><span class=\"line\">  &#x2F;&#x2F; å¼¹çª—æ•°æ®</span><br><span class=\"line\">  const [showData, setShowData] &#x3D; useState(&#123;&#125;);</span><br></pre></td></tr></table></figure>\n<p>å¯ä»¥å¾ˆç›´è§‚çš„çœ‹åˆ°åŸºæœ¬ä¸Šä¸€ä¸ªæ•°æ®äº«å—ä¸€ä¸ªuseStateâ€¦é…åˆæ­£ç¡®çš„æ³¨é‡Š, è°ƒç”¨æ­£ç¡®çš„æ–¹æ³•, ä½¿ä»£ç å¯è¯»æ€§å¤§å¤§å¢å¼º.</p>\n<h2 id=\"useEffect\"><a href=\"#useEffect\" class=\"headerlink\" title=\"useEffect\"></a>useEffect</h2><blockquote>\n<p>å¦‚æœä½ ç†Ÿæ‚‰ React class çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œä½ å¯ä»¥æŠŠ useEffect Hook çœ‹åš <code>componentDidMountï¼ŒcomponentDidUpdate å’Œ componentWillUnmount</code> è¿™ä¸‰ä¸ªå‡½æ•°çš„ç»„åˆã€‚</p>\n</blockquote>\n<p>è¿™å¥è¯æ¥è‡ªå®˜ç½‘çš„åŸç”».</p>\n<p>æ¥ä¸‹æ¥æˆ‘å°±ä¸ºå¤§å®¶è§£é‡ŠuseEffect</p>\n<blockquote>\n<p>useEffect ä¼šåœ¨æ¯æ¬¡æ¸²æŸ“åéƒ½æ‰§è¡Œå—ï¼Ÿ æ˜¯çš„ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒåœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“ä¹‹åå’Œæ¯æ¬¡æ›´æ–°ä¹‹åéƒ½ä¼šæ‰§è¡Œã€‚</p>\n</blockquote>\n<p>è¿™ä¸ªæ˜¯å®˜ç½‘çš„åŸè¯, ä¸éš¾ç†è§£,è¿™æ ·å°±å¯ä»¥æ¨¡æ‹Ÿå‡ºcomponentDidUpdate..ä½ å¯ä»¥åœ¨hooké‡Œé¢å†™ä½ æƒ³è¦é€»è¾‘. .</p>\n<p>ç›´æ¥ä¸Šå®˜ç½‘ä»£ç </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import React, &#123; useState, useEffect &#125; from &#39;react&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">function Example() &#123;</span><br><span class=\"line\">  const [count, setCount] &#x3D; useState(0);</span><br><span class=\"line\"></span><br><span class=\"line\">  useEffect(() &#x3D;&gt; &#123;</span><br><span class=\"line\">    document.title &#x3D; &#96;You clicked $&#123;count&#125; times&#96;;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  return (</span><br><span class=\"line\">    &lt;div&gt;</span><br><span class=\"line\">      &lt;p&gt;You clicked &#123;count&#125; times&lt;&#x2F;p&gt;</span><br><span class=\"line\">      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; setCount(count + 1)&#125;&gt;</span><br><span class=\"line\">        Click me</span><br><span class=\"line\">      &lt;&#x2F;button&gt;</span><br><span class=\"line\">    &lt;&#x2F;div&gt;</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¯ä»¥çœ‹åˆ°æ¯æ¬¡ç‚¹å‡»æŒ‰é’®, éƒ½é‡æ–°setäº†Countçš„å€¼, å› ä¸ºæ¯æ¬¡æ›´æ–°éƒ½ä¼šèµ°åˆ°useEffect(åé¢ä¼šè¯´åˆ°æ€ä¹ˆæ ·ä¸æ¯æ¬¡éƒ½è¿›å…¥useEffect ).<br>ä»–æ˜¯useEffectçš„é€»è¾‘æ˜¯,æ¯æ¬¡éƒ½ä¿®æ”¹<code>document.title</code></p>\n<p>è¿™æ ·å°±æ¨¡æ‹Ÿäº†<code>componentDidUpdate</code></p>\n<p><strong>componentDidMount  componentWillUnmount</strong></p>\n<p>useEffectå…¶å®æœ‰ä¸¤ä¸ªå‚æ•°, ç¬¬ä¸€ä¸ªæ˜¯è°ƒç”¨å‡½æ•°, ç¬¬äºŒä¸ªæ˜¯ç›‘å¬å€¼.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">useEffect(</span><br><span class=\"line\">  () &#x3D;&gt; &#123; &#x2F;&#x2F; æˆ‘å«Aå‡½æ•°</span><br><span class=\"line\">    const subscription &#x3D; props.source.subscribe();</span><br><span class=\"line\">    return () &#x3D;&gt; &#123;</span><br><span class=\"line\">      subscription.unsubscribe();</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  [props.source],</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ®µä»£ç å¯ä»¥ç†è§£ä¸º, ç¨‹åºä¸€è¿è¡Œ, å°±è°ƒç”¨äº†ä¸€æ¬¡Aå‡½æ•°,ä¹‹åæ¯æ¬¡æ¸²æŸ“è™½ç„¶éƒ½ä¼šèµ°åˆ°è¿™ä¸ªuseEffect. å› ä¸ºä»–æœ‰ç¬¬äºŒä¸ªå‚æ•°.æ‰€ä»¥åªæœ‰åœ¨ <code>[props.source]</code> å˜åŒ–çš„æ—¶å€™.æ‰ä¼šå†æ¬¡è°ƒç”¨Aå‡½æ•°.</p>\n<p>æˆ‘ä»¬å¯ä»¥çµæ´»çš„è°ƒç”¨èµ·æ¥, è¿™ä¸ªå€¼å¯ä»¥æ¥è‡ªuseStateæ§åˆ¶.ä½ æƒ³ä»–å˜åŒ–çš„æ—¶å€™,ä½ å°±ç”¨useStateæ”¹å˜ä¸€ä¸‹ä»–çš„å€¼.</p>\n<p>æœ€å…¸å‹çš„ä¾‹å­å°±æ˜¯, <strong>çŸ­ä¿¡çš„å€’è®¡æ—¶</strong></p>\n<p>é‚£æˆ‘æ€ä¹ˆæ ·æ‰å¯ä»¥ä¼˜é›…çš„è®©è¿™ä¸ªuseEffectåªè°ƒç”¨ä¸€æ¬¡.åƒcomponentDidMountå‘¢?</p>\n<p>å¯ä»¥è¿™æ ·åœ¨ç¬¬äºŒä¸ªå€¼ä¼ ä¸€ä¸ªæ§åˆ¶è¿›å».</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">useEffect(() &#x3D;&gt; &#123;</span><br><span class=\"line\">    const firstGet &#x3D; async () &#x3D;&gt; &#123;</span><br><span class=\"line\">      const [z, x, c] &#x3D; await Promise.all([</span><br><span class=\"line\">        requestZ(),</span><br><span class=\"line\">        requestX(),</span><br><span class=\"line\">        requestZ(),</span><br><span class=\"line\">      ]);</span><br><span class=\"line\">      &#x2F;&#x2F; åšä½ æƒ³åšçš„äº‹æƒ…</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    firstGet();</span><br><span class=\"line\">  &#125;, []);</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·å°±å¯ä»¥å¾ˆä¼˜é›…çš„æ¨¡ä»¿componentDidMount.è€Œä¸éœ€è¦åœ¨åé¢æä»€ä¹ˆæ²¡äººçŸ¥é“çš„èŠ±é‡Œèƒ¡å“¨çš„å€¼.</p>\n<p>é‚£æ€ä¹ˆæ ·æ‰å¯ä»¥æ¨¡ä»¿componentWillUnmountå‘¢?</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">useEffect(() &#x3D;&gt; &#123;</span><br><span class=\"line\">    &#x2F;&#x2F; Specify how to clean up after this effect:</span><br><span class=\"line\">    return function cleanup() &#123;</span><br><span class=\"line\">      ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;, []);</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä¸ºä»€ä¹ˆè¦åœ¨ effect ä¸­è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Ÿ è¿™æ˜¯ effect å¯é€‰çš„æ¸…é™¤æœºåˆ¶ã€‚æ¯ä¸ª effect éƒ½å¯ä»¥è¿”å›ä¸€ä¸ªæ¸…é™¤å‡½æ•°ã€‚å¦‚æ­¤å¯ä»¥å°†æ·»åŠ å’Œç§»é™¤è®¢é˜…çš„é€»è¾‘æ”¾åœ¨ä¸€èµ·ã€‚å®ƒä»¬éƒ½å±äº effect çš„ä¸€éƒ¨åˆ†ã€‚</p>\n</blockquote>\n<blockquote>\n<p>React ä½•æ—¶æ¸…é™¤ effectï¼Ÿ React ä¼šåœ¨ç»„ä»¶å¸è½½çš„æ—¶å€™æ‰§è¡Œæ¸…é™¤æ“ä½œã€‚æ­£å¦‚ä¹‹å‰å­¦åˆ°çš„ï¼Œeffect åœ¨æ¯æ¬¡æ¸²æŸ“çš„æ—¶å€™éƒ½ä¼šæ‰§è¡Œã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ React ä¼šåœ¨æ‰§è¡Œå½“å‰ effect ä¹‹å‰å¯¹ä¸Šä¸€ä¸ª effect è¿›è¡Œæ¸…é™¤ã€‚</p>\n</blockquote>\n<p>è¿™äº›éƒ½æ˜¯å®˜ç½‘çš„åŸè¯.  ä»£ç ä¸­çš„return å°±æ˜¯æ¸…é™¤..åŒæ ·çš„,åœ¨ç¬¬äºŒä¸ªå€¼æ”¾å…¥ä¸€ä¸ªç©º.è¿™æ ·å°±ä¼šå¾ˆä¼˜é›…çš„æ¸…é™¤äº†. æœ€æ˜æ˜¾å°±æ˜¯çŸ­ä¿¡å€’è®¡æ—¶çš„<code>setInerval</code>, clearä¸€ä¸‹æ‰ä¸ä¼šä¸€ç›´å ç”¨èµ„æº</p>\n<blockquote>\n<p>æœ¬äººè‡ªåˆ›è‡ªç”¨ ä¸€ä¸ªå¥½ç”¨çš„AntDesign Formå¿«é€Ÿç”Ÿæˆå™¨<br><a href=\"https://github.com/DerrickTel/ant-design-form\" target=\"_blank\" rel=\"noopener\">https://github.com/DerrickTel/ant-design-form</a><br>æ¬¢è¿å¤§å®¶ææ„è§,æœ¬äººä¼šä¸å®šæœŸæ›´æ–°.æœ‰æ–°çš„éœ€æ±‚éƒ½å¯ä»¥ç»™æˆ‘æissue<br>èƒ½åŠ¨åŠ¨ä½ çš„å°æ‰‹ç‚¹ä¸ªèµå°±æ›´æ£’å•¦~</p>\n</blockquote>\n"},{"title":"sessionå’Œcookieçš„ç†è§£","date":"2020-04-11T02:31:35.000Z","cover":"/images/http.png","_content":"\n\n## æ›¾ç»çš„æˆ‘\n\ncookieæ˜¯æµè§ˆå™¨ä¸­ä¼ è¾“è‡ªå¸¦çš„; balabala...\n\nsessionæ˜¯å­˜åœ¨æœåŠ¡ç«¯çš„; å­˜ä¸€äº›ç”¨æˆ·ä¿¡æ¯.......balabala....\n\n## ç°åœ¨çš„æˆ‘\n\nä»ä»¥ä¸‹å‡ ä¸ªè§’åº¦å‡ºå‘\n\n### ä¸€. httpåè®®æ˜¯æ— çŠ¶æ€çš„;\n\nå½“æˆ‘ä»¬å¼€å‘ä¸€äº›å¯¹çŠ¶æ€æœ‰è¦æ±‚çš„æ¥å£æ—¶, cookieå’Œsessionå°±å¯ä»¥å¼¥è¡¥è¿™ä¸€å—çš„ä¸è¶³\n\n- å¯¹äºhttpåè®®, cookieåªæ˜¯è¯·æ±‚å¤´ä¸­çš„ä¸€ä¸ªå­—æ®µ, å’Œåˆ«çš„å­—æ®µå¹¶æ²¡æœ‰ç‰¹åˆ«å¤§çš„å·®åˆ«;\n- æµè§ˆå™¨å¯¹cookieåšäº†é»˜è®¤çš„æ”¯æŒ, ä½†æ˜¯ä¹Ÿé™åˆ¶äº†cookie; æ¯”å¦‚åŒæºç­–ç•¥;\n  - ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥?\n    - åŒæºç­–ç•¥å°±æ˜¯åŸŸå, ç«¯å£, åè®®; å¿…é¡»éƒ½ç›¸åŒæ‰å¯ä»¥è®¿é—®cookieçš„å†…å®¹\n  - ä¸ºä»€ä¹ˆè¦åšåŒæºç­–ç•¥?\n    - åŒæºç­–ç•¥æ˜¯æµè§ˆå™¨åŸºäºå®‰å…¨çš„è§’åº¦çš„ä¸€ä¸ªæœºåˆ¶, é™åˆ¶äº†åªæœ‰åŒåŸŸæ‰å¯ä»¥è®¿é—®cookieçš„å†…å®¹\n\n### äºŒ.å½“æˆ‘ä»¬è¦åšå•ç‚¹ç™»å½•ssoåŠŸèƒ½çš„æ—¶å€™\n\n- ä»€ä¹ˆæ˜¯å•ç‚¹ç™»å½•å’Œsso?\n  - å•ç‚¹ç™»å½•ï¼ˆSingle Sign Onï¼‰ï¼Œç®€ç§°ä¸º SSOï¼Œæ˜¯æ¯”è¾ƒæµè¡Œçš„ä¼ä¸šä¸šåŠ¡æ•´åˆçš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€ã€‚\n  - æœ€ç®€å•çš„ä¾‹å­å°±æ˜¯, æˆ‘ä»¬æ˜¯æ‰“å¼€æ·˜å®ç½‘çš„æ—¶å€™, æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªå•†å“è¯¦æƒ…é¡µæœ‰å¯èƒ½æ˜¯æ˜¯é‡æ–°æ‰“å¼€ä¸€ä¸ªé¡µé¢, é‚£æˆ‘ä»¬åˆšåˆšç™»å½•çš„ä¿¡æ¯å¯èƒ½å°±æ¶ˆå¤±äº†, è¦æ˜¯æ¯æ¬¡æ‰“å¼€ä¸€ä¸ªé¡µé¢éƒ½éœ€è¦ç™»å½•é‚£æ ·ä¼šéå¸¸çš„éº»çƒ¦\n    - è¿™æ ·æ—¶å€™, å°±éœ€è¦cookieçš„å¸®åŠ©äº†;æˆ‘ä»¬å¯ä»¥è€ƒè™‘å§åŸŸåç§åœ¨å¯ä»¥è®¿é—®çš„åŸŸåä¸‹, é€šå¸¸éƒ½æ˜¯äºŒçº§åŸŸå\n      - ä»€ä¹ˆæ˜¯ä¸€çº§, äºŒçº§, ä¸‰çº§....åŸŸå?\n      - ä¸¾ä¾‹: www.taobao.com\n        - ä¸€çº§åŸŸåæ˜¯æŒ‡com(åˆç§°é¡¶çº§åŸŸå; [ç»´åŸºç™¾ç§‘, ç‚¹æˆ‘!!](https://zh.wikipedia.org/wiki/åŸŸå)\n        - äºŒçº§åŸŸåå°±æ˜¯taobao\n        - æ‰€ä»¥ä¸‰çº§åŸŸåå°±æ˜¯www\n    - è¿™æ ·æˆ‘ä»¬åœ¨æ·˜å®è¿™ä¸ªåŸŸååº•ä¸‹çš„æ‰€æœ‰é¡µé¢éƒ½å¯ä»¥ç•…é€šæ— é˜»\n    - ä½†æ˜¯ä¹Ÿä¼šé¢ä¸´ä¿¡æ¯æ³„éœ²çš„å±é™©\n      - è™½ç„¶å¯ä»¥ç”¨æ—¶æ•ˆæ¥é™åˆ¶ä½†æ˜¯æ•ˆæœä¹Ÿä¸æ˜¯å¾ˆå¥½\n      - **Secure Cookieæœºåˆ¶**\n        - è®¾ç½®äº†cookieåªèƒ½åœ¨httpsä¸Šé¢ä¼ è¾“ä¸èƒ½åœ¨httpä¸Šä¼ è¾“\n        - ä½†æ˜¯ä¹Ÿä¸æ˜¯ä¸‡æ— ä¸€å¤±, å› ä¸ºè¿˜æ˜¯å¯ä»¥åœ¨å®¢æˆ·ç«¯, è¿›è¡Œè¯»å†™çš„;\n      - **HTTPOnlyå±æ€§**\n        - Cookieçš„HttpOnlyå±æ€§ï¼ŒæŒ‡æµè§ˆå™¨ä¸è¦åœ¨é™¤HTTPï¼ˆå’Œ HTTPS)è¯·æ±‚ä¹‹å¤–æš´éœ²Cookieã€‚\n        - è¿™æ ·å¯ä»¥é˜»æ­¢éhttpçš„æ”»å‡», å¦‚JavaScript\n      - **Same-Siteå±æ€§**\n        - Cookie çš„`SameSite`å±æ€§ç”¨æ¥é™åˆ¶ç¬¬ä¸‰æ–¹ Cookieï¼Œä»è€Œå‡å°‘å®‰å…¨é£é™©ã€‚\n          - ä¸»è¦æ˜¯ä¸ºäº†é™åˆ¶CSRFæ”»å‡»\n            - ä»€ä¹ˆæ˜¯CSRFæ”»å‡»?\n              - è·¨ç«™è¯·æ±‚æ”»å‡»ï¼Œç®€å•åœ°è¯´ï¼Œæ˜¯æ”»å‡»è€…é€šè¿‡ä¸€äº›æŠ€æœ¯æ‰‹æ®µæ¬ºéª—ç”¨æˆ·çš„æµè§ˆå™¨å»è®¿é—®ä¸€ä¸ªè‡ªå·±æ›¾ç»è®¤è¯è¿‡çš„ç½‘ç«™å¹¶è¿è¡Œä¸€äº›æ“ä½œï¼ˆå¦‚å‘é‚®ä»¶ï¼Œå‘æ¶ˆæ¯ï¼Œç”šè‡³è´¢äº§æ“ä½œå¦‚è½¬è´¦å’Œè´­ä¹°å•†å“ï¼‰ã€‚\n            - è¿˜å¯ä»¥ç”¨äºè·Ÿè¸ªç”¨æˆ·ä¿¡æ¯, æ¯”å¦‚åœ¨ä½ çš„ç½‘ç«™å†…éƒ¨æ”¾å…¥ä¸€ä¸ªä½ çœ‹ä¸è§çš„\n            - `<img src=\"facebook.com\" style=\"visibility:hidden;\">`\n            - è¿™æ ·å°±å¯ä»¥çŸ¥é“ä½ è®¿é—®äº†é‚£äº›ç½‘ç«™åšä¸€äº›ç›¸åº”çš„æ¨è\n            - é‚£ä¹ˆæœ‰äº›åŒå­¦å°±ä¼šè”æƒ³åˆ°; æ¯”å¦‚æˆ‘åœ¨æ‹¼å¤šå¤šçœ‹äº†iPhone11; å†å»çœ‹æœ‹å‹åœˆå¾ˆå¯èƒ½æœ‰å°±ç›¸åº”çš„æ¨è, è¿™äº›æˆ‘ä¸ªäººçŒœæµ‹å¯èƒ½æ˜¯pddç›´æ¥æŠŠä½ çš„ä¿¡æ¯å–ç»™äº†è…¾è®¯, æˆ–è€…åšäº†äº¤æ˜“(é€ƒ\n          - å…·ä½“çš„ä¸‰ä¸ªå€¼Strict; Lax; None;æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è‡ªå·±å»æŸ¥è¿™é‡Œå°±ä¸å±•å¼€äº†\n      - cookieåˆåˆ†ä¸ºæœ¬åœ°cookieå’Œå†…å­˜cookie\n        - æœ¬åœ°cookieä¸å†…å­˜cookieï¼ŒåŒºåˆ«åœ¨äºcookieè®¾ç½®çš„expireså­—æ®µã€‚å¦‚æœæ²¡æœ‰è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œå°±æ˜¯å†…å­˜cookieã€‚éšç€æµè§ˆå™¨çš„å…³é—­è€Œä»å†…å­˜ä¸­æ¶ˆå¤±ã€‚\n        - è¿˜æ˜¯ä¸€æ ·éƒ½ä¼šæ³„éœ²ç”¨æˆ·ä¿¡æ¯çš„é£é™©\n        - å“ªæ€•æ˜¯å†…å­˜cookieæ”»å‡»è€…å¯ä»¥è®¾ç½®æ—¶æ•ˆä½¿å…¶æˆä¸ºæœ¬åœ°cookie\n\n### ä¸‰.session\n\nsessionæ˜¯æœåŠ¡å™¨ä¸ºwebç”¨æˆ·ç‹¬ç«‹å¼€è¾Ÿçš„ä¸€ä¸ªç©ºé—´, é‡Œé¢å¯ä»¥æœ‰ç”¨æˆ·ä¸€äº›ä¿¡æ¯ç­‰ç­‰\n\n- å¦‚æœæ˜¯ä¸€ä¸ªæœåŠ¡å™¨å¯èƒ½è¿˜å¥½, ä½†æ˜¯å¦‚æœæ˜¯å¤šä¸ªæœåŠ¡å™¨æˆ–è€…è¯´å¤šå±‚è½¬å‘çš„è¯å°±ä¼šå¼•å‘ä¸€ä¸ªé—®é¢˜, sessionå‘½ä¸­é—®é¢˜; æ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠä¿¡æ¯å­˜åœ¨MySQLæˆ–è€…Redisé‡Œé¢\n\n### å››.token\n\né™¤äº†sessionå’Œcookieæ¥è¾…åŠ©httpè¿™ä¸ªæ— çŠ¶æ€è¯·æ±‚, è¿˜æœ‰ä»€ä¹ˆåŠæ³•? \n\n- token\n  - tokenåˆ†ä¸ºå¾ˆå¤šç§, å¸¸è§çš„æœ‰JWT, sessionId, macåœ°å€ç­‰ç­‰\n  - tokenå¯ä»¥å­˜å‚¨åœ¨å¾ˆå¤šåœ°æ–¹, æ¯”å¦‚æœ¬åœ°çš„localStorageæˆ–è€…sessionStorage, ç„¶ååœ¨è¯·æ±‚å¤´ä¸­æºå¸¦\n\n### äº”.sessionStorage\n\nåˆšåˆšè¯´åˆ°sessionStorage; ä¸‹é¢æ¥è¯´è¯´æˆ‘ç¢°åˆ°çš„ä¸€ä¸ªé—®é¢˜\n\n- sessionStorageå¦‚æœæ‰“å¼€ä¸€ä¸ªæ–°æ ‡ç­¾é¡µ, ä»–çš„sessionStorageæ˜¯å¦å…±äº«?\n- å¤§å®¶å…ˆæƒ³æƒ³å†çœ‹ç­”æ¡ˆ\n\nä»¥å‰çš„æˆ‘ä»¥ä¸ºæ˜¯å¯ä»¥å…±äº«çš„.å…¶å®æ˜¯åŠé”™åŠå¯¹çš„\n\nä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´?\n\nMDNæ˜¯è¿™ä¹ˆè¯´çš„\n\n> ...data stored in sessionStorage gets cleared when the page session ends...**Opening a page in a new tab or window will cause a new session to be initiated**, which differs from how session cookies work.\n\nå¤§å®¶å¯ä»¥åšä¸€ä¸ªå®éªŒ\n\n>1. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€è¿™ä¸ª index.htmlï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ ‡ç­¾é¡µ Aã€‚æ³¨æ„ï¼šéœ€è¦ç”¨ http åè®®æ‰“å¼€ï¼ä¾‹å¦‚ http://localhost/index.html\n>2. ç‚¹å‡»é¡µé¢ä¸Šçš„é“¾æ¥ï¼Œæ­¤æ—¶ä¼šå¼¹å‡ºæ¥æ ‡ç­¾é¡µ Bã€‚\n>3. åœ¨æ ‡ç­¾é¡µ B ä¸­æ‰“å¼€æ§åˆ¶å°å¹¶æ‰§è¡Œ `sessionStorage.getItem('j')`ï¼Œå¾—åˆ° `'s'`\n>4. æ–°å»ºä¸€ä¸ªæ–°æ ‡ç­¾é¡µ Dï¼Œç„¶ååœ¨åœ°å€æ å†…è¾“å…¥ http://localhost/index.html æ‰“å¼€åŒæ ·çš„é¡µé¢ï¼Œ ç„¶åæ‰§è¡Œ `sessionStorage.getItem('j')` ã€‚\n\næŒ‰ç…§æˆ‘çš„é¢„æœŸï¼Œæ ‡ç­¾é¡µ D å¾—åˆ°çš„åº”è¯¥è¿˜æ˜¯ `'s'`ï¼Œæ¯•ç«Ÿæˆ‘è®¤ä¸º sessionStorage çš„æ•°æ®æ˜¯åœ¨åŒä¸€ç½‘ç«™çš„å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´å…±äº«çš„ã€‚ä½†æ˜¯**æˆ‘é”™äº†**ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯ `null`ã€‚\n\nç»†å¿ƒçš„åŒå­¦å¯èƒ½å·²ç»å‘ç°äº†\n\nç»†å¿ƒçš„åŒå­¦å¯èƒ½å·²ç»å‘ç°äº†ï¼Œæ ‡ç­¾é¡µ B å’Œæ ‡ç­¾é¡µ D ä¹‹é—´å”¯ä¸€çš„ä¸åŒå°±æ˜¯å®ƒä»¬è¢«æ‰“å¼€çš„æ–¹å¼ï¼š**æ ‡ç­¾é¡µ B æ˜¯é€šè¿‡åœ¨æ ‡ç­¾é¡µ A ä¸­ç‚¹å‡»é“¾æ¥æ‰“å¼€çš„ï¼Œä½†æ ‡ç­¾é¡µ D æ˜¯åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥åœ°å€æ‰“å¼€çš„ã€‚**\n\næ‰€ä»¥ç°åœ¨æˆ‘æ˜ç™½äº†ï¼šé€šè¿‡ç‚¹å‡»é“¾æ¥ï¼ˆæˆ–è€…ç”¨äº† `window.open`ï¼‰æ‰“å¼€çš„æ–°æ ‡ç­¾é¡µä¹‹é—´æ˜¯å±äºåŒä¸€ä¸ª session çš„ï¼Œä½†æ–°å¼€ä¸€ä¸ªæ ‡ç­¾é¡µæ€»æ˜¯ä¼šåˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ sessionï¼Œå³ä½¿ç½‘ç«™æ˜¯ä¸€æ ·çš„ï¼Œå®ƒä»¬ä¹Ÿä¸å±äºåŒä¸€ä¸ª sessionã€‚\n\n","source":"_posts/sessionå’Œcookieçš„ç†è§£.md","raw":"---\ntitle: sessionå’Œcookieçš„ç†è§£\ndate: 2020-04-11 10:31:35\ntags: [HTTP]\ncategories: [HTTP]\ncover: /images/http.png\n\n---\n\n\n## æ›¾ç»çš„æˆ‘\n\ncookieæ˜¯æµè§ˆå™¨ä¸­ä¼ è¾“è‡ªå¸¦çš„; balabala...\n\nsessionæ˜¯å­˜åœ¨æœåŠ¡ç«¯çš„; å­˜ä¸€äº›ç”¨æˆ·ä¿¡æ¯.......balabala....\n\n## ç°åœ¨çš„æˆ‘\n\nä»ä»¥ä¸‹å‡ ä¸ªè§’åº¦å‡ºå‘\n\n### ä¸€. httpåè®®æ˜¯æ— çŠ¶æ€çš„;\n\nå½“æˆ‘ä»¬å¼€å‘ä¸€äº›å¯¹çŠ¶æ€æœ‰è¦æ±‚çš„æ¥å£æ—¶, cookieå’Œsessionå°±å¯ä»¥å¼¥è¡¥è¿™ä¸€å—çš„ä¸è¶³\n\n- å¯¹äºhttpåè®®, cookieåªæ˜¯è¯·æ±‚å¤´ä¸­çš„ä¸€ä¸ªå­—æ®µ, å’Œåˆ«çš„å­—æ®µå¹¶æ²¡æœ‰ç‰¹åˆ«å¤§çš„å·®åˆ«;\n- æµè§ˆå™¨å¯¹cookieåšäº†é»˜è®¤çš„æ”¯æŒ, ä½†æ˜¯ä¹Ÿé™åˆ¶äº†cookie; æ¯”å¦‚åŒæºç­–ç•¥;\n  - ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥?\n    - åŒæºç­–ç•¥å°±æ˜¯åŸŸå, ç«¯å£, åè®®; å¿…é¡»éƒ½ç›¸åŒæ‰å¯ä»¥è®¿é—®cookieçš„å†…å®¹\n  - ä¸ºä»€ä¹ˆè¦åšåŒæºç­–ç•¥?\n    - åŒæºç­–ç•¥æ˜¯æµè§ˆå™¨åŸºäºå®‰å…¨çš„è§’åº¦çš„ä¸€ä¸ªæœºåˆ¶, é™åˆ¶äº†åªæœ‰åŒåŸŸæ‰å¯ä»¥è®¿é—®cookieçš„å†…å®¹\n\n### äºŒ.å½“æˆ‘ä»¬è¦åšå•ç‚¹ç™»å½•ssoåŠŸèƒ½çš„æ—¶å€™\n\n- ä»€ä¹ˆæ˜¯å•ç‚¹ç™»å½•å’Œsso?\n  - å•ç‚¹ç™»å½•ï¼ˆSingle Sign Onï¼‰ï¼Œç®€ç§°ä¸º SSOï¼Œæ˜¯æ¯”è¾ƒæµè¡Œçš„ä¼ä¸šä¸šåŠ¡æ•´åˆçš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€ã€‚\n  - æœ€ç®€å•çš„ä¾‹å­å°±æ˜¯, æˆ‘ä»¬æ˜¯æ‰“å¼€æ·˜å®ç½‘çš„æ—¶å€™, æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªå•†å“è¯¦æƒ…é¡µæœ‰å¯èƒ½æ˜¯æ˜¯é‡æ–°æ‰“å¼€ä¸€ä¸ªé¡µé¢, é‚£æˆ‘ä»¬åˆšåˆšç™»å½•çš„ä¿¡æ¯å¯èƒ½å°±æ¶ˆå¤±äº†, è¦æ˜¯æ¯æ¬¡æ‰“å¼€ä¸€ä¸ªé¡µé¢éƒ½éœ€è¦ç™»å½•é‚£æ ·ä¼šéå¸¸çš„éº»çƒ¦\n    - è¿™æ ·æ—¶å€™, å°±éœ€è¦cookieçš„å¸®åŠ©äº†;æˆ‘ä»¬å¯ä»¥è€ƒè™‘å§åŸŸåç§åœ¨å¯ä»¥è®¿é—®çš„åŸŸåä¸‹, é€šå¸¸éƒ½æ˜¯äºŒçº§åŸŸå\n      - ä»€ä¹ˆæ˜¯ä¸€çº§, äºŒçº§, ä¸‰çº§....åŸŸå?\n      - ä¸¾ä¾‹: www.taobao.com\n        - ä¸€çº§åŸŸåæ˜¯æŒ‡com(åˆç§°é¡¶çº§åŸŸå; [ç»´åŸºç™¾ç§‘, ç‚¹æˆ‘!!](https://zh.wikipedia.org/wiki/åŸŸå)\n        - äºŒçº§åŸŸåå°±æ˜¯taobao\n        - æ‰€ä»¥ä¸‰çº§åŸŸåå°±æ˜¯www\n    - è¿™æ ·æˆ‘ä»¬åœ¨æ·˜å®è¿™ä¸ªåŸŸååº•ä¸‹çš„æ‰€æœ‰é¡µé¢éƒ½å¯ä»¥ç•…é€šæ— é˜»\n    - ä½†æ˜¯ä¹Ÿä¼šé¢ä¸´ä¿¡æ¯æ³„éœ²çš„å±é™©\n      - è™½ç„¶å¯ä»¥ç”¨æ—¶æ•ˆæ¥é™åˆ¶ä½†æ˜¯æ•ˆæœä¹Ÿä¸æ˜¯å¾ˆå¥½\n      - **Secure Cookieæœºåˆ¶**\n        - è®¾ç½®äº†cookieåªèƒ½åœ¨httpsä¸Šé¢ä¼ è¾“ä¸èƒ½åœ¨httpä¸Šä¼ è¾“\n        - ä½†æ˜¯ä¹Ÿä¸æ˜¯ä¸‡æ— ä¸€å¤±, å› ä¸ºè¿˜æ˜¯å¯ä»¥åœ¨å®¢æˆ·ç«¯, è¿›è¡Œè¯»å†™çš„;\n      - **HTTPOnlyå±æ€§**\n        - Cookieçš„HttpOnlyå±æ€§ï¼ŒæŒ‡æµè§ˆå™¨ä¸è¦åœ¨é™¤HTTPï¼ˆå’Œ HTTPS)è¯·æ±‚ä¹‹å¤–æš´éœ²Cookieã€‚\n        - è¿™æ ·å¯ä»¥é˜»æ­¢éhttpçš„æ”»å‡», å¦‚JavaScript\n      - **Same-Siteå±æ€§**\n        - Cookie çš„`SameSite`å±æ€§ç”¨æ¥é™åˆ¶ç¬¬ä¸‰æ–¹ Cookieï¼Œä»è€Œå‡å°‘å®‰å…¨é£é™©ã€‚\n          - ä¸»è¦æ˜¯ä¸ºäº†é™åˆ¶CSRFæ”»å‡»\n            - ä»€ä¹ˆæ˜¯CSRFæ”»å‡»?\n              - è·¨ç«™è¯·æ±‚æ”»å‡»ï¼Œç®€å•åœ°è¯´ï¼Œæ˜¯æ”»å‡»è€…é€šè¿‡ä¸€äº›æŠ€æœ¯æ‰‹æ®µæ¬ºéª—ç”¨æˆ·çš„æµè§ˆå™¨å»è®¿é—®ä¸€ä¸ªè‡ªå·±æ›¾ç»è®¤è¯è¿‡çš„ç½‘ç«™å¹¶è¿è¡Œä¸€äº›æ“ä½œï¼ˆå¦‚å‘é‚®ä»¶ï¼Œå‘æ¶ˆæ¯ï¼Œç”šè‡³è´¢äº§æ“ä½œå¦‚è½¬è´¦å’Œè´­ä¹°å•†å“ï¼‰ã€‚\n            - è¿˜å¯ä»¥ç”¨äºè·Ÿè¸ªç”¨æˆ·ä¿¡æ¯, æ¯”å¦‚åœ¨ä½ çš„ç½‘ç«™å†…éƒ¨æ”¾å…¥ä¸€ä¸ªä½ çœ‹ä¸è§çš„\n            - `<img src=\"facebook.com\" style=\"visibility:hidden;\">`\n            - è¿™æ ·å°±å¯ä»¥çŸ¥é“ä½ è®¿é—®äº†é‚£äº›ç½‘ç«™åšä¸€äº›ç›¸åº”çš„æ¨è\n            - é‚£ä¹ˆæœ‰äº›åŒå­¦å°±ä¼šè”æƒ³åˆ°; æ¯”å¦‚æˆ‘åœ¨æ‹¼å¤šå¤šçœ‹äº†iPhone11; å†å»çœ‹æœ‹å‹åœˆå¾ˆå¯èƒ½æœ‰å°±ç›¸åº”çš„æ¨è, è¿™äº›æˆ‘ä¸ªäººçŒœæµ‹å¯èƒ½æ˜¯pddç›´æ¥æŠŠä½ çš„ä¿¡æ¯å–ç»™äº†è…¾è®¯, æˆ–è€…åšäº†äº¤æ˜“(é€ƒ\n          - å…·ä½“çš„ä¸‰ä¸ªå€¼Strict; Lax; None;æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è‡ªå·±å»æŸ¥è¿™é‡Œå°±ä¸å±•å¼€äº†\n      - cookieåˆåˆ†ä¸ºæœ¬åœ°cookieå’Œå†…å­˜cookie\n        - æœ¬åœ°cookieä¸å†…å­˜cookieï¼ŒåŒºåˆ«åœ¨äºcookieè®¾ç½®çš„expireså­—æ®µã€‚å¦‚æœæ²¡æœ‰è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œå°±æ˜¯å†…å­˜cookieã€‚éšç€æµè§ˆå™¨çš„å…³é—­è€Œä»å†…å­˜ä¸­æ¶ˆå¤±ã€‚\n        - è¿˜æ˜¯ä¸€æ ·éƒ½ä¼šæ³„éœ²ç”¨æˆ·ä¿¡æ¯çš„é£é™©\n        - å“ªæ€•æ˜¯å†…å­˜cookieæ”»å‡»è€…å¯ä»¥è®¾ç½®æ—¶æ•ˆä½¿å…¶æˆä¸ºæœ¬åœ°cookie\n\n### ä¸‰.session\n\nsessionæ˜¯æœåŠ¡å™¨ä¸ºwebç”¨æˆ·ç‹¬ç«‹å¼€è¾Ÿçš„ä¸€ä¸ªç©ºé—´, é‡Œé¢å¯ä»¥æœ‰ç”¨æˆ·ä¸€äº›ä¿¡æ¯ç­‰ç­‰\n\n- å¦‚æœæ˜¯ä¸€ä¸ªæœåŠ¡å™¨å¯èƒ½è¿˜å¥½, ä½†æ˜¯å¦‚æœæ˜¯å¤šä¸ªæœåŠ¡å™¨æˆ–è€…è¯´å¤šå±‚è½¬å‘çš„è¯å°±ä¼šå¼•å‘ä¸€ä¸ªé—®é¢˜, sessionå‘½ä¸­é—®é¢˜; æ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠä¿¡æ¯å­˜åœ¨MySQLæˆ–è€…Redisé‡Œé¢\n\n### å››.token\n\né™¤äº†sessionå’Œcookieæ¥è¾…åŠ©httpè¿™ä¸ªæ— çŠ¶æ€è¯·æ±‚, è¿˜æœ‰ä»€ä¹ˆåŠæ³•? \n\n- token\n  - tokenåˆ†ä¸ºå¾ˆå¤šç§, å¸¸è§çš„æœ‰JWT, sessionId, macåœ°å€ç­‰ç­‰\n  - tokenå¯ä»¥å­˜å‚¨åœ¨å¾ˆå¤šåœ°æ–¹, æ¯”å¦‚æœ¬åœ°çš„localStorageæˆ–è€…sessionStorage, ç„¶ååœ¨è¯·æ±‚å¤´ä¸­æºå¸¦\n\n### äº”.sessionStorage\n\nåˆšåˆšè¯´åˆ°sessionStorage; ä¸‹é¢æ¥è¯´è¯´æˆ‘ç¢°åˆ°çš„ä¸€ä¸ªé—®é¢˜\n\n- sessionStorageå¦‚æœæ‰“å¼€ä¸€ä¸ªæ–°æ ‡ç­¾é¡µ, ä»–çš„sessionStorageæ˜¯å¦å…±äº«?\n- å¤§å®¶å…ˆæƒ³æƒ³å†çœ‹ç­”æ¡ˆ\n\nä»¥å‰çš„æˆ‘ä»¥ä¸ºæ˜¯å¯ä»¥å…±äº«çš„.å…¶å®æ˜¯åŠé”™åŠå¯¹çš„\n\nä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´?\n\nMDNæ˜¯è¿™ä¹ˆè¯´çš„\n\n> ...data stored in sessionStorage gets cleared when the page session ends...**Opening a page in a new tab or window will cause a new session to be initiated**, which differs from how session cookies work.\n\nå¤§å®¶å¯ä»¥åšä¸€ä¸ªå®éªŒ\n\n>1. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€è¿™ä¸ª index.htmlï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ ‡ç­¾é¡µ Aã€‚æ³¨æ„ï¼šéœ€è¦ç”¨ http åè®®æ‰“å¼€ï¼ä¾‹å¦‚ http://localhost/index.html\n>2. ç‚¹å‡»é¡µé¢ä¸Šçš„é“¾æ¥ï¼Œæ­¤æ—¶ä¼šå¼¹å‡ºæ¥æ ‡ç­¾é¡µ Bã€‚\n>3. åœ¨æ ‡ç­¾é¡µ B ä¸­æ‰“å¼€æ§åˆ¶å°å¹¶æ‰§è¡Œ `sessionStorage.getItem('j')`ï¼Œå¾—åˆ° `'s'`\n>4. æ–°å»ºä¸€ä¸ªæ–°æ ‡ç­¾é¡µ Dï¼Œç„¶ååœ¨åœ°å€æ å†…è¾“å…¥ http://localhost/index.html æ‰“å¼€åŒæ ·çš„é¡µé¢ï¼Œ ç„¶åæ‰§è¡Œ `sessionStorage.getItem('j')` ã€‚\n\næŒ‰ç…§æˆ‘çš„é¢„æœŸï¼Œæ ‡ç­¾é¡µ D å¾—åˆ°çš„åº”è¯¥è¿˜æ˜¯ `'s'`ï¼Œæ¯•ç«Ÿæˆ‘è®¤ä¸º sessionStorage çš„æ•°æ®æ˜¯åœ¨åŒä¸€ç½‘ç«™çš„å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´å…±äº«çš„ã€‚ä½†æ˜¯**æˆ‘é”™äº†**ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯ `null`ã€‚\n\nç»†å¿ƒçš„åŒå­¦å¯èƒ½å·²ç»å‘ç°äº†\n\nç»†å¿ƒçš„åŒå­¦å¯èƒ½å·²ç»å‘ç°äº†ï¼Œæ ‡ç­¾é¡µ B å’Œæ ‡ç­¾é¡µ D ä¹‹é—´å”¯ä¸€çš„ä¸åŒå°±æ˜¯å®ƒä»¬è¢«æ‰“å¼€çš„æ–¹å¼ï¼š**æ ‡ç­¾é¡µ B æ˜¯é€šè¿‡åœ¨æ ‡ç­¾é¡µ A ä¸­ç‚¹å‡»é“¾æ¥æ‰“å¼€çš„ï¼Œä½†æ ‡ç­¾é¡µ D æ˜¯åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥åœ°å€æ‰“å¼€çš„ã€‚**\n\næ‰€ä»¥ç°åœ¨æˆ‘æ˜ç™½äº†ï¼šé€šè¿‡ç‚¹å‡»é“¾æ¥ï¼ˆæˆ–è€…ç”¨äº† `window.open`ï¼‰æ‰“å¼€çš„æ–°æ ‡ç­¾é¡µä¹‹é—´æ˜¯å±äºåŒä¸€ä¸ª session çš„ï¼Œä½†æ–°å¼€ä¸€ä¸ªæ ‡ç­¾é¡µæ€»æ˜¯ä¼šåˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ sessionï¼Œå³ä½¿ç½‘ç«™æ˜¯ä¸€æ ·çš„ï¼Œå®ƒä»¬ä¹Ÿä¸å±äºåŒä¸€ä¸ª sessionã€‚\n\n","slug":"sessionå’Œcookieçš„ç†è§£","published":1,"updated":"2020-04-11T11:50:40.294Z","_id":"ck8vk5p8w0025o5vmhgwc307a","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"æ›¾ç»çš„æˆ‘\"><a href=\"#æ›¾ç»çš„æˆ‘\" class=\"headerlink\" title=\"æ›¾ç»çš„æˆ‘\"></a>æ›¾ç»çš„æˆ‘</h2><p>cookieæ˜¯æµè§ˆå™¨ä¸­ä¼ è¾“è‡ªå¸¦çš„; balabalaâ€¦</p>\n<p>sessionæ˜¯å­˜åœ¨æœåŠ¡ç«¯çš„; å­˜ä¸€äº›ç”¨æˆ·ä¿¡æ¯â€¦â€¦.balabalaâ€¦.</p>\n<h2 id=\"ç°åœ¨çš„æˆ‘\"><a href=\"#ç°åœ¨çš„æˆ‘\" class=\"headerlink\" title=\"ç°åœ¨çš„æˆ‘\"></a>ç°åœ¨çš„æˆ‘</h2><p>ä»ä»¥ä¸‹å‡ ä¸ªè§’åº¦å‡ºå‘</p>\n<h3 id=\"ä¸€-httpåè®®æ˜¯æ— çŠ¶æ€çš„\"><a href=\"#ä¸€-httpåè®®æ˜¯æ— çŠ¶æ€çš„\" class=\"headerlink\" title=\"ä¸€. httpåè®®æ˜¯æ— çŠ¶æ€çš„;\"></a>ä¸€. httpåè®®æ˜¯æ— çŠ¶æ€çš„;</h3><p>å½“æˆ‘ä»¬å¼€å‘ä¸€äº›å¯¹çŠ¶æ€æœ‰è¦æ±‚çš„æ¥å£æ—¶, cookieå’Œsessionå°±å¯ä»¥å¼¥è¡¥è¿™ä¸€å—çš„ä¸è¶³</p>\n<ul>\n<li>å¯¹äºhttpåè®®, cookieåªæ˜¯è¯·æ±‚å¤´ä¸­çš„ä¸€ä¸ªå­—æ®µ, å’Œåˆ«çš„å­—æ®µå¹¶æ²¡æœ‰ç‰¹åˆ«å¤§çš„å·®åˆ«;</li>\n<li>æµè§ˆå™¨å¯¹cookieåšäº†é»˜è®¤çš„æ”¯æŒ, ä½†æ˜¯ä¹Ÿé™åˆ¶äº†cookie; æ¯”å¦‚åŒæºç­–ç•¥;<ul>\n<li>ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥?<ul>\n<li>åŒæºç­–ç•¥å°±æ˜¯åŸŸå, ç«¯å£, åè®®; å¿…é¡»éƒ½ç›¸åŒæ‰å¯ä»¥è®¿é—®cookieçš„å†…å®¹</li>\n</ul>\n</li>\n<li>ä¸ºä»€ä¹ˆè¦åšåŒæºç­–ç•¥?<ul>\n<li>åŒæºç­–ç•¥æ˜¯æµè§ˆå™¨åŸºäºå®‰å…¨çš„è§’åº¦çš„ä¸€ä¸ªæœºåˆ¶, é™åˆ¶äº†åªæœ‰åŒåŸŸæ‰å¯ä»¥è®¿é—®cookieçš„å†…å®¹</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"äºŒ-å½“æˆ‘ä»¬è¦åšå•ç‚¹ç™»å½•ssoåŠŸèƒ½çš„æ—¶å€™\"><a href=\"#äºŒ-å½“æˆ‘ä»¬è¦åšå•ç‚¹ç™»å½•ssoåŠŸèƒ½çš„æ—¶å€™\" class=\"headerlink\" title=\"äºŒ.å½“æˆ‘ä»¬è¦åšå•ç‚¹ç™»å½•ssoåŠŸèƒ½çš„æ—¶å€™\"></a>äºŒ.å½“æˆ‘ä»¬è¦åšå•ç‚¹ç™»å½•ssoåŠŸèƒ½çš„æ—¶å€™</h3><ul>\n<li>ä»€ä¹ˆæ˜¯å•ç‚¹ç™»å½•å’Œsso?<ul>\n<li>å•ç‚¹ç™»å½•ï¼ˆSingle Sign Onï¼‰ï¼Œç®€ç§°ä¸º SSOï¼Œæ˜¯æ¯”è¾ƒæµè¡Œçš„ä¼ä¸šä¸šåŠ¡æ•´åˆçš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€ã€‚</li>\n<li>æœ€ç®€å•çš„ä¾‹å­å°±æ˜¯, æˆ‘ä»¬æ˜¯æ‰“å¼€æ·˜å®ç½‘çš„æ—¶å€™, æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªå•†å“è¯¦æƒ…é¡µæœ‰å¯èƒ½æ˜¯æ˜¯é‡æ–°æ‰“å¼€ä¸€ä¸ªé¡µé¢, é‚£æˆ‘ä»¬åˆšåˆšç™»å½•çš„ä¿¡æ¯å¯èƒ½å°±æ¶ˆå¤±äº†, è¦æ˜¯æ¯æ¬¡æ‰“å¼€ä¸€ä¸ªé¡µé¢éƒ½éœ€è¦ç™»å½•é‚£æ ·ä¼šéå¸¸çš„éº»çƒ¦<ul>\n<li>è¿™æ ·æ—¶å€™, å°±éœ€è¦cookieçš„å¸®åŠ©äº†;æˆ‘ä»¬å¯ä»¥è€ƒè™‘å§åŸŸåç§åœ¨å¯ä»¥è®¿é—®çš„åŸŸåä¸‹, é€šå¸¸éƒ½æ˜¯äºŒçº§åŸŸå<ul>\n<li>ä»€ä¹ˆæ˜¯ä¸€çº§, äºŒçº§, ä¸‰çº§â€¦.åŸŸå?</li>\n<li>ä¸¾ä¾‹: <a href=\"http://www.taobao.com\" target=\"_blank\" rel=\"noopener\">www.taobao.com</a><ul>\n<li>ä¸€çº§åŸŸåæ˜¯æŒ‡com(åˆç§°é¡¶çº§åŸŸå; <a href=\"https://zh.wikipedia.org/wiki/åŸŸå\" target=\"_blank\" rel=\"noopener\">ç»´åŸºç™¾ç§‘, ç‚¹æˆ‘!!</a></li>\n<li>äºŒçº§åŸŸåå°±æ˜¯taobao</li>\n<li>æ‰€ä»¥ä¸‰çº§åŸŸåå°±æ˜¯www</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>è¿™æ ·æˆ‘ä»¬åœ¨æ·˜å®è¿™ä¸ªåŸŸååº•ä¸‹çš„æ‰€æœ‰é¡µé¢éƒ½å¯ä»¥ç•…é€šæ— é˜»</li>\n<li>ä½†æ˜¯ä¹Ÿä¼šé¢ä¸´ä¿¡æ¯æ³„éœ²çš„å±é™©<ul>\n<li>è™½ç„¶å¯ä»¥ç”¨æ—¶æ•ˆæ¥é™åˆ¶ä½†æ˜¯æ•ˆæœä¹Ÿä¸æ˜¯å¾ˆå¥½</li>\n<li><strong>Secure Cookieæœºåˆ¶</strong><ul>\n<li>è®¾ç½®äº†cookieåªèƒ½åœ¨httpsä¸Šé¢ä¼ è¾“ä¸èƒ½åœ¨httpä¸Šä¼ è¾“</li>\n<li>ä½†æ˜¯ä¹Ÿä¸æ˜¯ä¸‡æ— ä¸€å¤±, å› ä¸ºè¿˜æ˜¯å¯ä»¥åœ¨å®¢æˆ·ç«¯, è¿›è¡Œè¯»å†™çš„;</li>\n</ul>\n</li>\n<li><strong>HTTPOnlyå±æ€§</strong><ul>\n<li>Cookieçš„HttpOnlyå±æ€§ï¼ŒæŒ‡æµè§ˆå™¨ä¸è¦åœ¨é™¤HTTPï¼ˆå’Œ HTTPS)è¯·æ±‚ä¹‹å¤–æš´éœ²Cookieã€‚</li>\n<li>è¿™æ ·å¯ä»¥é˜»æ­¢éhttpçš„æ”»å‡», å¦‚JavaScript</li>\n</ul>\n</li>\n<li><strong>Same-Siteå±æ€§</strong><ul>\n<li>Cookie çš„<code>SameSite</code>å±æ€§ç”¨æ¥é™åˆ¶ç¬¬ä¸‰æ–¹ Cookieï¼Œä»è€Œå‡å°‘å®‰å…¨é£é™©ã€‚<ul>\n<li>ä¸»è¦æ˜¯ä¸ºäº†é™åˆ¶CSRFæ”»å‡»<ul>\n<li>ä»€ä¹ˆæ˜¯CSRFæ”»å‡»?<ul>\n<li>è·¨ç«™è¯·æ±‚æ”»å‡»ï¼Œç®€å•åœ°è¯´ï¼Œæ˜¯æ”»å‡»è€…é€šè¿‡ä¸€äº›æŠ€æœ¯æ‰‹æ®µæ¬ºéª—ç”¨æˆ·çš„æµè§ˆå™¨å»è®¿é—®ä¸€ä¸ªè‡ªå·±æ›¾ç»è®¤è¯è¿‡çš„ç½‘ç«™å¹¶è¿è¡Œä¸€äº›æ“ä½œï¼ˆå¦‚å‘é‚®ä»¶ï¼Œå‘æ¶ˆæ¯ï¼Œç”šè‡³è´¢äº§æ“ä½œå¦‚è½¬è´¦å’Œè´­ä¹°å•†å“ï¼‰ã€‚</li>\n</ul>\n</li>\n<li>è¿˜å¯ä»¥ç”¨äºè·Ÿè¸ªç”¨æˆ·ä¿¡æ¯, æ¯”å¦‚åœ¨ä½ çš„ç½‘ç«™å†…éƒ¨æ”¾å…¥ä¸€ä¸ªä½ çœ‹ä¸è§çš„</li>\n<li><code>&lt;img src=&quot;facebook.com&quot; style=&quot;visibility:hidden;&quot;&gt;</code></li>\n<li>è¿™æ ·å°±å¯ä»¥çŸ¥é“ä½ è®¿é—®äº†é‚£äº›ç½‘ç«™åšä¸€äº›ç›¸åº”çš„æ¨è</li>\n<li>é‚£ä¹ˆæœ‰äº›åŒå­¦å°±ä¼šè”æƒ³åˆ°; æ¯”å¦‚æˆ‘åœ¨æ‹¼å¤šå¤šçœ‹äº†iPhone11; å†å»çœ‹æœ‹å‹åœˆå¾ˆå¯èƒ½æœ‰å°±ç›¸åº”çš„æ¨è, è¿™äº›æˆ‘ä¸ªäººçŒœæµ‹å¯èƒ½æ˜¯pddç›´æ¥æŠŠä½ çš„ä¿¡æ¯å–ç»™äº†è…¾è®¯, æˆ–è€…åšäº†äº¤æ˜“(é€ƒ</li>\n</ul>\n</li>\n<li>å…·ä½“çš„ä¸‰ä¸ªå€¼Strict; Lax; None;æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è‡ªå·±å»æŸ¥è¿™é‡Œå°±ä¸å±•å¼€äº†</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>cookieåˆåˆ†ä¸ºæœ¬åœ°cookieå’Œå†…å­˜cookie<ul>\n<li>æœ¬åœ°cookieä¸å†…å­˜cookieï¼ŒåŒºåˆ«åœ¨äºcookieè®¾ç½®çš„expireså­—æ®µã€‚å¦‚æœæ²¡æœ‰è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œå°±æ˜¯å†…å­˜cookieã€‚éšç€æµè§ˆå™¨çš„å…³é—­è€Œä»å†…å­˜ä¸­æ¶ˆå¤±ã€‚</li>\n<li>è¿˜æ˜¯ä¸€æ ·éƒ½ä¼šæ³„éœ²ç”¨æˆ·ä¿¡æ¯çš„é£é™©</li>\n<li>å“ªæ€•æ˜¯å†…å­˜cookieæ”»å‡»è€…å¯ä»¥è®¾ç½®æ—¶æ•ˆä½¿å…¶æˆä¸ºæœ¬åœ°cookie</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"ä¸‰-session\"><a href=\"#ä¸‰-session\" class=\"headerlink\" title=\"ä¸‰.session\"></a>ä¸‰.session</h3><p>sessionæ˜¯æœåŠ¡å™¨ä¸ºwebç”¨æˆ·ç‹¬ç«‹å¼€è¾Ÿçš„ä¸€ä¸ªç©ºé—´, é‡Œé¢å¯ä»¥æœ‰ç”¨æˆ·ä¸€äº›ä¿¡æ¯ç­‰ç­‰</p>\n<ul>\n<li>å¦‚æœæ˜¯ä¸€ä¸ªæœåŠ¡å™¨å¯èƒ½è¿˜å¥½, ä½†æ˜¯å¦‚æœæ˜¯å¤šä¸ªæœåŠ¡å™¨æˆ–è€…è¯´å¤šå±‚è½¬å‘çš„è¯å°±ä¼šå¼•å‘ä¸€ä¸ªé—®é¢˜, sessionå‘½ä¸­é—®é¢˜; æ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠä¿¡æ¯å­˜åœ¨MySQLæˆ–è€…Redisé‡Œé¢</li>\n</ul>\n<h3 id=\"å››-token\"><a href=\"#å››-token\" class=\"headerlink\" title=\"å››.token\"></a>å››.token</h3><p>é™¤äº†sessionå’Œcookieæ¥è¾…åŠ©httpè¿™ä¸ªæ— çŠ¶æ€è¯·æ±‚, è¿˜æœ‰ä»€ä¹ˆåŠæ³•? </p>\n<ul>\n<li>token<ul>\n<li>tokenåˆ†ä¸ºå¾ˆå¤šç§, å¸¸è§çš„æœ‰JWT, sessionId, macåœ°å€ç­‰ç­‰</li>\n<li>tokenå¯ä»¥å­˜å‚¨åœ¨å¾ˆå¤šåœ°æ–¹, æ¯”å¦‚æœ¬åœ°çš„localStorageæˆ–è€…sessionStorage, ç„¶ååœ¨è¯·æ±‚å¤´ä¸­æºå¸¦</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"äº”-sessionStorage\"><a href=\"#äº”-sessionStorage\" class=\"headerlink\" title=\"äº”.sessionStorage\"></a>äº”.sessionStorage</h3><p>åˆšåˆšè¯´åˆ°sessionStorage; ä¸‹é¢æ¥è¯´è¯´æˆ‘ç¢°åˆ°çš„ä¸€ä¸ªé—®é¢˜</p>\n<ul>\n<li>sessionStorageå¦‚æœæ‰“å¼€ä¸€ä¸ªæ–°æ ‡ç­¾é¡µ, ä»–çš„sessionStorageæ˜¯å¦å…±äº«?</li>\n<li>å¤§å®¶å…ˆæƒ³æƒ³å†çœ‹ç­”æ¡ˆ</li>\n</ul>\n<p>ä»¥å‰çš„æˆ‘ä»¥ä¸ºæ˜¯å¯ä»¥å…±äº«çš„.å…¶å®æ˜¯åŠé”™åŠå¯¹çš„</p>\n<p>ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´?</p>\n<p>MDNæ˜¯è¿™ä¹ˆè¯´çš„</p>\n<blockquote>\n<p>â€¦data stored in sessionStorage gets cleared when the page session endsâ€¦<strong>Opening a page in a new tab or window will cause a new session to be initiated</strong>, which differs from how session cookies work.</p>\n</blockquote>\n<p>å¤§å®¶å¯ä»¥åšä¸€ä¸ªå®éªŒ</p>\n<blockquote>\n<ol>\n<li>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€è¿™ä¸ª index.htmlï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ ‡ç­¾é¡µ Aã€‚æ³¨æ„ï¼šéœ€è¦ç”¨ http åè®®æ‰“å¼€ï¼ä¾‹å¦‚ <a href=\"http://localhost/index.html\" target=\"_blank\" rel=\"noopener\">http://localhost/index.html</a></li>\n<li>ç‚¹å‡»é¡µé¢ä¸Šçš„é“¾æ¥ï¼Œæ­¤æ—¶ä¼šå¼¹å‡ºæ¥æ ‡ç­¾é¡µ Bã€‚</li>\n<li>åœ¨æ ‡ç­¾é¡µ B ä¸­æ‰“å¼€æ§åˆ¶å°å¹¶æ‰§è¡Œ <code>sessionStorage.getItem(&#39;j&#39;)</code>ï¼Œå¾—åˆ° <code>&#39;s&#39;</code></li>\n<li>æ–°å»ºä¸€ä¸ªæ–°æ ‡ç­¾é¡µ Dï¼Œç„¶ååœ¨åœ°å€æ å†…è¾“å…¥ <a href=\"http://localhost/index.html\" target=\"_blank\" rel=\"noopener\">http://localhost/index.html</a> æ‰“å¼€åŒæ ·çš„é¡µé¢ï¼Œ ç„¶åæ‰§è¡Œ <code>sessionStorage.getItem(&#39;j&#39;)</code> ã€‚</li>\n</ol>\n</blockquote>\n<p>æŒ‰ç…§æˆ‘çš„é¢„æœŸï¼Œæ ‡ç­¾é¡µ D å¾—åˆ°çš„åº”è¯¥è¿˜æ˜¯ <code>&#39;s&#39;</code>ï¼Œæ¯•ç«Ÿæˆ‘è®¤ä¸º sessionStorage çš„æ•°æ®æ˜¯åœ¨åŒä¸€ç½‘ç«™çš„å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´å…±äº«çš„ã€‚ä½†æ˜¯<strong>æˆ‘é”™äº†</strong>ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯ <code>null</code>ã€‚</p>\n<p>ç»†å¿ƒçš„åŒå­¦å¯èƒ½å·²ç»å‘ç°äº†</p>\n<p>ç»†å¿ƒçš„åŒå­¦å¯èƒ½å·²ç»å‘ç°äº†ï¼Œæ ‡ç­¾é¡µ B å’Œæ ‡ç­¾é¡µ D ä¹‹é—´å”¯ä¸€çš„ä¸åŒå°±æ˜¯å®ƒä»¬è¢«æ‰“å¼€çš„æ–¹å¼ï¼š<strong>æ ‡ç­¾é¡µ B æ˜¯é€šè¿‡åœ¨æ ‡ç­¾é¡µ A ä¸­ç‚¹å‡»é“¾æ¥æ‰“å¼€çš„ï¼Œä½†æ ‡ç­¾é¡µ D æ˜¯åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥åœ°å€æ‰“å¼€çš„ã€‚</strong></p>\n<p>æ‰€ä»¥ç°åœ¨æˆ‘æ˜ç™½äº†ï¼šé€šè¿‡ç‚¹å‡»é“¾æ¥ï¼ˆæˆ–è€…ç”¨äº† <code>window.open</code>ï¼‰æ‰“å¼€çš„æ–°æ ‡ç­¾é¡µä¹‹é—´æ˜¯å±äºåŒä¸€ä¸ª session çš„ï¼Œä½†æ–°å¼€ä¸€ä¸ªæ ‡ç­¾é¡µæ€»æ˜¯ä¼šåˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ sessionï¼Œå³ä½¿ç½‘ç«™æ˜¯ä¸€æ ·çš„ï¼Œå®ƒä»¬ä¹Ÿä¸å±äºåŒä¸€ä¸ª sessionã€‚</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"æ›¾ç»çš„æˆ‘\"><a href=\"#æ›¾ç»çš„æˆ‘\" class=\"headerlink\" title=\"æ›¾ç»çš„æˆ‘\"></a>æ›¾ç»çš„æˆ‘</h2><p>cookieæ˜¯æµè§ˆå™¨ä¸­ä¼ è¾“è‡ªå¸¦çš„; balabalaâ€¦</p>\n<p>sessionæ˜¯å­˜åœ¨æœåŠ¡ç«¯çš„; å­˜ä¸€äº›ç”¨æˆ·ä¿¡æ¯â€¦â€¦.balabalaâ€¦.</p>\n<h2 id=\"ç°åœ¨çš„æˆ‘\"><a href=\"#ç°åœ¨çš„æˆ‘\" class=\"headerlink\" title=\"ç°åœ¨çš„æˆ‘\"></a>ç°åœ¨çš„æˆ‘</h2><p>ä»ä»¥ä¸‹å‡ ä¸ªè§’åº¦å‡ºå‘</p>\n<h3 id=\"ä¸€-httpåè®®æ˜¯æ— çŠ¶æ€çš„\"><a href=\"#ä¸€-httpåè®®æ˜¯æ— çŠ¶æ€çš„\" class=\"headerlink\" title=\"ä¸€. httpåè®®æ˜¯æ— çŠ¶æ€çš„;\"></a>ä¸€. httpåè®®æ˜¯æ— çŠ¶æ€çš„;</h3><p>å½“æˆ‘ä»¬å¼€å‘ä¸€äº›å¯¹çŠ¶æ€æœ‰è¦æ±‚çš„æ¥å£æ—¶, cookieå’Œsessionå°±å¯ä»¥å¼¥è¡¥è¿™ä¸€å—çš„ä¸è¶³</p>\n<ul>\n<li>å¯¹äºhttpåè®®, cookieåªæ˜¯è¯·æ±‚å¤´ä¸­çš„ä¸€ä¸ªå­—æ®µ, å’Œåˆ«çš„å­—æ®µå¹¶æ²¡æœ‰ç‰¹åˆ«å¤§çš„å·®åˆ«;</li>\n<li>æµè§ˆå™¨å¯¹cookieåšäº†é»˜è®¤çš„æ”¯æŒ, ä½†æ˜¯ä¹Ÿé™åˆ¶äº†cookie; æ¯”å¦‚åŒæºç­–ç•¥;<ul>\n<li>ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥?<ul>\n<li>åŒæºç­–ç•¥å°±æ˜¯åŸŸå, ç«¯å£, åè®®; å¿…é¡»éƒ½ç›¸åŒæ‰å¯ä»¥è®¿é—®cookieçš„å†…å®¹</li>\n</ul>\n</li>\n<li>ä¸ºä»€ä¹ˆè¦åšåŒæºç­–ç•¥?<ul>\n<li>åŒæºç­–ç•¥æ˜¯æµè§ˆå™¨åŸºäºå®‰å…¨çš„è§’åº¦çš„ä¸€ä¸ªæœºåˆ¶, é™åˆ¶äº†åªæœ‰åŒåŸŸæ‰å¯ä»¥è®¿é—®cookieçš„å†…å®¹</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"äºŒ-å½“æˆ‘ä»¬è¦åšå•ç‚¹ç™»å½•ssoåŠŸèƒ½çš„æ—¶å€™\"><a href=\"#äºŒ-å½“æˆ‘ä»¬è¦åšå•ç‚¹ç™»å½•ssoåŠŸèƒ½çš„æ—¶å€™\" class=\"headerlink\" title=\"äºŒ.å½“æˆ‘ä»¬è¦åšå•ç‚¹ç™»å½•ssoåŠŸèƒ½çš„æ—¶å€™\"></a>äºŒ.å½“æˆ‘ä»¬è¦åšå•ç‚¹ç™»å½•ssoåŠŸèƒ½çš„æ—¶å€™</h3><ul>\n<li>ä»€ä¹ˆæ˜¯å•ç‚¹ç™»å½•å’Œsso?<ul>\n<li>å•ç‚¹ç™»å½•ï¼ˆSingle Sign Onï¼‰ï¼Œç®€ç§°ä¸º SSOï¼Œæ˜¯æ¯”è¾ƒæµè¡Œçš„ä¼ä¸šä¸šåŠ¡æ•´åˆçš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€ã€‚</li>\n<li>æœ€ç®€å•çš„ä¾‹å­å°±æ˜¯, æˆ‘ä»¬æ˜¯æ‰“å¼€æ·˜å®ç½‘çš„æ—¶å€™, æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªå•†å“è¯¦æƒ…é¡µæœ‰å¯èƒ½æ˜¯æ˜¯é‡æ–°æ‰“å¼€ä¸€ä¸ªé¡µé¢, é‚£æˆ‘ä»¬åˆšåˆšç™»å½•çš„ä¿¡æ¯å¯èƒ½å°±æ¶ˆå¤±äº†, è¦æ˜¯æ¯æ¬¡æ‰“å¼€ä¸€ä¸ªé¡µé¢éƒ½éœ€è¦ç™»å½•é‚£æ ·ä¼šéå¸¸çš„éº»çƒ¦<ul>\n<li>è¿™æ ·æ—¶å€™, å°±éœ€è¦cookieçš„å¸®åŠ©äº†;æˆ‘ä»¬å¯ä»¥è€ƒè™‘å§åŸŸåç§åœ¨å¯ä»¥è®¿é—®çš„åŸŸåä¸‹, é€šå¸¸éƒ½æ˜¯äºŒçº§åŸŸå<ul>\n<li>ä»€ä¹ˆæ˜¯ä¸€çº§, äºŒçº§, ä¸‰çº§â€¦.åŸŸå?</li>\n<li>ä¸¾ä¾‹: <a href=\"http://www.taobao.com\" target=\"_blank\" rel=\"noopener\">www.taobao.com</a><ul>\n<li>ä¸€çº§åŸŸåæ˜¯æŒ‡com(åˆç§°é¡¶çº§åŸŸå; <a href=\"https://zh.wikipedia.org/wiki/åŸŸå\" target=\"_blank\" rel=\"noopener\">ç»´åŸºç™¾ç§‘, ç‚¹æˆ‘!!</a></li>\n<li>äºŒçº§åŸŸåå°±æ˜¯taobao</li>\n<li>æ‰€ä»¥ä¸‰çº§åŸŸåå°±æ˜¯www</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>è¿™æ ·æˆ‘ä»¬åœ¨æ·˜å®è¿™ä¸ªåŸŸååº•ä¸‹çš„æ‰€æœ‰é¡µé¢éƒ½å¯ä»¥ç•…é€šæ— é˜»</li>\n<li>ä½†æ˜¯ä¹Ÿä¼šé¢ä¸´ä¿¡æ¯æ³„éœ²çš„å±é™©<ul>\n<li>è™½ç„¶å¯ä»¥ç”¨æ—¶æ•ˆæ¥é™åˆ¶ä½†æ˜¯æ•ˆæœä¹Ÿä¸æ˜¯å¾ˆå¥½</li>\n<li><strong>Secure Cookieæœºåˆ¶</strong><ul>\n<li>è®¾ç½®äº†cookieåªèƒ½åœ¨httpsä¸Šé¢ä¼ è¾“ä¸èƒ½åœ¨httpä¸Šä¼ è¾“</li>\n<li>ä½†æ˜¯ä¹Ÿä¸æ˜¯ä¸‡æ— ä¸€å¤±, å› ä¸ºè¿˜æ˜¯å¯ä»¥åœ¨å®¢æˆ·ç«¯, è¿›è¡Œè¯»å†™çš„;</li>\n</ul>\n</li>\n<li><strong>HTTPOnlyå±æ€§</strong><ul>\n<li>Cookieçš„HttpOnlyå±æ€§ï¼ŒæŒ‡æµè§ˆå™¨ä¸è¦åœ¨é™¤HTTPï¼ˆå’Œ HTTPS)è¯·æ±‚ä¹‹å¤–æš´éœ²Cookieã€‚</li>\n<li>è¿™æ ·å¯ä»¥é˜»æ­¢éhttpçš„æ”»å‡», å¦‚JavaScript</li>\n</ul>\n</li>\n<li><strong>Same-Siteå±æ€§</strong><ul>\n<li>Cookie çš„<code>SameSite</code>å±æ€§ç”¨æ¥é™åˆ¶ç¬¬ä¸‰æ–¹ Cookieï¼Œä»è€Œå‡å°‘å®‰å…¨é£é™©ã€‚<ul>\n<li>ä¸»è¦æ˜¯ä¸ºäº†é™åˆ¶CSRFæ”»å‡»<ul>\n<li>ä»€ä¹ˆæ˜¯CSRFæ”»å‡»?<ul>\n<li>è·¨ç«™è¯·æ±‚æ”»å‡»ï¼Œç®€å•åœ°è¯´ï¼Œæ˜¯æ”»å‡»è€…é€šè¿‡ä¸€äº›æŠ€æœ¯æ‰‹æ®µæ¬ºéª—ç”¨æˆ·çš„æµè§ˆå™¨å»è®¿é—®ä¸€ä¸ªè‡ªå·±æ›¾ç»è®¤è¯è¿‡çš„ç½‘ç«™å¹¶è¿è¡Œä¸€äº›æ“ä½œï¼ˆå¦‚å‘é‚®ä»¶ï¼Œå‘æ¶ˆæ¯ï¼Œç”šè‡³è´¢äº§æ“ä½œå¦‚è½¬è´¦å’Œè´­ä¹°å•†å“ï¼‰ã€‚</li>\n</ul>\n</li>\n<li>è¿˜å¯ä»¥ç”¨äºè·Ÿè¸ªç”¨æˆ·ä¿¡æ¯, æ¯”å¦‚åœ¨ä½ çš„ç½‘ç«™å†…éƒ¨æ”¾å…¥ä¸€ä¸ªä½ çœ‹ä¸è§çš„</li>\n<li><code>&lt;img src=&quot;facebook.com&quot; style=&quot;visibility:hidden;&quot;&gt;</code></li>\n<li>è¿™æ ·å°±å¯ä»¥çŸ¥é“ä½ è®¿é—®äº†é‚£äº›ç½‘ç«™åšä¸€äº›ç›¸åº”çš„æ¨è</li>\n<li>é‚£ä¹ˆæœ‰äº›åŒå­¦å°±ä¼šè”æƒ³åˆ°; æ¯”å¦‚æˆ‘åœ¨æ‹¼å¤šå¤šçœ‹äº†iPhone11; å†å»çœ‹æœ‹å‹åœˆå¾ˆå¯èƒ½æœ‰å°±ç›¸åº”çš„æ¨è, è¿™äº›æˆ‘ä¸ªäººçŒœæµ‹å¯èƒ½æ˜¯pddç›´æ¥æŠŠä½ çš„ä¿¡æ¯å–ç»™äº†è…¾è®¯, æˆ–è€…åšäº†äº¤æ˜“(é€ƒ</li>\n</ul>\n</li>\n<li>å…·ä½“çš„ä¸‰ä¸ªå€¼Strict; Lax; None;æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è‡ªå·±å»æŸ¥è¿™é‡Œå°±ä¸å±•å¼€äº†</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>cookieåˆåˆ†ä¸ºæœ¬åœ°cookieå’Œå†…å­˜cookie<ul>\n<li>æœ¬åœ°cookieä¸å†…å­˜cookieï¼ŒåŒºåˆ«åœ¨äºcookieè®¾ç½®çš„expireså­—æ®µã€‚å¦‚æœæ²¡æœ‰è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œå°±æ˜¯å†…å­˜cookieã€‚éšç€æµè§ˆå™¨çš„å…³é—­è€Œä»å†…å­˜ä¸­æ¶ˆå¤±ã€‚</li>\n<li>è¿˜æ˜¯ä¸€æ ·éƒ½ä¼šæ³„éœ²ç”¨æˆ·ä¿¡æ¯çš„é£é™©</li>\n<li>å“ªæ€•æ˜¯å†…å­˜cookieæ”»å‡»è€…å¯ä»¥è®¾ç½®æ—¶æ•ˆä½¿å…¶æˆä¸ºæœ¬åœ°cookie</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"ä¸‰-session\"><a href=\"#ä¸‰-session\" class=\"headerlink\" title=\"ä¸‰.session\"></a>ä¸‰.session</h3><p>sessionæ˜¯æœåŠ¡å™¨ä¸ºwebç”¨æˆ·ç‹¬ç«‹å¼€è¾Ÿçš„ä¸€ä¸ªç©ºé—´, é‡Œé¢å¯ä»¥æœ‰ç”¨æˆ·ä¸€äº›ä¿¡æ¯ç­‰ç­‰</p>\n<ul>\n<li>å¦‚æœæ˜¯ä¸€ä¸ªæœåŠ¡å™¨å¯èƒ½è¿˜å¥½, ä½†æ˜¯å¦‚æœæ˜¯å¤šä¸ªæœåŠ¡å™¨æˆ–è€…è¯´å¤šå±‚è½¬å‘çš„è¯å°±ä¼šå¼•å‘ä¸€ä¸ªé—®é¢˜, sessionå‘½ä¸­é—®é¢˜; æ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠä¿¡æ¯å­˜åœ¨MySQLæˆ–è€…Redisé‡Œé¢</li>\n</ul>\n<h3 id=\"å››-token\"><a href=\"#å››-token\" class=\"headerlink\" title=\"å››.token\"></a>å››.token</h3><p>é™¤äº†sessionå’Œcookieæ¥è¾…åŠ©httpè¿™ä¸ªæ— çŠ¶æ€è¯·æ±‚, è¿˜æœ‰ä»€ä¹ˆåŠæ³•? </p>\n<ul>\n<li>token<ul>\n<li>tokenåˆ†ä¸ºå¾ˆå¤šç§, å¸¸è§çš„æœ‰JWT, sessionId, macåœ°å€ç­‰ç­‰</li>\n<li>tokenå¯ä»¥å­˜å‚¨åœ¨å¾ˆå¤šåœ°æ–¹, æ¯”å¦‚æœ¬åœ°çš„localStorageæˆ–è€…sessionStorage, ç„¶ååœ¨è¯·æ±‚å¤´ä¸­æºå¸¦</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"äº”-sessionStorage\"><a href=\"#äº”-sessionStorage\" class=\"headerlink\" title=\"äº”.sessionStorage\"></a>äº”.sessionStorage</h3><p>åˆšåˆšè¯´åˆ°sessionStorage; ä¸‹é¢æ¥è¯´è¯´æˆ‘ç¢°åˆ°çš„ä¸€ä¸ªé—®é¢˜</p>\n<ul>\n<li>sessionStorageå¦‚æœæ‰“å¼€ä¸€ä¸ªæ–°æ ‡ç­¾é¡µ, ä»–çš„sessionStorageæ˜¯å¦å…±äº«?</li>\n<li>å¤§å®¶å…ˆæƒ³æƒ³å†çœ‹ç­”æ¡ˆ</li>\n</ul>\n<p>ä»¥å‰çš„æˆ‘ä»¥ä¸ºæ˜¯å¯ä»¥å…±äº«çš„.å…¶å®æ˜¯åŠé”™åŠå¯¹çš„</p>\n<p>ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´?</p>\n<p>MDNæ˜¯è¿™ä¹ˆè¯´çš„</p>\n<blockquote>\n<p>â€¦data stored in sessionStorage gets cleared when the page session endsâ€¦<strong>Opening a page in a new tab or window will cause a new session to be initiated</strong>, which differs from how session cookies work.</p>\n</blockquote>\n<p>å¤§å®¶å¯ä»¥åšä¸€ä¸ªå®éªŒ</p>\n<blockquote>\n<ol>\n<li>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€è¿™ä¸ª index.htmlï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ ‡ç­¾é¡µ Aã€‚æ³¨æ„ï¼šéœ€è¦ç”¨ http åè®®æ‰“å¼€ï¼ä¾‹å¦‚ <a href=\"http://localhost/index.html\" target=\"_blank\" rel=\"noopener\">http://localhost/index.html</a></li>\n<li>ç‚¹å‡»é¡µé¢ä¸Šçš„é“¾æ¥ï¼Œæ­¤æ—¶ä¼šå¼¹å‡ºæ¥æ ‡ç­¾é¡µ Bã€‚</li>\n<li>åœ¨æ ‡ç­¾é¡µ B ä¸­æ‰“å¼€æ§åˆ¶å°å¹¶æ‰§è¡Œ <code>sessionStorage.getItem(&#39;j&#39;)</code>ï¼Œå¾—åˆ° <code>&#39;s&#39;</code></li>\n<li>æ–°å»ºä¸€ä¸ªæ–°æ ‡ç­¾é¡µ Dï¼Œç„¶ååœ¨åœ°å€æ å†…è¾“å…¥ <a href=\"http://localhost/index.html\" target=\"_blank\" rel=\"noopener\">http://localhost/index.html</a> æ‰“å¼€åŒæ ·çš„é¡µé¢ï¼Œ ç„¶åæ‰§è¡Œ <code>sessionStorage.getItem(&#39;j&#39;)</code> ã€‚</li>\n</ol>\n</blockquote>\n<p>æŒ‰ç…§æˆ‘çš„é¢„æœŸï¼Œæ ‡ç­¾é¡µ D å¾—åˆ°çš„åº”è¯¥è¿˜æ˜¯ <code>&#39;s&#39;</code>ï¼Œæ¯•ç«Ÿæˆ‘è®¤ä¸º sessionStorage çš„æ•°æ®æ˜¯åœ¨åŒä¸€ç½‘ç«™çš„å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´å…±äº«çš„ã€‚ä½†æ˜¯<strong>æˆ‘é”™äº†</strong>ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯ <code>null</code>ã€‚</p>\n<p>ç»†å¿ƒçš„åŒå­¦å¯èƒ½å·²ç»å‘ç°äº†</p>\n<p>ç»†å¿ƒçš„åŒå­¦å¯èƒ½å·²ç»å‘ç°äº†ï¼Œæ ‡ç­¾é¡µ B å’Œæ ‡ç­¾é¡µ D ä¹‹é—´å”¯ä¸€çš„ä¸åŒå°±æ˜¯å®ƒä»¬è¢«æ‰“å¼€çš„æ–¹å¼ï¼š<strong>æ ‡ç­¾é¡µ B æ˜¯é€šè¿‡åœ¨æ ‡ç­¾é¡µ A ä¸­ç‚¹å‡»é“¾æ¥æ‰“å¼€çš„ï¼Œä½†æ ‡ç­¾é¡µ D æ˜¯åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥åœ°å€æ‰“å¼€çš„ã€‚</strong></p>\n<p>æ‰€ä»¥ç°åœ¨æˆ‘æ˜ç™½äº†ï¼šé€šè¿‡ç‚¹å‡»é“¾æ¥ï¼ˆæˆ–è€…ç”¨äº† <code>window.open</code>ï¼‰æ‰“å¼€çš„æ–°æ ‡ç­¾é¡µä¹‹é—´æ˜¯å±äºåŒä¸€ä¸ª session çš„ï¼Œä½†æ–°å¼€ä¸€ä¸ªæ ‡ç­¾é¡µæ€»æ˜¯ä¼šåˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ sessionï¼Œå³ä½¿ç½‘ç«™æ˜¯ä¸€æ ·çš„ï¼Œå®ƒä»¬ä¹Ÿä¸å±äºåŒä¸€ä¸ª sessionã€‚</p>\n"},{"title":"Reactå…¥é—¨ï¼ˆä¸€ï¼‰ Stateè¯¦è§£","date":"2019-06-19T03:22:03.000Z","cover":"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/React.jpeg?raw=true","_content":"\n@[TOC](Reactå…¥é—¨ï¼ˆä¸€ï¼‰ Stateè¯¦è§£)\n\n# Reactå…¥é—¨ï¼ˆä¸€ï¼‰ Stateè¯¦è§£\n\næˆ‘ä»¬éƒ½æ˜¯ç¨‹åºå‘˜ï¼ŒåºŸè¯ä¸å¤šè¯´é©¬ä¸Šå¼€å§‹ï¼\n\n## ä¸€ã€ Demoåˆ›å»º/ä¸‹è½½\n\nä¸¤ç§æ–¹æ³•åˆ›å»ºæ–°çš„React APP\n\n### 1. githubä¸‹è½½\n\n- ä¸‹è½½[gitåœ°å€](https://github.com/DerrickTel/ReactDemo1.git).\n - è§£å‹-æ‰“å¼€\n  - npm install\n  - npm start \n  - ![å¦‚æœæœ‰è¯¢é—®](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/React%E5%85%A5%E9%97%A8%EF%BC%88%E4%B8%80%EF%BC%89%20State%E8%AF%A6%E8%A7%A3/20181123111537542.png?raw=true)\n  - yï¼ˆ3000ç«¯å£ä»»åŠ¡åœ¨è¿è¡Œæ˜¯å¦æ„¿æ„è¿è¡Œåœ¨åˆ«çš„ç«¯å£ä¸Šï¼Ÿï¼‰\n\n\n\n### 2. è‡ªå·±çš„å‘½ä»¤è¡Œåˆ›å»º\n- æ‰¾åˆ°è‡ªå·±**å¿ƒä»ªçš„æ–‡ä»¶å¤¹**   *ï¼ˆå…¨è‹±æ–‡ï¼‰*\n - ç”¨å‘½ä»¤è¡Œæ‰“å¼€å¹¶æŠµè¾¾**å¿ƒä»ªæ–‡ä»¶å¤¹**\n  - npx create-react-app my-app\n  - cd my-app\n  - npm start\n> **æ³¨æ„**\n> npxåœ¨ç¬¬ä¸€è¡Œä¸æ˜¯ä¸€ä¸ªé”™å­— - å®ƒæ˜¯ä¸€ä¸ªåŒ…è½¬å‘å·¥å…·ï¼Œé™„å¸¦npm 5.2+ã€‚\n> åˆ›å»ºçš„æ—¶å€™å·²ç»é»˜è®¤è¿è¡Œè¿‡ï¼ˆnpm install ï¼‰å¯ä»¥ç›´æ¥start\n\nç„¶åæŠŠ src/app.jsçš„æ–‡ä»¶å†…å®¹å…ˆæ”¹ä¸€ä¸‹\n\n```javascript\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Edit <code>src/App.js</code> and save to reload.\n          </p>\n          <p>\n            ä¿®æ”¹æ–‡ä»¶å¤¹ <code>src/App.js</code> ä¿å­˜æ—¶å€™ä¹‹åè‡ªåŠ¨åŠ è½½.\n          </p>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n```\nCtrl + C \n\nCtrl + V\n\n## äºŒã€Stateæ˜¯ä»€ä¹ˆï¼Ÿ\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](http://i2.tiimg.com/691643/fa5b342683cef063.png)\n\nè‹±æ–‡ç¿»è¯‘æ˜¯çŠ¶æ€ã€‚\n\nå…¶å®ä¹Ÿå¯ä»¥ç†è§£ä¸ºçŠ¶æ€ï¼Œä¸€æ®µæ–‡å­—ä¸­çš„æŸä¸ªå€¼æ”¹å˜äº†ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºçŠ¶æ€æ”¹å˜äº†ã€‚\nçœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­\n\n\næŠŠ src/app.jsçš„æ–‡ä»¶å†…å®¹å…ˆæ”¹ä¸€ä¸‹\n\n```javascript\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n  state={Text:'æˆ‘æ˜¯state'}\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Stateè¾“å‡ºï¼š{this.state.Text}\n          </p>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n```\n```javascript\n  state={Text:'æˆ‘æ˜¯state'}\n```\n\nè¿™é‡Œçš„stateæ˜¯ç»™stateè®¾ç½®åˆå€¼ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚ä¸ç›¸ä¿¡çš„è¯è‡ªå·±å¯ä»¥è¯•ä¸€ä¸‹ã€‚*ï¼ˆå› ä¸ºstateæ˜¯undefinedï¼Œæ‰€ä»¥ä»–é‡Œé¢å–ä¸åˆ°Textï¼‰*\n\né€šè¿‡ä¸Šé¢çš„ä¾‹å­å¯ä»¥çŸ¥é“stateé‡Œé¢æ”¾çš„æ˜¯XXçš„çŠ¶æ€\n\nkey valueå¯¹åº”çš„\n\nthis.state.xxå°±å¯ä»¥å–åˆ°å¯¹åº”keyçš„**çŠ¶æ€**çš„*å€¼*\n\n\n## ä¸‰ã€Stateå¦‚ä½•æ”¹å˜ï¼Ÿ\n\né€šå¸¸åœ¨JSé‡Œé¢ï¼Œæˆ‘ä»¬è¦æ”¹å˜æŸä¸€ä¸ªå€¼å¯èƒ½å°±åªéœ€è¦  X = XX; å°±å¯ä»¥ã€‚\n\n\nè¿™é‡Œçš„stateæ˜¯ä¸€ä¸ªçŠ¶æ€ã€‚çŠ¶æ€æ”¹å˜äº†ï¼Œé¡µé¢ä¼šè‡ªåŠ¨åˆ·æ–°ä¸ºæœ€æ–°çš„é¡µé¢ç”¨æœ€æ–°çš„çŠ¶æ€æ˜¾ç¤ºã€‚\nä¸‹é¢æˆ‘ä»¬åšä¸€ä¸ªå°å®éªŒã€‚\n\n\næŠŠ src/app.jsçš„æ–‡ä»¶å†…å®¹å…ˆæ”¹ä¸€ä¸‹\n\n```javascript\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n  state={Text:'æˆ‘æ˜¯state'}\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Stateè¾“å‡ºï¼š{this.state.Text}\n          </p>\n          <button onClick={()=>{\n            this.state.Text = 'æˆ‘æ˜¯é€šè¿‡this.state.Textæ”¹å˜çš„State';\n            alert(this.state.Text);\n          }}>\n            æŒ‰æˆ‘æ”¹å˜state\n          </button>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n```\n\nï¼ˆä¸è¦åœ¨æ„ç»†èŠ‚ï¼ï¼ï¼æˆ‘ä»¬æ˜¯æµ‹è¯•æŒ‰é’®çš„æ ·å¼ä¸é‡è¦ï¼ï¼ï¼ï¼‰\n\nç‚¹å‡»æŒ‰é’®ä¹‹åï¼Œæˆ‘ä»¬å‘ç°ï¼Œstateçš„å€¼æ˜¯æ”¹å˜äº†ï¼Œä½†æ˜¯é¡µé¢ä¸Šé¢æ˜¾ç¤ºçš„å€¼ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„å•Šã€‚\n\n\n\né‚£æˆ‘è¦æ€ä¹ˆæ‰å¯ä»¥åˆ·æ–°é¡µé¢å‡ºç°æˆ‘æƒ³è¦çš„stateçš„å€¼å‘¢ï¼Ÿ\n\nå®˜æ–¹æä¾›çš„æ–¹æ³•\n\nsetState(updater, [callback])\n\n\nå¯ä»¥è¿™ä¹ˆç†è§£ï¼Œé’ˆå¯¹ä¸Šé¢çš„ä¾‹å­\n\n\n```javascript\nthis.setState({Text:'æˆ‘æ˜¯é€šè¿‡this.state.Textæ”¹å˜çš„State'}, function(){})\n```\n\nåé¢çš„functionï¼Œå¯ä»¥æœ‰ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰ã€‚ä¸éœ€è¦çš„è¯å°±å¯ä»¥ä¸ç”¨å†™-----------ç¨åä¼šè¯´\n\næ‰€ä»¥åªéœ€è¦\n\n```javascript\nthis.setState({Text:'æˆ‘æ˜¯é€šè¿‡this.state.Textæ”¹å˜çš„State'})\n```\n\n\næŠŠ src/app.jsçš„æ–‡ä»¶å†…å®¹å…ˆæ”¹ä¸€ä¸‹\n\n```javascript\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n  state={Text:'æˆ‘æ˜¯state'}\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Stateè¾“å‡ºï¼š{this.state.Text}\n          </p>\n          <button onClick={()=>{\n            this.setState({Text:'æˆ‘æ˜¯é€šè¿‡this.state.Textæ”¹å˜çš„State'})\n            alert(this.state.Text);\n          }}>\n            æŒ‰æˆ‘æ”¹å˜state\n          </button>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n```\nä¿å­˜-çƒ­åŠ è½½\nä¹‹åæˆ‘ä»¬å‘ç°ï¼ŒçŠ¶æ€æ˜¯æ”¹å˜äº†ï¼Œå¯æ˜¯alertçš„å€¼ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œè¿˜æ˜¯è€çš„å€¼ï¼ˆçŠ¶æ€ï¼‰çš„ã€‚\n\nå¯èƒ½ä½ ä¸çŸ¥é“æˆ‘åœ¨è¯´ä»€ä¹ˆ\n\né€šè¿‡ä¸€ä¸ªå°ä¾‹å­æˆ‘ä»¬ä»”ç»†æ„Ÿå—ä¸€ä¸‹ã€‚å®˜æ–¹çš„setStateç©¶ç«Ÿåœ¨å¹²ä»€ä¹ˆã€‚\n\næŠŠ src/app.jsçš„æ–‡ä»¶å†…å®¹å…ˆæ”¹ä¸€ä¸‹\n\n```javascript\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n  state={\n    Text:'å¤§å®¶ä¸€èµ·çœ‹logå§ï¼Œæˆ‘è¿™æ¬¡å•¥ä¹Ÿä¸åš',\n    conut:0,\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Stateè¾“å‡ºï¼š{this.state.Text}\n          </p>\n          <button onClick={()=>{\n            console.log(this.state.conut);\n            this.setState({conut: this.state.conut + 1});\n            console.log(this.state.conut);\n          }}>\n            æŒ‰æˆ‘æ”¹å˜state\n          </button>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n```\n\næ‰“å¼€æˆ‘ä»¬çš„reacté¡µé¢\næŒ‰Ctrl + Shift + I\nçœ‹log\nç„¶åæŒ‰é’®\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](http://i2.tiimg.com/691643/52f1dcf23ee2a658.png)\n\nè¯¶ï¼Œæˆ‘ä¸æ˜¯setStateäº†å—ï¼Œä¸ºä»€ä¹ˆå€¼æ²¡æœ‰æ”¹å˜è¿˜æ˜¯åˆå€¼å‘¢ï¼Ÿ\n\næˆ‘ä»¬æ¢ä¸€ä¸ªæ–¹æ³•è¯•ä¸€ä¸‹\n```javascript\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n  state={\n    Text:'å¤§å®¶ä¸€èµ·çœ‹logå§ï¼Œæˆ‘è¿™æ¬¡å•¥ä¹Ÿä¸åš',\n    conut:0,\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Stateè¾“å‡ºï¼š{this.state.Text}\n          </p>\n          <button onClick={()=>{\n            console.log(this.state.conut);\n            this.setState({conut: this.state.conut + 1})\n            setTimeout(()=>{\n              console.log(this.state.conut);\n            },1000);\n          }}>\n            æŒ‰æˆ‘æ”¹å˜state\n          </button>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n```\n\n\né‚£æˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥è®¤ä¸ºsetStateä¸æ˜¯ä¸€ä¸ªç«‹åˆ»ç”Ÿæ•ˆçš„å‡½æ•°ã€‚\n\næœ‰ç‚¹ç±»ä¼¼å¼‚æ­¥çš„ç½‘ç»œè¯·æ±‚ã€‚\n\n\n\nè¿™æ˜¯ä¸€ä¸ªå‘ï¼Œå¾ˆå¤šæ–°æ‰‹éƒ½ä¼šé‡åˆ°çš„å‘ã€‚æˆ‘æ›¾ç»ä¹Ÿé‡åˆ°æ‰€ä»¥å†™å‡ºæ¥ã€‚\n\né‚£æ—¢ç„¶æ˜¯ç±»ä¼¼å¼‚æ­¥çš„ç½‘ç»œè¯·æ±‚è‚¯å®šä¹Ÿæœ‰callbackå’¯ï¼Ÿ\n\næ˜¯çš„ï¼\n\næˆ‘ä»¬æŠŠconsole.logæ”¾åˆ°åˆšåˆšæˆ‘ä»¬æ²¡æœ‰å†™functioné‡Œé¢ã€‚\n\n```javascript\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n  state={\n    Text:'å¤§å®¶ä¸€èµ·çœ‹logå§ï¼Œæˆ‘è¿™æ¬¡å•¥ä¹Ÿä¸åš',\n    conut:0,\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Stateè¾“å‡ºï¼š{this.state.Text}\n          </p>\n          <button onClick={()=>{\n            console.log(this.state.conut);\n            this.setState({conut: this.state.conut + 1}, ()=>{\n              console.log(this.state.conut);\n            })\n            \n          }}>\n            æŒ‰æˆ‘æ”¹å˜state\n          </button>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n```\n\nè¿™æ ·çš„å¥½å¤„æˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨çš„æ§åˆ¶ç­‰å¾…æ—¶é—´çš„å¤§å°ï¼Œå› ä¸ºæ ¹æ®è®¾å¤‡çš„ä¸åŒè¿™ä¸ªæ—¶é—´å¯èƒ½ä¼šå¤ªå¤šæˆ–è€…å¤ªå°‘ã€‚\n\næœ¬äººReactå°èœï¼Œæœ‰è¯´çš„ä¸å¯¹çš„åœ°æ–¹è¿˜è¯·å¤§ç¥æŒ‡å‡ºã€‚\n","source":"_posts/Reactå…¥é—¨ï¼ˆä¸€ï¼‰-Stateè¯¦è§£.md","raw":"---\ntitle: Reactå…¥é—¨ï¼ˆä¸€ï¼‰ Stateè¯¦è§£\ndate: 2019-06-19 11:22:03\ntags: [React, State]\ncategory: [React]\ncover: https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/React.jpeg?raw=true\n---\n\n@[TOC](Reactå…¥é—¨ï¼ˆä¸€ï¼‰ Stateè¯¦è§£)\n\n# Reactå…¥é—¨ï¼ˆä¸€ï¼‰ Stateè¯¦è§£\n\næˆ‘ä»¬éƒ½æ˜¯ç¨‹åºå‘˜ï¼ŒåºŸè¯ä¸å¤šè¯´é©¬ä¸Šå¼€å§‹ï¼\n\n## ä¸€ã€ Demoåˆ›å»º/ä¸‹è½½\n\nä¸¤ç§æ–¹æ³•åˆ›å»ºæ–°çš„React APP\n\n### 1. githubä¸‹è½½\n\n- ä¸‹è½½[gitåœ°å€](https://github.com/DerrickTel/ReactDemo1.git).\n - è§£å‹-æ‰“å¼€\n  - npm install\n  - npm start \n  - ![å¦‚æœæœ‰è¯¢é—®](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/React%E5%85%A5%E9%97%A8%EF%BC%88%E4%B8%80%EF%BC%89%20State%E8%AF%A6%E8%A7%A3/20181123111537542.png?raw=true)\n  - yï¼ˆ3000ç«¯å£ä»»åŠ¡åœ¨è¿è¡Œæ˜¯å¦æ„¿æ„è¿è¡Œåœ¨åˆ«çš„ç«¯å£ä¸Šï¼Ÿï¼‰\n\n\n\n### 2. è‡ªå·±çš„å‘½ä»¤è¡Œåˆ›å»º\n- æ‰¾åˆ°è‡ªå·±**å¿ƒä»ªçš„æ–‡ä»¶å¤¹**   *ï¼ˆå…¨è‹±æ–‡ï¼‰*\n - ç”¨å‘½ä»¤è¡Œæ‰“å¼€å¹¶æŠµè¾¾**å¿ƒä»ªæ–‡ä»¶å¤¹**\n  - npx create-react-app my-app\n  - cd my-app\n  - npm start\n> **æ³¨æ„**\n> npxåœ¨ç¬¬ä¸€è¡Œä¸æ˜¯ä¸€ä¸ªé”™å­— - å®ƒæ˜¯ä¸€ä¸ªåŒ…è½¬å‘å·¥å…·ï¼Œé™„å¸¦npm 5.2+ã€‚\n> åˆ›å»ºçš„æ—¶å€™å·²ç»é»˜è®¤è¿è¡Œè¿‡ï¼ˆnpm install ï¼‰å¯ä»¥ç›´æ¥start\n\nç„¶åæŠŠ src/app.jsçš„æ–‡ä»¶å†…å®¹å…ˆæ”¹ä¸€ä¸‹\n\n```javascript\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Edit <code>src/App.js</code> and save to reload.\n          </p>\n          <p>\n            ä¿®æ”¹æ–‡ä»¶å¤¹ <code>src/App.js</code> ä¿å­˜æ—¶å€™ä¹‹åè‡ªåŠ¨åŠ è½½.\n          </p>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n```\nCtrl + C \n\nCtrl + V\n\n## äºŒã€Stateæ˜¯ä»€ä¹ˆï¼Ÿ\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](http://i2.tiimg.com/691643/fa5b342683cef063.png)\n\nè‹±æ–‡ç¿»è¯‘æ˜¯çŠ¶æ€ã€‚\n\nå…¶å®ä¹Ÿå¯ä»¥ç†è§£ä¸ºçŠ¶æ€ï¼Œä¸€æ®µæ–‡å­—ä¸­çš„æŸä¸ªå€¼æ”¹å˜äº†ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºçŠ¶æ€æ”¹å˜äº†ã€‚\nçœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­\n\n\næŠŠ src/app.jsçš„æ–‡ä»¶å†…å®¹å…ˆæ”¹ä¸€ä¸‹\n\n```javascript\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n  state={Text:'æˆ‘æ˜¯state'}\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Stateè¾“å‡ºï¼š{this.state.Text}\n          </p>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n```\n```javascript\n  state={Text:'æˆ‘æ˜¯state'}\n```\n\nè¿™é‡Œçš„stateæ˜¯ç»™stateè®¾ç½®åˆå€¼ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚ä¸ç›¸ä¿¡çš„è¯è‡ªå·±å¯ä»¥è¯•ä¸€ä¸‹ã€‚*ï¼ˆå› ä¸ºstateæ˜¯undefinedï¼Œæ‰€ä»¥ä»–é‡Œé¢å–ä¸åˆ°Textï¼‰*\n\né€šè¿‡ä¸Šé¢çš„ä¾‹å­å¯ä»¥çŸ¥é“stateé‡Œé¢æ”¾çš„æ˜¯XXçš„çŠ¶æ€\n\nkey valueå¯¹åº”çš„\n\nthis.state.xxå°±å¯ä»¥å–åˆ°å¯¹åº”keyçš„**çŠ¶æ€**çš„*å€¼*\n\n\n## ä¸‰ã€Stateå¦‚ä½•æ”¹å˜ï¼Ÿ\n\né€šå¸¸åœ¨JSé‡Œé¢ï¼Œæˆ‘ä»¬è¦æ”¹å˜æŸä¸€ä¸ªå€¼å¯èƒ½å°±åªéœ€è¦  X = XX; å°±å¯ä»¥ã€‚\n\n\nè¿™é‡Œçš„stateæ˜¯ä¸€ä¸ªçŠ¶æ€ã€‚çŠ¶æ€æ”¹å˜äº†ï¼Œé¡µé¢ä¼šè‡ªåŠ¨åˆ·æ–°ä¸ºæœ€æ–°çš„é¡µé¢ç”¨æœ€æ–°çš„çŠ¶æ€æ˜¾ç¤ºã€‚\nä¸‹é¢æˆ‘ä»¬åšä¸€ä¸ªå°å®éªŒã€‚\n\n\næŠŠ src/app.jsçš„æ–‡ä»¶å†…å®¹å…ˆæ”¹ä¸€ä¸‹\n\n```javascript\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n  state={Text:'æˆ‘æ˜¯state'}\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Stateè¾“å‡ºï¼š{this.state.Text}\n          </p>\n          <button onClick={()=>{\n            this.state.Text = 'æˆ‘æ˜¯é€šè¿‡this.state.Textæ”¹å˜çš„State';\n            alert(this.state.Text);\n          }}>\n            æŒ‰æˆ‘æ”¹å˜state\n          </button>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n```\n\nï¼ˆä¸è¦åœ¨æ„ç»†èŠ‚ï¼ï¼ï¼æˆ‘ä»¬æ˜¯æµ‹è¯•æŒ‰é’®çš„æ ·å¼ä¸é‡è¦ï¼ï¼ï¼ï¼‰\n\nç‚¹å‡»æŒ‰é’®ä¹‹åï¼Œæˆ‘ä»¬å‘ç°ï¼Œstateçš„å€¼æ˜¯æ”¹å˜äº†ï¼Œä½†æ˜¯é¡µé¢ä¸Šé¢æ˜¾ç¤ºçš„å€¼ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„å•Šã€‚\n\n\n\né‚£æˆ‘è¦æ€ä¹ˆæ‰å¯ä»¥åˆ·æ–°é¡µé¢å‡ºç°æˆ‘æƒ³è¦çš„stateçš„å€¼å‘¢ï¼Ÿ\n\nå®˜æ–¹æä¾›çš„æ–¹æ³•\n\nsetState(updater, [callback])\n\n\nå¯ä»¥è¿™ä¹ˆç†è§£ï¼Œé’ˆå¯¹ä¸Šé¢çš„ä¾‹å­\n\n\n```javascript\nthis.setState({Text:'æˆ‘æ˜¯é€šè¿‡this.state.Textæ”¹å˜çš„State'}, function(){})\n```\n\nåé¢çš„functionï¼Œå¯ä»¥æœ‰ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰ã€‚ä¸éœ€è¦çš„è¯å°±å¯ä»¥ä¸ç”¨å†™-----------ç¨åä¼šè¯´\n\næ‰€ä»¥åªéœ€è¦\n\n```javascript\nthis.setState({Text:'æˆ‘æ˜¯é€šè¿‡this.state.Textæ”¹å˜çš„State'})\n```\n\n\næŠŠ src/app.jsçš„æ–‡ä»¶å†…å®¹å…ˆæ”¹ä¸€ä¸‹\n\n```javascript\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n  state={Text:'æˆ‘æ˜¯state'}\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Stateè¾“å‡ºï¼š{this.state.Text}\n          </p>\n          <button onClick={()=>{\n            this.setState({Text:'æˆ‘æ˜¯é€šè¿‡this.state.Textæ”¹å˜çš„State'})\n            alert(this.state.Text);\n          }}>\n            æŒ‰æˆ‘æ”¹å˜state\n          </button>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n```\nä¿å­˜-çƒ­åŠ è½½\nä¹‹åæˆ‘ä»¬å‘ç°ï¼ŒçŠ¶æ€æ˜¯æ”¹å˜äº†ï¼Œå¯æ˜¯alertçš„å€¼ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œè¿˜æ˜¯è€çš„å€¼ï¼ˆçŠ¶æ€ï¼‰çš„ã€‚\n\nå¯èƒ½ä½ ä¸çŸ¥é“æˆ‘åœ¨è¯´ä»€ä¹ˆ\n\né€šè¿‡ä¸€ä¸ªå°ä¾‹å­æˆ‘ä»¬ä»”ç»†æ„Ÿå—ä¸€ä¸‹ã€‚å®˜æ–¹çš„setStateç©¶ç«Ÿåœ¨å¹²ä»€ä¹ˆã€‚\n\næŠŠ src/app.jsçš„æ–‡ä»¶å†…å®¹å…ˆæ”¹ä¸€ä¸‹\n\n```javascript\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n  state={\n    Text:'å¤§å®¶ä¸€èµ·çœ‹logå§ï¼Œæˆ‘è¿™æ¬¡å•¥ä¹Ÿä¸åš',\n    conut:0,\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Stateè¾“å‡ºï¼š{this.state.Text}\n          </p>\n          <button onClick={()=>{\n            console.log(this.state.conut);\n            this.setState({conut: this.state.conut + 1});\n            console.log(this.state.conut);\n          }}>\n            æŒ‰æˆ‘æ”¹å˜state\n          </button>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n```\n\næ‰“å¼€æˆ‘ä»¬çš„reacté¡µé¢\næŒ‰Ctrl + Shift + I\nçœ‹log\nç„¶åæŒ‰é’®\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](http://i2.tiimg.com/691643/52f1dcf23ee2a658.png)\n\nè¯¶ï¼Œæˆ‘ä¸æ˜¯setStateäº†å—ï¼Œä¸ºä»€ä¹ˆå€¼æ²¡æœ‰æ”¹å˜è¿˜æ˜¯åˆå€¼å‘¢ï¼Ÿ\n\næˆ‘ä»¬æ¢ä¸€ä¸ªæ–¹æ³•è¯•ä¸€ä¸‹\n```javascript\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n  state={\n    Text:'å¤§å®¶ä¸€èµ·çœ‹logå§ï¼Œæˆ‘è¿™æ¬¡å•¥ä¹Ÿä¸åš',\n    conut:0,\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Stateè¾“å‡ºï¼š{this.state.Text}\n          </p>\n          <button onClick={()=>{\n            console.log(this.state.conut);\n            this.setState({conut: this.state.conut + 1})\n            setTimeout(()=>{\n              console.log(this.state.conut);\n            },1000);\n          }}>\n            æŒ‰æˆ‘æ”¹å˜state\n          </button>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n```\n\n\né‚£æˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥è®¤ä¸ºsetStateä¸æ˜¯ä¸€ä¸ªç«‹åˆ»ç”Ÿæ•ˆçš„å‡½æ•°ã€‚\n\næœ‰ç‚¹ç±»ä¼¼å¼‚æ­¥çš„ç½‘ç»œè¯·æ±‚ã€‚\n\n\n\nè¿™æ˜¯ä¸€ä¸ªå‘ï¼Œå¾ˆå¤šæ–°æ‰‹éƒ½ä¼šé‡åˆ°çš„å‘ã€‚æˆ‘æ›¾ç»ä¹Ÿé‡åˆ°æ‰€ä»¥å†™å‡ºæ¥ã€‚\n\né‚£æ—¢ç„¶æ˜¯ç±»ä¼¼å¼‚æ­¥çš„ç½‘ç»œè¯·æ±‚è‚¯å®šä¹Ÿæœ‰callbackå’¯ï¼Ÿ\n\næ˜¯çš„ï¼\n\næˆ‘ä»¬æŠŠconsole.logæ”¾åˆ°åˆšåˆšæˆ‘ä»¬æ²¡æœ‰å†™functioné‡Œé¢ã€‚\n\n```javascript\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n  state={\n    Text:'å¤§å®¶ä¸€èµ·çœ‹logå§ï¼Œæˆ‘è¿™æ¬¡å•¥ä¹Ÿä¸åš',\n    conut:0,\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Stateè¾“å‡ºï¼š{this.state.Text}\n          </p>\n          <button onClick={()=>{\n            console.log(this.state.conut);\n            this.setState({conut: this.state.conut + 1}, ()=>{\n              console.log(this.state.conut);\n            })\n            \n          }}>\n            æŒ‰æˆ‘æ”¹å˜state\n          </button>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n```\n\nè¿™æ ·çš„å¥½å¤„æˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨çš„æ§åˆ¶ç­‰å¾…æ—¶é—´çš„å¤§å°ï¼Œå› ä¸ºæ ¹æ®è®¾å¤‡çš„ä¸åŒè¿™ä¸ªæ—¶é—´å¯èƒ½ä¼šå¤ªå¤šæˆ–è€…å¤ªå°‘ã€‚\n\næœ¬äººReactå°èœï¼Œæœ‰è¯´çš„ä¸å¯¹çš„åœ°æ–¹è¿˜è¯·å¤§ç¥æŒ‡å‡ºã€‚\n","slug":"Reactå…¥é—¨ï¼ˆä¸€ï¼‰-Stateè¯¦è§£","published":1,"updated":"2020-04-11T11:50:40.209Z","_id":"ck8vk5p9d0028o5vm1jfl1fkg","comments":1,"layout":"post","photos":[],"link":"","content":"<p>@[TOC](Reactå…¥é—¨ï¼ˆä¸€ï¼‰ Stateè¯¦è§£)</p>\n<h1 id=\"Reactå…¥é—¨ï¼ˆä¸€ï¼‰-Stateè¯¦è§£\"><a href=\"#Reactå…¥é—¨ï¼ˆä¸€ï¼‰-Stateè¯¦è§£\" class=\"headerlink\" title=\"Reactå…¥é—¨ï¼ˆä¸€ï¼‰ Stateè¯¦è§£\"></a>Reactå…¥é—¨ï¼ˆä¸€ï¼‰ Stateè¯¦è§£</h1><p>æˆ‘ä»¬éƒ½æ˜¯ç¨‹åºå‘˜ï¼ŒåºŸè¯ä¸å¤šè¯´é©¬ä¸Šå¼€å§‹ï¼</p>\n<h2 id=\"ä¸€ã€-Demoåˆ›å»º-ä¸‹è½½\"><a href=\"#ä¸€ã€-Demoåˆ›å»º-ä¸‹è½½\" class=\"headerlink\" title=\"ä¸€ã€ Demoåˆ›å»º/ä¸‹è½½\"></a>ä¸€ã€ Demoåˆ›å»º/ä¸‹è½½</h2><p>ä¸¤ç§æ–¹æ³•åˆ›å»ºæ–°çš„React APP</p>\n<h3 id=\"1-githubä¸‹è½½\"><a href=\"#1-githubä¸‹è½½\" class=\"headerlink\" title=\"1. githubä¸‹è½½\"></a>1. githubä¸‹è½½</h3><ul>\n<li>ä¸‹è½½<a href=\"https://github.com/DerrickTel/ReactDemo1.git\" target=\"_blank\" rel=\"noopener\">gitåœ°å€</a>.<ul>\n<li>è§£å‹-æ‰“å¼€</li>\n<li>npm install</li>\n<li>npm start </li>\n<li><img src=\"/\" class=\"lazyload\" data-src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/React%E5%85%A5%E9%97%A8%EF%BC%88%E4%B8%80%EF%BC%89%20State%E8%AF%A6%E8%A7%A3/20181123111537542.png?raw=true\"  alt=\"å¦‚æœæœ‰è¯¢é—®\"></li>\n<li>yï¼ˆ3000ç«¯å£ä»»åŠ¡åœ¨è¿è¡Œæ˜¯å¦æ„¿æ„è¿è¡Œåœ¨åˆ«çš„ç«¯å£ä¸Šï¼Ÿï¼‰</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"2-è‡ªå·±çš„å‘½ä»¤è¡Œåˆ›å»º\"><a href=\"#2-è‡ªå·±çš„å‘½ä»¤è¡Œåˆ›å»º\" class=\"headerlink\" title=\"2. è‡ªå·±çš„å‘½ä»¤è¡Œåˆ›å»º\"></a>2. è‡ªå·±çš„å‘½ä»¤è¡Œåˆ›å»º</h3><ul>\n<li>æ‰¾åˆ°è‡ªå·±<strong>å¿ƒä»ªçš„æ–‡ä»¶å¤¹</strong>   <em>ï¼ˆå…¨è‹±æ–‡ï¼‰</em><ul>\n<li>ç”¨å‘½ä»¤è¡Œæ‰“å¼€å¹¶æŠµè¾¾<strong>å¿ƒä»ªæ–‡ä»¶å¤¹</strong></li>\n<li>npx create-react-app my-app</li>\n<li>cd my-app</li>\n<li>npm start<blockquote>\n<p><strong>æ³¨æ„</strong><br>npxåœ¨ç¬¬ä¸€è¡Œä¸æ˜¯ä¸€ä¸ªé”™å­— - å®ƒæ˜¯ä¸€ä¸ªåŒ…è½¬å‘å·¥å…·ï¼Œé™„å¸¦npm 5.2+ã€‚<br>åˆ›å»ºçš„æ—¶å€™å·²ç»é»˜è®¤è¿è¡Œè¿‡ï¼ˆnpm install ï¼‰å¯ä»¥ç›´æ¥start</p>\n</blockquote>\n</li>\n</ul>\n</li>\n</ul>\n<p>ç„¶åæŠŠ src/app.jsçš„æ–‡ä»¶å†…å®¹å…ˆæ”¹ä¸€ä¸‹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> logo <span class=\"keyword\">from</span> <span class=\"string\">'./logo.svg'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'./App.css'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;div className=<span class=\"string\">\"App\"</span>&gt;</span><br><span class=\"line\">        &lt;header className=<span class=\"string\">\"App-header\"</span>&gt;</span><br><span class=\"line\">          &lt;img src=&#123;logo&#125; className=<span class=\"string\">\"App-logo\"</span> alt=<span class=\"string\">\"logo\"</span> /&gt;</span><br><span class=\"line\">          &lt;p&gt;</span><br><span class=\"line\">            Edit &lt;code&gt;src/App.js&lt;<span class=\"regexp\">/code&gt; and save to reload.</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;/</span>p&gt;</span><br><span class=\"line\">          &lt;p&gt;</span><br><span class=\"line\">            ä¿®æ”¹æ–‡ä»¶å¤¹ &lt;code&gt;src/App.js&lt;<span class=\"regexp\">/code&gt; ä¿å­˜æ—¶å€™ä¹‹åè‡ªåŠ¨åŠ è½½.</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;/</span>p&gt;</span><br><span class=\"line\">        &lt;<span class=\"regexp\">/header&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">      &lt;/</span>div&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> App;</span><br></pre></td></tr></table></figure>\n<p>Ctrl + C </p>\n<p>Ctrl + V</p>\n<h2 id=\"äºŒã€Stateæ˜¯ä»€ä¹ˆï¼Ÿ\"><a href=\"#äºŒã€Stateæ˜¯ä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"äºŒã€Stateæ˜¯ä»€ä¹ˆï¼Ÿ\"></a>äºŒã€Stateæ˜¯ä»€ä¹ˆï¼Ÿ</h2><p><img src=\"/\" class=\"lazyload\" data-src=\"http://i2.tiimg.com/691643/fa5b342683cef063.png\"  alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>è‹±æ–‡ç¿»è¯‘æ˜¯çŠ¶æ€ã€‚</p>\n<p>å…¶å®ä¹Ÿå¯ä»¥ç†è§£ä¸ºçŠ¶æ€ï¼Œä¸€æ®µæ–‡å­—ä¸­çš„æŸä¸ªå€¼æ”¹å˜äº†ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºçŠ¶æ€æ”¹å˜äº†ã€‚<br>çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­</p>\n<p>æŠŠ src/app.jsçš„æ–‡ä»¶å†…å®¹å…ˆæ”¹ä¸€ä¸‹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> logo <span class=\"keyword\">from</span> <span class=\"string\">'./logo.svg'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'./App.css'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  state=&#123;<span class=\"attr\">Text</span>:<span class=\"string\">'æˆ‘æ˜¯state'</span>&#125;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;div className=<span class=\"string\">\"App\"</span>&gt;</span><br><span class=\"line\">        &lt;header className=<span class=\"string\">\"App-header\"</span>&gt;</span><br><span class=\"line\">          &lt;img src=&#123;logo&#125; className=<span class=\"string\">\"App-logo\"</span> alt=<span class=\"string\">\"logo\"</span> /&gt;</span><br><span class=\"line\">          &lt;p&gt;</span><br><span class=\"line\">            Stateè¾“å‡ºï¼š&#123;<span class=\"keyword\">this</span>.state.Text&#125;</span><br><span class=\"line\">          &lt;<span class=\"regexp\">/p&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">        &lt;/</span>header&gt;</span><br><span class=\"line\">      &lt;<span class=\"regexp\">/div&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    );</span></span><br><span class=\"line\"><span class=\"regexp\">  &#125;</span></span><br><span class=\"line\"><span class=\"regexp\">&#125;</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">export default App;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">state=&#123;<span class=\"attr\">Text</span>:<span class=\"string\">'æˆ‘æ˜¯state'</span>&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œçš„stateæ˜¯ç»™stateè®¾ç½®åˆå€¼ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚ä¸ç›¸ä¿¡çš„è¯è‡ªå·±å¯ä»¥è¯•ä¸€ä¸‹ã€‚<em>ï¼ˆå› ä¸ºstateæ˜¯undefinedï¼Œæ‰€ä»¥ä»–é‡Œé¢å–ä¸åˆ°Textï¼‰</em></p>\n<p>é€šè¿‡ä¸Šé¢çš„ä¾‹å­å¯ä»¥çŸ¥é“stateé‡Œé¢æ”¾çš„æ˜¯XXçš„çŠ¶æ€</p>\n<p>key valueå¯¹åº”çš„</p>\n<p>this.state.xxå°±å¯ä»¥å–åˆ°å¯¹åº”keyçš„<strong>çŠ¶æ€</strong>çš„<em>å€¼</em></p>\n<h2 id=\"ä¸‰ã€Stateå¦‚ä½•æ”¹å˜ï¼Ÿ\"><a href=\"#ä¸‰ã€Stateå¦‚ä½•æ”¹å˜ï¼Ÿ\" class=\"headerlink\" title=\"ä¸‰ã€Stateå¦‚ä½•æ”¹å˜ï¼Ÿ\"></a>ä¸‰ã€Stateå¦‚ä½•æ”¹å˜ï¼Ÿ</h2><p>é€šå¸¸åœ¨JSé‡Œé¢ï¼Œæˆ‘ä»¬è¦æ”¹å˜æŸä¸€ä¸ªå€¼å¯èƒ½å°±åªéœ€è¦  X = XX; å°±å¯ä»¥ã€‚</p>\n<p>è¿™é‡Œçš„stateæ˜¯ä¸€ä¸ªçŠ¶æ€ã€‚çŠ¶æ€æ”¹å˜äº†ï¼Œé¡µé¢ä¼šè‡ªåŠ¨åˆ·æ–°ä¸ºæœ€æ–°çš„é¡µé¢ç”¨æœ€æ–°çš„çŠ¶æ€æ˜¾ç¤ºã€‚<br>ä¸‹é¢æˆ‘ä»¬åšä¸€ä¸ªå°å®éªŒã€‚</p>\n<p>æŠŠ src/app.jsçš„æ–‡ä»¶å†…å®¹å…ˆæ”¹ä¸€ä¸‹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> logo <span class=\"keyword\">from</span> <span class=\"string\">'./logo.svg'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'./App.css'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  state=&#123;<span class=\"attr\">Text</span>:<span class=\"string\">'æˆ‘æ˜¯state'</span>&#125;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;div className=<span class=\"string\">\"App\"</span>&gt;</span><br><span class=\"line\">        &lt;header className=<span class=\"string\">\"App-header\"</span>&gt;</span><br><span class=\"line\">          &lt;img src=&#123;logo&#125; className=<span class=\"string\">\"App-logo\"</span> alt=<span class=\"string\">\"logo\"</span> /&gt;</span><br><span class=\"line\">          &lt;p&gt;</span><br><span class=\"line\">            Stateè¾“å‡ºï¼š&#123;<span class=\"keyword\">this</span>.state.Text&#125;</span><br><span class=\"line\">          &lt;<span class=\"regexp\">/p&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;button onClick=&#123;()=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"regexp\">            this.state.Text = 'æˆ‘æ˜¯é€šè¿‡this.state.Textæ”¹å˜çš„State';</span></span><br><span class=\"line\"><span class=\"regexp\">            alert(this.state.Text);</span></span><br><span class=\"line\"><span class=\"regexp\">          &#125;&#125;&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">            æŒ‰æˆ‘æ”¹å˜state</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;/</span>button&gt;</span><br><span class=\"line\">        &lt;<span class=\"regexp\">/header&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">      &lt;/</span>div&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> App;</span><br></pre></td></tr></table></figure>\n\n<p>ï¼ˆä¸è¦åœ¨æ„ç»†èŠ‚ï¼ï¼ï¼æˆ‘ä»¬æ˜¯æµ‹è¯•æŒ‰é’®çš„æ ·å¼ä¸é‡è¦ï¼ï¼ï¼ï¼‰</p>\n<p>ç‚¹å‡»æŒ‰é’®ä¹‹åï¼Œæˆ‘ä»¬å‘ç°ï¼Œstateçš„å€¼æ˜¯æ”¹å˜äº†ï¼Œä½†æ˜¯é¡µé¢ä¸Šé¢æ˜¾ç¤ºçš„å€¼ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„å•Šã€‚</p>\n<p>é‚£æˆ‘è¦æ€ä¹ˆæ‰å¯ä»¥åˆ·æ–°é¡µé¢å‡ºç°æˆ‘æƒ³è¦çš„stateçš„å€¼å‘¢ï¼Ÿ</p>\n<p>å®˜æ–¹æä¾›çš„æ–¹æ³•</p>\n<p>setState(updater, [callback])</p>\n<p>å¯ä»¥è¿™ä¹ˆç†è§£ï¼Œé’ˆå¯¹ä¸Šé¢çš„ä¾‹å­</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.setState(&#123;<span class=\"attr\">Text</span>:<span class=\"string\">'æˆ‘æ˜¯é€šè¿‡this.state.Textæ”¹å˜çš„State'</span>&#125;, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>åé¢çš„functionï¼Œå¯ä»¥æœ‰ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰ã€‚ä¸éœ€è¦çš„è¯å°±å¯ä»¥ä¸ç”¨å†™â€”â€”â€”â€“ç¨åä¼šè¯´</p>\n<p>æ‰€ä»¥åªéœ€è¦</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.setState(&#123;<span class=\"attr\">Text</span>:<span class=\"string\">'æˆ‘æ˜¯é€šè¿‡this.state.Textæ”¹å˜çš„State'</span>&#125;)</span><br></pre></td></tr></table></figure>\n\n\n<p>æŠŠ src/app.jsçš„æ–‡ä»¶å†…å®¹å…ˆæ”¹ä¸€ä¸‹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> logo <span class=\"keyword\">from</span> <span class=\"string\">'./logo.svg'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'./App.css'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  state=&#123;<span class=\"attr\">Text</span>:<span class=\"string\">'æˆ‘æ˜¯state'</span>&#125;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;div className=<span class=\"string\">\"App\"</span>&gt;</span><br><span class=\"line\">        &lt;header className=<span class=\"string\">\"App-header\"</span>&gt;</span><br><span class=\"line\">          &lt;img src=&#123;logo&#125; className=<span class=\"string\">\"App-logo\"</span> alt=<span class=\"string\">\"logo\"</span> /&gt;</span><br><span class=\"line\">          &lt;p&gt;</span><br><span class=\"line\">            Stateè¾“å‡ºï¼š&#123;<span class=\"keyword\">this</span>.state.Text&#125;</span><br><span class=\"line\">          &lt;<span class=\"regexp\">/p&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;button onClick=&#123;()=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"regexp\">            this.setState(&#123;Text:'æˆ‘æ˜¯é€šè¿‡this.state.Textæ”¹å˜çš„State'&#125;)</span></span><br><span class=\"line\"><span class=\"regexp\">            alert(this.state.Text);</span></span><br><span class=\"line\"><span class=\"regexp\">          &#125;&#125;&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">            æŒ‰æˆ‘æ”¹å˜state</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;/</span>button&gt;</span><br><span class=\"line\">        &lt;<span class=\"regexp\">/header&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">      &lt;/</span>div&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> App;</span><br></pre></td></tr></table></figure>\n<p>ä¿å­˜-çƒ­åŠ è½½<br>ä¹‹åæˆ‘ä»¬å‘ç°ï¼ŒçŠ¶æ€æ˜¯æ”¹å˜äº†ï¼Œå¯æ˜¯alertçš„å€¼ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œè¿˜æ˜¯è€çš„å€¼ï¼ˆçŠ¶æ€ï¼‰çš„ã€‚</p>\n<p>å¯èƒ½ä½ ä¸çŸ¥é“æˆ‘åœ¨è¯´ä»€ä¹ˆ</p>\n<p>é€šè¿‡ä¸€ä¸ªå°ä¾‹å­æˆ‘ä»¬ä»”ç»†æ„Ÿå—ä¸€ä¸‹ã€‚å®˜æ–¹çš„setStateç©¶ç«Ÿåœ¨å¹²ä»€ä¹ˆã€‚</p>\n<p>æŠŠ src/app.jsçš„æ–‡ä»¶å†…å®¹å…ˆæ”¹ä¸€ä¸‹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> logo <span class=\"keyword\">from</span> <span class=\"string\">'./logo.svg'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'./App.css'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  state=&#123;</span><br><span class=\"line\">    Text:<span class=\"string\">'å¤§å®¶ä¸€èµ·çœ‹logå§ï¼Œæˆ‘è¿™æ¬¡å•¥ä¹Ÿä¸åš'</span>,</span><br><span class=\"line\">    conut:<span class=\"number\">0</span>,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;div className=<span class=\"string\">\"App\"</span>&gt;</span><br><span class=\"line\">        &lt;header className=<span class=\"string\">\"App-header\"</span>&gt;</span><br><span class=\"line\">          &lt;img src=&#123;logo&#125; className=<span class=\"string\">\"App-logo\"</span> alt=<span class=\"string\">\"logo\"</span> /&gt;</span><br><span class=\"line\">          &lt;p&gt;</span><br><span class=\"line\">            Stateè¾“å‡ºï¼š&#123;<span class=\"keyword\">this</span>.state.Text&#125;</span><br><span class=\"line\">          &lt;<span class=\"regexp\">/p&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;button onClick=&#123;()=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"regexp\">            console.log(this.state.conut);</span></span><br><span class=\"line\"><span class=\"regexp\">            this.setState(&#123;conut: this.state.conut + 1&#125;);</span></span><br><span class=\"line\"><span class=\"regexp\">            console.log(this.state.conut);</span></span><br><span class=\"line\"><span class=\"regexp\">          &#125;&#125;&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">            æŒ‰æˆ‘æ”¹å˜state</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;/</span>button&gt;</span><br><span class=\"line\">        &lt;<span class=\"regexp\">/header&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">      &lt;/</span>div&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> App;</span><br></pre></td></tr></table></figure>\n\n<p>æ‰“å¼€æˆ‘ä»¬çš„reacté¡µé¢<br>æŒ‰Ctrl + Shift + I<br>çœ‹log<br>ç„¶åæŒ‰é’®</p>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"http://i2.tiimg.com/691643/52f1dcf23ee2a658.png\"  alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>è¯¶ï¼Œæˆ‘ä¸æ˜¯setStateäº†å—ï¼Œä¸ºä»€ä¹ˆå€¼æ²¡æœ‰æ”¹å˜è¿˜æ˜¯åˆå€¼å‘¢ï¼Ÿ</p>\n<p>æˆ‘ä»¬æ¢ä¸€ä¸ªæ–¹æ³•è¯•ä¸€ä¸‹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> logo <span class=\"keyword\">from</span> <span class=\"string\">'./logo.svg'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'./App.css'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  state=&#123;</span><br><span class=\"line\">    Text:<span class=\"string\">'å¤§å®¶ä¸€èµ·çœ‹logå§ï¼Œæˆ‘è¿™æ¬¡å•¥ä¹Ÿä¸åš'</span>,</span><br><span class=\"line\">    conut:<span class=\"number\">0</span>,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;div className=<span class=\"string\">\"App\"</span>&gt;</span><br><span class=\"line\">        &lt;header className=<span class=\"string\">\"App-header\"</span>&gt;</span><br><span class=\"line\">          &lt;img src=&#123;logo&#125; className=<span class=\"string\">\"App-logo\"</span> alt=<span class=\"string\">\"logo\"</span> /&gt;</span><br><span class=\"line\">          &lt;p&gt;</span><br><span class=\"line\">            Stateè¾“å‡ºï¼š&#123;<span class=\"keyword\">this</span>.state.Text&#125;</span><br><span class=\"line\">          &lt;<span class=\"regexp\">/p&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;button onClick=&#123;()=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"regexp\">            console.log(this.state.conut);</span></span><br><span class=\"line\"><span class=\"regexp\">            this.setState(&#123;conut: this.state.conut + 1&#125;)</span></span><br><span class=\"line\"><span class=\"regexp\">            setTimeout(()=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"regexp\">              console.log(this.state.conut);</span></span><br><span class=\"line\"><span class=\"regexp\">            &#125;,1000);</span></span><br><span class=\"line\"><span class=\"regexp\">          &#125;&#125;&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">            æŒ‰æˆ‘æ”¹å˜state</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;/</span>button&gt;</span><br><span class=\"line\">        &lt;<span class=\"regexp\">/header&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">      &lt;/</span>div&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> App;</span><br></pre></td></tr></table></figure>\n\n\n<p>é‚£æˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥è®¤ä¸ºsetStateä¸æ˜¯ä¸€ä¸ªç«‹åˆ»ç”Ÿæ•ˆçš„å‡½æ•°ã€‚</p>\n<p>æœ‰ç‚¹ç±»ä¼¼å¼‚æ­¥çš„ç½‘ç»œè¯·æ±‚ã€‚</p>\n<p>è¿™æ˜¯ä¸€ä¸ªå‘ï¼Œå¾ˆå¤šæ–°æ‰‹éƒ½ä¼šé‡åˆ°çš„å‘ã€‚æˆ‘æ›¾ç»ä¹Ÿé‡åˆ°æ‰€ä»¥å†™å‡ºæ¥ã€‚</p>\n<p>é‚£æ—¢ç„¶æ˜¯ç±»ä¼¼å¼‚æ­¥çš„ç½‘ç»œè¯·æ±‚è‚¯å®šä¹Ÿæœ‰callbackå’¯ï¼Ÿ</p>\n<p>æ˜¯çš„ï¼</p>\n<p>æˆ‘ä»¬æŠŠconsole.logæ”¾åˆ°åˆšåˆšæˆ‘ä»¬æ²¡æœ‰å†™functioné‡Œé¢ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> logo <span class=\"keyword\">from</span> <span class=\"string\">'./logo.svg'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'./App.css'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  state=&#123;</span><br><span class=\"line\">    Text:<span class=\"string\">'å¤§å®¶ä¸€èµ·çœ‹logå§ï¼Œæˆ‘è¿™æ¬¡å•¥ä¹Ÿä¸åš'</span>,</span><br><span class=\"line\">    conut:<span class=\"number\">0</span>,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;div className=<span class=\"string\">\"App\"</span>&gt;</span><br><span class=\"line\">        &lt;header className=<span class=\"string\">\"App-header\"</span>&gt;</span><br><span class=\"line\">          &lt;img src=&#123;logo&#125; className=<span class=\"string\">\"App-logo\"</span> alt=<span class=\"string\">\"logo\"</span> /&gt;</span><br><span class=\"line\">          &lt;p&gt;</span><br><span class=\"line\">            Stateè¾“å‡ºï¼š&#123;<span class=\"keyword\">this</span>.state.Text&#125;</span><br><span class=\"line\">          &lt;<span class=\"regexp\">/p&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;button onClick=&#123;()=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"regexp\">            console.log(this.state.conut);</span></span><br><span class=\"line\"><span class=\"regexp\">            this.setState(&#123;conut: this.state.conut + 1&#125;, ()=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"regexp\">              console.log(this.state.conut);</span></span><br><span class=\"line\"><span class=\"regexp\">            &#125;)</span></span><br><span class=\"line\"><span class=\"regexp\">            </span></span><br><span class=\"line\"><span class=\"regexp\">          &#125;&#125;&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">            æŒ‰æˆ‘æ”¹å˜state</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;/</span>button&gt;</span><br><span class=\"line\">        &lt;<span class=\"regexp\">/header&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">      &lt;/</span>div&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> App;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·çš„å¥½å¤„æˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨çš„æ§åˆ¶ç­‰å¾…æ—¶é—´çš„å¤§å°ï¼Œå› ä¸ºæ ¹æ®è®¾å¤‡çš„ä¸åŒè¿™ä¸ªæ—¶é—´å¯èƒ½ä¼šå¤ªå¤šæˆ–è€…å¤ªå°‘ã€‚</p>\n<p>æœ¬äººReactå°èœï¼Œæœ‰è¯´çš„ä¸å¯¹çš„åœ°æ–¹è¿˜è¯·å¤§ç¥æŒ‡å‡ºã€‚</p>\n","site":{"data":{}},"excerpt":"","more":"<p>@[TOC](Reactå…¥é—¨ï¼ˆä¸€ï¼‰ Stateè¯¦è§£)</p>\n<h1 id=\"Reactå…¥é—¨ï¼ˆä¸€ï¼‰-Stateè¯¦è§£\"><a href=\"#Reactå…¥é—¨ï¼ˆä¸€ï¼‰-Stateè¯¦è§£\" class=\"headerlink\" title=\"Reactå…¥é—¨ï¼ˆä¸€ï¼‰ Stateè¯¦è§£\"></a>Reactå…¥é—¨ï¼ˆä¸€ï¼‰ Stateè¯¦è§£</h1><p>æˆ‘ä»¬éƒ½æ˜¯ç¨‹åºå‘˜ï¼ŒåºŸè¯ä¸å¤šè¯´é©¬ä¸Šå¼€å§‹ï¼</p>\n<h2 id=\"ä¸€ã€-Demoåˆ›å»º-ä¸‹è½½\"><a href=\"#ä¸€ã€-Demoåˆ›å»º-ä¸‹è½½\" class=\"headerlink\" title=\"ä¸€ã€ Demoåˆ›å»º/ä¸‹è½½\"></a>ä¸€ã€ Demoåˆ›å»º/ä¸‹è½½</h2><p>ä¸¤ç§æ–¹æ³•åˆ›å»ºæ–°çš„React APP</p>\n<h3 id=\"1-githubä¸‹è½½\"><a href=\"#1-githubä¸‹è½½\" class=\"headerlink\" title=\"1. githubä¸‹è½½\"></a>1. githubä¸‹è½½</h3><ul>\n<li>ä¸‹è½½<a href=\"https://github.com/DerrickTel/ReactDemo1.git\" target=\"_blank\" rel=\"noopener\">gitåœ°å€</a>.<ul>\n<li>è§£å‹-æ‰“å¼€</li>\n<li>npm install</li>\n<li>npm start </li>\n<li><img src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/React%E5%85%A5%E9%97%A8%EF%BC%88%E4%B8%80%EF%BC%89%20State%E8%AF%A6%E8%A7%A3/20181123111537542.png?raw=true\" alt=\"å¦‚æœæœ‰è¯¢é—®\"></li>\n<li>yï¼ˆ3000ç«¯å£ä»»åŠ¡åœ¨è¿è¡Œæ˜¯å¦æ„¿æ„è¿è¡Œåœ¨åˆ«çš„ç«¯å£ä¸Šï¼Ÿï¼‰</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"2-è‡ªå·±çš„å‘½ä»¤è¡Œåˆ›å»º\"><a href=\"#2-è‡ªå·±çš„å‘½ä»¤è¡Œåˆ›å»º\" class=\"headerlink\" title=\"2. è‡ªå·±çš„å‘½ä»¤è¡Œåˆ›å»º\"></a>2. è‡ªå·±çš„å‘½ä»¤è¡Œåˆ›å»º</h3><ul>\n<li>æ‰¾åˆ°è‡ªå·±<strong>å¿ƒä»ªçš„æ–‡ä»¶å¤¹</strong>   <em>ï¼ˆå…¨è‹±æ–‡ï¼‰</em><ul>\n<li>ç”¨å‘½ä»¤è¡Œæ‰“å¼€å¹¶æŠµè¾¾<strong>å¿ƒä»ªæ–‡ä»¶å¤¹</strong></li>\n<li>npx create-react-app my-app</li>\n<li>cd my-app</li>\n<li>npm start<blockquote>\n<p><strong>æ³¨æ„</strong><br>npxåœ¨ç¬¬ä¸€è¡Œä¸æ˜¯ä¸€ä¸ªé”™å­— - å®ƒæ˜¯ä¸€ä¸ªåŒ…è½¬å‘å·¥å…·ï¼Œé™„å¸¦npm 5.2+ã€‚<br>åˆ›å»ºçš„æ—¶å€™å·²ç»é»˜è®¤è¿è¡Œè¿‡ï¼ˆnpm install ï¼‰å¯ä»¥ç›´æ¥start</p>\n</blockquote>\n</li>\n</ul>\n</li>\n</ul>\n<p>ç„¶åæŠŠ src/app.jsçš„æ–‡ä»¶å†…å®¹å…ˆæ”¹ä¸€ä¸‹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> logo <span class=\"keyword\">from</span> <span class=\"string\">'./logo.svg'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'./App.css'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;div className=<span class=\"string\">\"App\"</span>&gt;</span><br><span class=\"line\">        &lt;header className=<span class=\"string\">\"App-header\"</span>&gt;</span><br><span class=\"line\">          &lt;img src=&#123;logo&#125; className=<span class=\"string\">\"App-logo\"</span> alt=<span class=\"string\">\"logo\"</span> /&gt;</span><br><span class=\"line\">          &lt;p&gt;</span><br><span class=\"line\">            Edit &lt;code&gt;src/App.js&lt;<span class=\"regexp\">/code&gt; and save to reload.</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;/</span>p&gt;</span><br><span class=\"line\">          &lt;p&gt;</span><br><span class=\"line\">            ä¿®æ”¹æ–‡ä»¶å¤¹ &lt;code&gt;src/App.js&lt;<span class=\"regexp\">/code&gt; ä¿å­˜æ—¶å€™ä¹‹åè‡ªåŠ¨åŠ è½½.</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;/</span>p&gt;</span><br><span class=\"line\">        &lt;<span class=\"regexp\">/header&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">      &lt;/</span>div&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> App;</span><br></pre></td></tr></table></figure>\n<p>Ctrl + C </p>\n<p>Ctrl + V</p>\n<h2 id=\"äºŒã€Stateæ˜¯ä»€ä¹ˆï¼Ÿ\"><a href=\"#äºŒã€Stateæ˜¯ä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"äºŒã€Stateæ˜¯ä»€ä¹ˆï¼Ÿ\"></a>äºŒã€Stateæ˜¯ä»€ä¹ˆï¼Ÿ</h2><p><img src=\"http://i2.tiimg.com/691643/fa5b342683cef063.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>è‹±æ–‡ç¿»è¯‘æ˜¯çŠ¶æ€ã€‚</p>\n<p>å…¶å®ä¹Ÿå¯ä»¥ç†è§£ä¸ºçŠ¶æ€ï¼Œä¸€æ®µæ–‡å­—ä¸­çš„æŸä¸ªå€¼æ”¹å˜äº†ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºçŠ¶æ€æ”¹å˜äº†ã€‚<br>çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­</p>\n<p>æŠŠ src/app.jsçš„æ–‡ä»¶å†…å®¹å…ˆæ”¹ä¸€ä¸‹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> logo <span class=\"keyword\">from</span> <span class=\"string\">'./logo.svg'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'./App.css'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  state=&#123;<span class=\"attr\">Text</span>:<span class=\"string\">'æˆ‘æ˜¯state'</span>&#125;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;div className=<span class=\"string\">\"App\"</span>&gt;</span><br><span class=\"line\">        &lt;header className=<span class=\"string\">\"App-header\"</span>&gt;</span><br><span class=\"line\">          &lt;img src=&#123;logo&#125; className=<span class=\"string\">\"App-logo\"</span> alt=<span class=\"string\">\"logo\"</span> /&gt;</span><br><span class=\"line\">          &lt;p&gt;</span><br><span class=\"line\">            Stateè¾“å‡ºï¼š&#123;<span class=\"keyword\">this</span>.state.Text&#125;</span><br><span class=\"line\">          &lt;<span class=\"regexp\">/p&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">        &lt;/</span>header&gt;</span><br><span class=\"line\">      &lt;<span class=\"regexp\">/div&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    );</span></span><br><span class=\"line\"><span class=\"regexp\">  &#125;</span></span><br><span class=\"line\"><span class=\"regexp\">&#125;</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">export default App;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">state=&#123;<span class=\"attr\">Text</span>:<span class=\"string\">'æˆ‘æ˜¯state'</span>&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œçš„stateæ˜¯ç»™stateè®¾ç½®åˆå€¼ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚ä¸ç›¸ä¿¡çš„è¯è‡ªå·±å¯ä»¥è¯•ä¸€ä¸‹ã€‚<em>ï¼ˆå› ä¸ºstateæ˜¯undefinedï¼Œæ‰€ä»¥ä»–é‡Œé¢å–ä¸åˆ°Textï¼‰</em></p>\n<p>é€šè¿‡ä¸Šé¢çš„ä¾‹å­å¯ä»¥çŸ¥é“stateé‡Œé¢æ”¾çš„æ˜¯XXçš„çŠ¶æ€</p>\n<p>key valueå¯¹åº”çš„</p>\n<p>this.state.xxå°±å¯ä»¥å–åˆ°å¯¹åº”keyçš„<strong>çŠ¶æ€</strong>çš„<em>å€¼</em></p>\n<h2 id=\"ä¸‰ã€Stateå¦‚ä½•æ”¹å˜ï¼Ÿ\"><a href=\"#ä¸‰ã€Stateå¦‚ä½•æ”¹å˜ï¼Ÿ\" class=\"headerlink\" title=\"ä¸‰ã€Stateå¦‚ä½•æ”¹å˜ï¼Ÿ\"></a>ä¸‰ã€Stateå¦‚ä½•æ”¹å˜ï¼Ÿ</h2><p>é€šå¸¸åœ¨JSé‡Œé¢ï¼Œæˆ‘ä»¬è¦æ”¹å˜æŸä¸€ä¸ªå€¼å¯èƒ½å°±åªéœ€è¦  X = XX; å°±å¯ä»¥ã€‚</p>\n<p>è¿™é‡Œçš„stateæ˜¯ä¸€ä¸ªçŠ¶æ€ã€‚çŠ¶æ€æ”¹å˜äº†ï¼Œé¡µé¢ä¼šè‡ªåŠ¨åˆ·æ–°ä¸ºæœ€æ–°çš„é¡µé¢ç”¨æœ€æ–°çš„çŠ¶æ€æ˜¾ç¤ºã€‚<br>ä¸‹é¢æˆ‘ä»¬åšä¸€ä¸ªå°å®éªŒã€‚</p>\n<p>æŠŠ src/app.jsçš„æ–‡ä»¶å†…å®¹å…ˆæ”¹ä¸€ä¸‹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> logo <span class=\"keyword\">from</span> <span class=\"string\">'./logo.svg'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'./App.css'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  state=&#123;<span class=\"attr\">Text</span>:<span class=\"string\">'æˆ‘æ˜¯state'</span>&#125;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;div className=<span class=\"string\">\"App\"</span>&gt;</span><br><span class=\"line\">        &lt;header className=<span class=\"string\">\"App-header\"</span>&gt;</span><br><span class=\"line\">          &lt;img src=&#123;logo&#125; className=<span class=\"string\">\"App-logo\"</span> alt=<span class=\"string\">\"logo\"</span> /&gt;</span><br><span class=\"line\">          &lt;p&gt;</span><br><span class=\"line\">            Stateè¾“å‡ºï¼š&#123;<span class=\"keyword\">this</span>.state.Text&#125;</span><br><span class=\"line\">          &lt;<span class=\"regexp\">/p&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;button onClick=&#123;()=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"regexp\">            this.state.Text = 'æˆ‘æ˜¯é€šè¿‡this.state.Textæ”¹å˜çš„State';</span></span><br><span class=\"line\"><span class=\"regexp\">            alert(this.state.Text);</span></span><br><span class=\"line\"><span class=\"regexp\">          &#125;&#125;&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">            æŒ‰æˆ‘æ”¹å˜state</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;/</span>button&gt;</span><br><span class=\"line\">        &lt;<span class=\"regexp\">/header&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">      &lt;/</span>div&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> App;</span><br></pre></td></tr></table></figure>\n\n<p>ï¼ˆä¸è¦åœ¨æ„ç»†èŠ‚ï¼ï¼ï¼æˆ‘ä»¬æ˜¯æµ‹è¯•æŒ‰é’®çš„æ ·å¼ä¸é‡è¦ï¼ï¼ï¼ï¼‰</p>\n<p>ç‚¹å‡»æŒ‰é’®ä¹‹åï¼Œæˆ‘ä»¬å‘ç°ï¼Œstateçš„å€¼æ˜¯æ”¹å˜äº†ï¼Œä½†æ˜¯é¡µé¢ä¸Šé¢æ˜¾ç¤ºçš„å€¼ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„å•Šã€‚</p>\n<p>é‚£æˆ‘è¦æ€ä¹ˆæ‰å¯ä»¥åˆ·æ–°é¡µé¢å‡ºç°æˆ‘æƒ³è¦çš„stateçš„å€¼å‘¢ï¼Ÿ</p>\n<p>å®˜æ–¹æä¾›çš„æ–¹æ³•</p>\n<p>setState(updater, [callback])</p>\n<p>å¯ä»¥è¿™ä¹ˆç†è§£ï¼Œé’ˆå¯¹ä¸Šé¢çš„ä¾‹å­</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.setState(&#123;<span class=\"attr\">Text</span>:<span class=\"string\">'æˆ‘æ˜¯é€šè¿‡this.state.Textæ”¹å˜çš„State'</span>&#125;, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>åé¢çš„functionï¼Œå¯ä»¥æœ‰ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰ã€‚ä¸éœ€è¦çš„è¯å°±å¯ä»¥ä¸ç”¨å†™â€”â€”â€”â€“ç¨åä¼šè¯´</p>\n<p>æ‰€ä»¥åªéœ€è¦</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.setState(&#123;<span class=\"attr\">Text</span>:<span class=\"string\">'æˆ‘æ˜¯é€šè¿‡this.state.Textæ”¹å˜çš„State'</span>&#125;)</span><br></pre></td></tr></table></figure>\n\n\n<p>æŠŠ src/app.jsçš„æ–‡ä»¶å†…å®¹å…ˆæ”¹ä¸€ä¸‹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> logo <span class=\"keyword\">from</span> <span class=\"string\">'./logo.svg'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'./App.css'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  state=&#123;<span class=\"attr\">Text</span>:<span class=\"string\">'æˆ‘æ˜¯state'</span>&#125;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;div className=<span class=\"string\">\"App\"</span>&gt;</span><br><span class=\"line\">        &lt;header className=<span class=\"string\">\"App-header\"</span>&gt;</span><br><span class=\"line\">          &lt;img src=&#123;logo&#125; className=<span class=\"string\">\"App-logo\"</span> alt=<span class=\"string\">\"logo\"</span> /&gt;</span><br><span class=\"line\">          &lt;p&gt;</span><br><span class=\"line\">            Stateè¾“å‡ºï¼š&#123;<span class=\"keyword\">this</span>.state.Text&#125;</span><br><span class=\"line\">          &lt;<span class=\"regexp\">/p&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;button onClick=&#123;()=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"regexp\">            this.setState(&#123;Text:'æˆ‘æ˜¯é€šè¿‡this.state.Textæ”¹å˜çš„State'&#125;)</span></span><br><span class=\"line\"><span class=\"regexp\">            alert(this.state.Text);</span></span><br><span class=\"line\"><span class=\"regexp\">          &#125;&#125;&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">            æŒ‰æˆ‘æ”¹å˜state</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;/</span>button&gt;</span><br><span class=\"line\">        &lt;<span class=\"regexp\">/header&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">      &lt;/</span>div&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> App;</span><br></pre></td></tr></table></figure>\n<p>ä¿å­˜-çƒ­åŠ è½½<br>ä¹‹åæˆ‘ä»¬å‘ç°ï¼ŒçŠ¶æ€æ˜¯æ”¹å˜äº†ï¼Œå¯æ˜¯alertçš„å€¼ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œè¿˜æ˜¯è€çš„å€¼ï¼ˆçŠ¶æ€ï¼‰çš„ã€‚</p>\n<p>å¯èƒ½ä½ ä¸çŸ¥é“æˆ‘åœ¨è¯´ä»€ä¹ˆ</p>\n<p>é€šè¿‡ä¸€ä¸ªå°ä¾‹å­æˆ‘ä»¬ä»”ç»†æ„Ÿå—ä¸€ä¸‹ã€‚å®˜æ–¹çš„setStateç©¶ç«Ÿåœ¨å¹²ä»€ä¹ˆã€‚</p>\n<p>æŠŠ src/app.jsçš„æ–‡ä»¶å†…å®¹å…ˆæ”¹ä¸€ä¸‹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> logo <span class=\"keyword\">from</span> <span class=\"string\">'./logo.svg'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'./App.css'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  state=&#123;</span><br><span class=\"line\">    Text:<span class=\"string\">'å¤§å®¶ä¸€èµ·çœ‹logå§ï¼Œæˆ‘è¿™æ¬¡å•¥ä¹Ÿä¸åš'</span>,</span><br><span class=\"line\">    conut:<span class=\"number\">0</span>,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;div className=<span class=\"string\">\"App\"</span>&gt;</span><br><span class=\"line\">        &lt;header className=<span class=\"string\">\"App-header\"</span>&gt;</span><br><span class=\"line\">          &lt;img src=&#123;logo&#125; className=<span class=\"string\">\"App-logo\"</span> alt=<span class=\"string\">\"logo\"</span> /&gt;</span><br><span class=\"line\">          &lt;p&gt;</span><br><span class=\"line\">            Stateè¾“å‡ºï¼š&#123;<span class=\"keyword\">this</span>.state.Text&#125;</span><br><span class=\"line\">          &lt;<span class=\"regexp\">/p&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;button onClick=&#123;()=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"regexp\">            console.log(this.state.conut);</span></span><br><span class=\"line\"><span class=\"regexp\">            this.setState(&#123;conut: this.state.conut + 1&#125;);</span></span><br><span class=\"line\"><span class=\"regexp\">            console.log(this.state.conut);</span></span><br><span class=\"line\"><span class=\"regexp\">          &#125;&#125;&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">            æŒ‰æˆ‘æ”¹å˜state</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;/</span>button&gt;</span><br><span class=\"line\">        &lt;<span class=\"regexp\">/header&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">      &lt;/</span>div&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> App;</span><br></pre></td></tr></table></figure>\n\n<p>æ‰“å¼€æˆ‘ä»¬çš„reacté¡µé¢<br>æŒ‰Ctrl + Shift + I<br>çœ‹log<br>ç„¶åæŒ‰é’®</p>\n<p><img src=\"http://i2.tiimg.com/691643/52f1dcf23ee2a658.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p>è¯¶ï¼Œæˆ‘ä¸æ˜¯setStateäº†å—ï¼Œä¸ºä»€ä¹ˆå€¼æ²¡æœ‰æ”¹å˜è¿˜æ˜¯åˆå€¼å‘¢ï¼Ÿ</p>\n<p>æˆ‘ä»¬æ¢ä¸€ä¸ªæ–¹æ³•è¯•ä¸€ä¸‹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> logo <span class=\"keyword\">from</span> <span class=\"string\">'./logo.svg'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'./App.css'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  state=&#123;</span><br><span class=\"line\">    Text:<span class=\"string\">'å¤§å®¶ä¸€èµ·çœ‹logå§ï¼Œæˆ‘è¿™æ¬¡å•¥ä¹Ÿä¸åš'</span>,</span><br><span class=\"line\">    conut:<span class=\"number\">0</span>,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;div className=<span class=\"string\">\"App\"</span>&gt;</span><br><span class=\"line\">        &lt;header className=<span class=\"string\">\"App-header\"</span>&gt;</span><br><span class=\"line\">          &lt;img src=&#123;logo&#125; className=<span class=\"string\">\"App-logo\"</span> alt=<span class=\"string\">\"logo\"</span> /&gt;</span><br><span class=\"line\">          &lt;p&gt;</span><br><span class=\"line\">            Stateè¾“å‡ºï¼š&#123;<span class=\"keyword\">this</span>.state.Text&#125;</span><br><span class=\"line\">          &lt;<span class=\"regexp\">/p&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;button onClick=&#123;()=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"regexp\">            console.log(this.state.conut);</span></span><br><span class=\"line\"><span class=\"regexp\">            this.setState(&#123;conut: this.state.conut + 1&#125;)</span></span><br><span class=\"line\"><span class=\"regexp\">            setTimeout(()=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"regexp\">              console.log(this.state.conut);</span></span><br><span class=\"line\"><span class=\"regexp\">            &#125;,1000);</span></span><br><span class=\"line\"><span class=\"regexp\">          &#125;&#125;&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">            æŒ‰æˆ‘æ”¹å˜state</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;/</span>button&gt;</span><br><span class=\"line\">        &lt;<span class=\"regexp\">/header&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">      &lt;/</span>div&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> App;</span><br></pre></td></tr></table></figure>\n\n\n<p>é‚£æˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥è®¤ä¸ºsetStateä¸æ˜¯ä¸€ä¸ªç«‹åˆ»ç”Ÿæ•ˆçš„å‡½æ•°ã€‚</p>\n<p>æœ‰ç‚¹ç±»ä¼¼å¼‚æ­¥çš„ç½‘ç»œè¯·æ±‚ã€‚</p>\n<p>è¿™æ˜¯ä¸€ä¸ªå‘ï¼Œå¾ˆå¤šæ–°æ‰‹éƒ½ä¼šé‡åˆ°çš„å‘ã€‚æˆ‘æ›¾ç»ä¹Ÿé‡åˆ°æ‰€ä»¥å†™å‡ºæ¥ã€‚</p>\n<p>é‚£æ—¢ç„¶æ˜¯ç±»ä¼¼å¼‚æ­¥çš„ç½‘ç»œè¯·æ±‚è‚¯å®šä¹Ÿæœ‰callbackå’¯ï¼Ÿ</p>\n<p>æ˜¯çš„ï¼</p>\n<p>æˆ‘ä»¬æŠŠconsole.logæ”¾åˆ°åˆšåˆšæˆ‘ä»¬æ²¡æœ‰å†™functioné‡Œé¢ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'react'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> logo <span class=\"keyword\">from</span> <span class=\"string\">'./logo.svg'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'./App.css'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  state=&#123;</span><br><span class=\"line\">    Text:<span class=\"string\">'å¤§å®¶ä¸€èµ·çœ‹logå§ï¼Œæˆ‘è¿™æ¬¡å•¥ä¹Ÿä¸åš'</span>,</span><br><span class=\"line\">    conut:<span class=\"number\">0</span>,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  render() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;div className=<span class=\"string\">\"App\"</span>&gt;</span><br><span class=\"line\">        &lt;header className=<span class=\"string\">\"App-header\"</span>&gt;</span><br><span class=\"line\">          &lt;img src=&#123;logo&#125; className=<span class=\"string\">\"App-logo\"</span> alt=<span class=\"string\">\"logo\"</span> /&gt;</span><br><span class=\"line\">          &lt;p&gt;</span><br><span class=\"line\">            Stateè¾“å‡ºï¼š&#123;<span class=\"keyword\">this</span>.state.Text&#125;</span><br><span class=\"line\">          &lt;<span class=\"regexp\">/p&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;button onClick=&#123;()=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"regexp\">            console.log(this.state.conut);</span></span><br><span class=\"line\"><span class=\"regexp\">            this.setState(&#123;conut: this.state.conut + 1&#125;, ()=&gt;&#123;</span></span><br><span class=\"line\"><span class=\"regexp\">              console.log(this.state.conut);</span></span><br><span class=\"line\"><span class=\"regexp\">            &#125;)</span></span><br><span class=\"line\"><span class=\"regexp\">            </span></span><br><span class=\"line\"><span class=\"regexp\">          &#125;&#125;&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">            æŒ‰æˆ‘æ”¹å˜state</span></span><br><span class=\"line\"><span class=\"regexp\">          &lt;/</span>button&gt;</span><br><span class=\"line\">        &lt;<span class=\"regexp\">/header&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">      &lt;/</span>div&gt;</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> App;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·çš„å¥½å¤„æˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨çš„æ§åˆ¶ç­‰å¾…æ—¶é—´çš„å¤§å°ï¼Œå› ä¸ºæ ¹æ®è®¾å¤‡çš„ä¸åŒè¿™ä¸ªæ—¶é—´å¯èƒ½ä¼šå¤ªå¤šæˆ–è€…å¤ªå°‘ã€‚</p>\n<p>æœ¬äººReactå°èœï¼Œæœ‰è¯´çš„ä¸å¯¹çš„åœ°æ–¹è¿˜è¯·å¤§ç¥æŒ‡å‡ºã€‚</p>\n"},{"title":"sprng boot è·¨åŸŸ è¿‡æ»¤å™¨ fetch react Response to preflight request doesn't pass access control check","date":"2019-06-19T03:20:11.000Z","cover":"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/springboot.png?raw=true","_content":"\n## å‰è¨€\næµè§ˆå™¨å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œé™åˆ¶äº†JSå‘èµ·è·¨ç«™è¯·æ±‚ï¼Œä½¿ç”¨XHRå¯¹è±¡å‘èµ·è¯·æ±‚å¿…é¡»éµå¾ªåŒæºç­–ç•¥ï¼ˆSOPï¼šSame Origin Policyï¼‰ï¼Œè·¨ç«™è¯·æ±‚ä¼šè¢«æµè§ˆå™¨é˜»æ­¢ï¼Œè¿™å¯¹å¼€å‘è€…æ¥è¯´æ˜¯å¾ˆç—›è‹¦çš„ä¸€ä»¶äº‹ï¼Œå°¤å…¶æ˜¯è¦å¼€å‘å‰åç«¯åˆ†ç¦»çš„åº”ç”¨æ—¶ã€‚\n\nåœ¨ç°ä»£åŒ–çš„Webå¼€å‘ä¸­ï¼Œä¸åŒç½‘ç»œç¯å¢ƒä¸‹çš„èµ„æºæ•°æ®å…±äº«è¶Šæ¥è¶Šæ™®éï¼ŒåŒæºç­–ç•¥å¯ä»¥è¯´æ˜¯åœ¨ä¸€å®šç¨‹åº¦ä¸Šé™åˆ¶äº†Web APIçš„å‘å±•ã€‚\n\nç®€å•çš„è¯´ï¼ŒCORSå°±æ˜¯ä¸ºäº†è¯·æ±‚èƒ½å¤Ÿå®‰å…¨è·¨åŸŸè€Œç”Ÿçš„ã€‚è‡³äºCORSçš„å®‰å…¨æ€§ç ”ç©¶ï¼Œæœ¬æ–‡ä¸åšæ¢è®¨ã€‚\n\n\n## CORSæµ…è¿°\nåè¯è§£é‡Šï¼šè·¨åŸŸèµ„æºå…±äº«ï¼ˆCross-Origin Resource Sharingï¼‰\n\næ¦‚å¿µï¼šæ˜¯ä¸€ç§è·¨åŸŸæœºåˆ¶ã€è§„èŒƒã€æ ‡å‡†ï¼Œæ€ä¹ˆå«éƒ½ä¸€æ ·ï¼Œä½†æ˜¯è¿™å¥—æ ‡å‡†æ˜¯é’ˆå¯¹æœåŠ¡ç«¯çš„ï¼Œè€Œæµè§ˆå™¨ç«¯åªè¦æ”¯æŒHTML5å³å¯ã€‚\n\nä½œç”¨ï¼šå¯ä»¥è®©æœåŠ¡ç«¯å†³å®šå“ªäº›è¯·æ±‚æºå¯ä»¥è¿›æ¥æ‹¿æ•°æ®ï¼Œæ‰€ä»¥æœåŠ¡ç«¯èµ·ä¸»å¯¼ä½œç”¨ï¼ˆæ‰€ä»¥å‡ºäº†äº‹æ‰¾åå°ç¨‹åºçŒ¿ï¼Œæ— å…³å‰ç«¯^ ^ï¼‰\n\nå¸¸ç”¨åœºæ™¯ï¼š\n\n - å‰åç«¯å®Œå…¨åˆ†ç¦»çš„åº”ç”¨\n\n## æœåŠ¡ç«¯æœªå…è®¸è·¨åŸŸ\n\n![æœåŠ¡ç«¯æœªå…è®¸è·¨åŸŸ](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/sprng%20boot%20%E8%B7%A8%E5%9F%9F%20%E8%BF%87%E6%BB%A4%E5%99%A8%20fetch%20react%20Response%20to%20preflight%20request%20doesn't%20pass%20access%20control%20check/20190311105909443.png?raw=true)\n\n## å¦‚ä½•è§£å†³\n\n```\npackage pers.yiji.YiJiClientServer.util;\n\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\nimport org.springframework.web.filter.CorsFilter;\n\n@Configuration\npublic class CorsConfig {\n\n    /**\n     * cors support\n     * @return\n     */\n    @Bean\n    public FilterRegistrationBean corsFilter() {\n        // æ³¨å†ŒCORSè¿‡æ»¤å™¨\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowCredentials(true); // æ˜¯å¦æ”¯æŒå®‰å…¨è¯ä¹¦\n        config.addAllowedOrigin(\"*\"); // å…è®¸ä»»ä½•åŸŸåä½¿ç”¨\n        config.addAllowedHeader(\"*\"); // å…è®¸ä»»ä½•å¤´\n        config.addAllowedMethod(\"*\"); // å…è®¸ä»»ä½•æ–¹æ³•ï¼ˆpostã€getç­‰ï¼‰\n        // é¢„æ£€è¯·æ±‚çš„æœ‰æ•ˆæœŸï¼Œå•ä½ä¸ºç§’ã€‚\n        //        config.setMaxAge(3600L);\n\n        source.registerCorsConfiguration(\"/**\", config);\n        FilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));\n        bean.setOrder(0);\n        return bean;\n    }\n}\n```\n\nå…·ä½“æ¯å¥è¯çš„æ„æ€åŸºæœ¬ä¸Šæ³¨é‡Šéƒ½æœ‰å†™ã€‚\n\nä¸»è¦å°±æ˜¯ä¸ºäº†æ³¨å†Œä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œè¿™é‡Œæ˜¯åŸºæœ¬ä¸Šå…è®¸æ‰€æœ‰çš„è¯·æ±‚ï¼Œåœ¨ç‰¹æ®Šçš„åœºæ™¯å¯ä»¥ä½¿ç”¨åŸŸåæ§åˆ¶ç­‰ã€‚\n\n```\nconfig.addAllowedOrigin(\"*\"); // å…è®¸ä»»ä½•åŸŸåä½¿ç”¨ï¼ˆ*å¯ä»¥æ¢æˆç‰¹å®šçš„åŸŸåï¼‰\n```\n\n\n## ç»“æœ\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/sprng%20boot%20%E8%B7%A8%E5%9F%9F%20%E8%BF%87%E6%BB%A4%E5%99%A8%20fetch%20react%20Response%20to%20preflight%20request%20doesn't%20pass%20access%20control%20check/20190311110721789.png?raw=true)\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/sprng%20boot%20%E8%B7%A8%E5%9F%9F%20%E8%BF%87%E6%BB%A4%E5%99%A8%20fetch%20react%20Response%20to%20preflight%20request%20doesn't%20pass%20access%20control%20check/20190311110735834.png?raw=true)\n","source":"_posts/sprng-boot-è·¨åŸŸ-è¿‡æ»¤å™¨-fetch-react-Response-to-preflight-request-doesn-t-pass-access-control-check.md","raw":"---\ntitle: >-\n  sprng boot è·¨åŸŸ è¿‡æ»¤å™¨ fetch react Response to preflight request doesn't pass\n  access control check\ndate: 2019-06-19 11:20:11\ntags: [Spring-Boot, è·¨åŸŸ, Java]\ncategory: [Java, Spring-Boot]\ncover: https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/springboot.png?raw=true\n---\n\n## å‰è¨€\næµè§ˆå™¨å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œé™åˆ¶äº†JSå‘èµ·è·¨ç«™è¯·æ±‚ï¼Œä½¿ç”¨XHRå¯¹è±¡å‘èµ·è¯·æ±‚å¿…é¡»éµå¾ªåŒæºç­–ç•¥ï¼ˆSOPï¼šSame Origin Policyï¼‰ï¼Œè·¨ç«™è¯·æ±‚ä¼šè¢«æµè§ˆå™¨é˜»æ­¢ï¼Œè¿™å¯¹å¼€å‘è€…æ¥è¯´æ˜¯å¾ˆç—›è‹¦çš„ä¸€ä»¶äº‹ï¼Œå°¤å…¶æ˜¯è¦å¼€å‘å‰åç«¯åˆ†ç¦»çš„åº”ç”¨æ—¶ã€‚\n\nåœ¨ç°ä»£åŒ–çš„Webå¼€å‘ä¸­ï¼Œä¸åŒç½‘ç»œç¯å¢ƒä¸‹çš„èµ„æºæ•°æ®å…±äº«è¶Šæ¥è¶Šæ™®éï¼ŒåŒæºç­–ç•¥å¯ä»¥è¯´æ˜¯åœ¨ä¸€å®šç¨‹åº¦ä¸Šé™åˆ¶äº†Web APIçš„å‘å±•ã€‚\n\nç®€å•çš„è¯´ï¼ŒCORSå°±æ˜¯ä¸ºäº†è¯·æ±‚èƒ½å¤Ÿå®‰å…¨è·¨åŸŸè€Œç”Ÿçš„ã€‚è‡³äºCORSçš„å®‰å…¨æ€§ç ”ç©¶ï¼Œæœ¬æ–‡ä¸åšæ¢è®¨ã€‚\n\n\n## CORSæµ…è¿°\nåè¯è§£é‡Šï¼šè·¨åŸŸèµ„æºå…±äº«ï¼ˆCross-Origin Resource Sharingï¼‰\n\næ¦‚å¿µï¼šæ˜¯ä¸€ç§è·¨åŸŸæœºåˆ¶ã€è§„èŒƒã€æ ‡å‡†ï¼Œæ€ä¹ˆå«éƒ½ä¸€æ ·ï¼Œä½†æ˜¯è¿™å¥—æ ‡å‡†æ˜¯é’ˆå¯¹æœåŠ¡ç«¯çš„ï¼Œè€Œæµè§ˆå™¨ç«¯åªè¦æ”¯æŒHTML5å³å¯ã€‚\n\nä½œç”¨ï¼šå¯ä»¥è®©æœåŠ¡ç«¯å†³å®šå“ªäº›è¯·æ±‚æºå¯ä»¥è¿›æ¥æ‹¿æ•°æ®ï¼Œæ‰€ä»¥æœåŠ¡ç«¯èµ·ä¸»å¯¼ä½œç”¨ï¼ˆæ‰€ä»¥å‡ºäº†äº‹æ‰¾åå°ç¨‹åºçŒ¿ï¼Œæ— å…³å‰ç«¯^ ^ï¼‰\n\nå¸¸ç”¨åœºæ™¯ï¼š\n\n - å‰åç«¯å®Œå…¨åˆ†ç¦»çš„åº”ç”¨\n\n## æœåŠ¡ç«¯æœªå…è®¸è·¨åŸŸ\n\n![æœåŠ¡ç«¯æœªå…è®¸è·¨åŸŸ](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/sprng%20boot%20%E8%B7%A8%E5%9F%9F%20%E8%BF%87%E6%BB%A4%E5%99%A8%20fetch%20react%20Response%20to%20preflight%20request%20doesn't%20pass%20access%20control%20check/20190311105909443.png?raw=true)\n\n## å¦‚ä½•è§£å†³\n\n```\npackage pers.yiji.YiJiClientServer.util;\n\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\nimport org.springframework.web.filter.CorsFilter;\n\n@Configuration\npublic class CorsConfig {\n\n    /**\n     * cors support\n     * @return\n     */\n    @Bean\n    public FilterRegistrationBean corsFilter() {\n        // æ³¨å†ŒCORSè¿‡æ»¤å™¨\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowCredentials(true); // æ˜¯å¦æ”¯æŒå®‰å…¨è¯ä¹¦\n        config.addAllowedOrigin(\"*\"); // å…è®¸ä»»ä½•åŸŸåä½¿ç”¨\n        config.addAllowedHeader(\"*\"); // å…è®¸ä»»ä½•å¤´\n        config.addAllowedMethod(\"*\"); // å…è®¸ä»»ä½•æ–¹æ³•ï¼ˆpostã€getç­‰ï¼‰\n        // é¢„æ£€è¯·æ±‚çš„æœ‰æ•ˆæœŸï¼Œå•ä½ä¸ºç§’ã€‚\n        //        config.setMaxAge(3600L);\n\n        source.registerCorsConfiguration(\"/**\", config);\n        FilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));\n        bean.setOrder(0);\n        return bean;\n    }\n}\n```\n\nå…·ä½“æ¯å¥è¯çš„æ„æ€åŸºæœ¬ä¸Šæ³¨é‡Šéƒ½æœ‰å†™ã€‚\n\nä¸»è¦å°±æ˜¯ä¸ºäº†æ³¨å†Œä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œè¿™é‡Œæ˜¯åŸºæœ¬ä¸Šå…è®¸æ‰€æœ‰çš„è¯·æ±‚ï¼Œåœ¨ç‰¹æ®Šçš„åœºæ™¯å¯ä»¥ä½¿ç”¨åŸŸåæ§åˆ¶ç­‰ã€‚\n\n```\nconfig.addAllowedOrigin(\"*\"); // å…è®¸ä»»ä½•åŸŸåä½¿ç”¨ï¼ˆ*å¯ä»¥æ¢æˆç‰¹å®šçš„åŸŸåï¼‰\n```\n\n\n## ç»“æœ\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/sprng%20boot%20%E8%B7%A8%E5%9F%9F%20%E8%BF%87%E6%BB%A4%E5%99%A8%20fetch%20react%20Response%20to%20preflight%20request%20doesn't%20pass%20access%20control%20check/20190311110721789.png?raw=true)\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/sprng%20boot%20%E8%B7%A8%E5%9F%9F%20%E8%BF%87%E6%BB%A4%E5%99%A8%20fetch%20react%20Response%20to%20preflight%20request%20doesn't%20pass%20access%20control%20check/20190311110735834.png?raw=true)\n","slug":"sprng-boot-è·¨åŸŸ-è¿‡æ»¤å™¨-fetch-react-Response-to-preflight-request-doesn-t-pass-access-control-check","published":1,"updated":"2020-04-11T11:50:40.362Z","_id":"ck8vk5p9f0029o5vmfd9g3x2q","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>æµè§ˆå™¨å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œé™åˆ¶äº†JSå‘èµ·è·¨ç«™è¯·æ±‚ï¼Œä½¿ç”¨XHRå¯¹è±¡å‘èµ·è¯·æ±‚å¿…é¡»éµå¾ªåŒæºç­–ç•¥ï¼ˆSOPï¼šSame Origin Policyï¼‰ï¼Œè·¨ç«™è¯·æ±‚ä¼šè¢«æµè§ˆå™¨é˜»æ­¢ï¼Œè¿™å¯¹å¼€å‘è€…æ¥è¯´æ˜¯å¾ˆç—›è‹¦çš„ä¸€ä»¶äº‹ï¼Œå°¤å…¶æ˜¯è¦å¼€å‘å‰åç«¯åˆ†ç¦»çš„åº”ç”¨æ—¶ã€‚</p>\n<p>åœ¨ç°ä»£åŒ–çš„Webå¼€å‘ä¸­ï¼Œä¸åŒç½‘ç»œç¯å¢ƒä¸‹çš„èµ„æºæ•°æ®å…±äº«è¶Šæ¥è¶Šæ™®éï¼ŒåŒæºç­–ç•¥å¯ä»¥è¯´æ˜¯åœ¨ä¸€å®šç¨‹åº¦ä¸Šé™åˆ¶äº†Web APIçš„å‘å±•ã€‚</p>\n<p>ç®€å•çš„è¯´ï¼ŒCORSå°±æ˜¯ä¸ºäº†è¯·æ±‚èƒ½å¤Ÿå®‰å…¨è·¨åŸŸè€Œç”Ÿçš„ã€‚è‡³äºCORSçš„å®‰å…¨æ€§ç ”ç©¶ï¼Œæœ¬æ–‡ä¸åšæ¢è®¨ã€‚</p>\n<h2 id=\"CORSæµ…è¿°\"><a href=\"#CORSæµ…è¿°\" class=\"headerlink\" title=\"CORSæµ…è¿°\"></a>CORSæµ…è¿°</h2><p>åè¯è§£é‡Šï¼šè·¨åŸŸèµ„æºå…±äº«ï¼ˆCross-Origin Resource Sharingï¼‰</p>\n<p>æ¦‚å¿µï¼šæ˜¯ä¸€ç§è·¨åŸŸæœºåˆ¶ã€è§„èŒƒã€æ ‡å‡†ï¼Œæ€ä¹ˆå«éƒ½ä¸€æ ·ï¼Œä½†æ˜¯è¿™å¥—æ ‡å‡†æ˜¯é’ˆå¯¹æœåŠ¡ç«¯çš„ï¼Œè€Œæµè§ˆå™¨ç«¯åªè¦æ”¯æŒHTML5å³å¯ã€‚</p>\n<p>ä½œç”¨ï¼šå¯ä»¥è®©æœåŠ¡ç«¯å†³å®šå“ªäº›è¯·æ±‚æºå¯ä»¥è¿›æ¥æ‹¿æ•°æ®ï¼Œæ‰€ä»¥æœåŠ¡ç«¯èµ·ä¸»å¯¼ä½œç”¨ï¼ˆæ‰€ä»¥å‡ºäº†äº‹æ‰¾åå°ç¨‹åºçŒ¿ï¼Œæ— å…³å‰ç«¯^ ^ï¼‰</p>\n<p>å¸¸ç”¨åœºæ™¯ï¼š</p>\n<ul>\n<li>å‰åç«¯å®Œå…¨åˆ†ç¦»çš„åº”ç”¨</li>\n</ul>\n<h2 id=\"æœåŠ¡ç«¯æœªå…è®¸è·¨åŸŸ\"><a href=\"#æœåŠ¡ç«¯æœªå…è®¸è·¨åŸŸ\" class=\"headerlink\" title=\"æœåŠ¡ç«¯æœªå…è®¸è·¨åŸŸ\"></a>æœåŠ¡ç«¯æœªå…è®¸è·¨åŸŸ</h2><p><img src=\"/\" class=\"lazyload\" data-src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/sprng%20boot%20%E8%B7%A8%E5%9F%9F%20%E8%BF%87%E6%BB%A4%E5%99%A8%20fetch%20react%20Response%20to%20preflight%20request%20doesn't%20pass%20access%20control%20check/20190311105909443.png?raw=true\"  alt=\"æœåŠ¡ç«¯æœªå…è®¸è·¨åŸŸ\"></p>\n<h2 id=\"å¦‚ä½•è§£å†³\"><a href=\"#å¦‚ä½•è§£å†³\" class=\"headerlink\" title=\"å¦‚ä½•è§£å†³\"></a>å¦‚ä½•è§£å†³</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package pers.yiji.YiJiClientServer.util;</span><br><span class=\"line\"></span><br><span class=\"line\">import org.springframework.boot.web.servlet.FilterRegistrationBean;</span><br><span class=\"line\">import org.springframework.context.annotation.Bean;</span><br><span class=\"line\">import org.springframework.context.annotation.Configuration;</span><br><span class=\"line\">import org.springframework.web.cors.CorsConfiguration;</span><br><span class=\"line\">import org.springframework.web.cors.UrlBasedCorsConfigurationSource;</span><br><span class=\"line\">import org.springframework.web.filter.CorsFilter;</span><br><span class=\"line\"></span><br><span class=\"line\">@Configuration</span><br><span class=\"line\">public class CorsConfig &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;**</span><br><span class=\"line\">     * cors support</span><br><span class=\"line\">     * @return</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    @Bean</span><br><span class=\"line\">    public FilterRegistrationBean corsFilter() &#123;</span><br><span class=\"line\">        &#x2F;&#x2F; æ³¨å†ŒCORSè¿‡æ»¤å™¨</span><br><span class=\"line\">        UrlBasedCorsConfigurationSource source &#x3D; new UrlBasedCorsConfigurationSource();</span><br><span class=\"line\">        CorsConfiguration config &#x3D; new CorsConfiguration();</span><br><span class=\"line\">        config.setAllowCredentials(true); &#x2F;&#x2F; æ˜¯å¦æ”¯æŒå®‰å…¨è¯ä¹¦</span><br><span class=\"line\">        config.addAllowedOrigin(&quot;*&quot;); &#x2F;&#x2F; å…è®¸ä»»ä½•åŸŸåä½¿ç”¨</span><br><span class=\"line\">        config.addAllowedHeader(&quot;*&quot;); &#x2F;&#x2F; å…è®¸ä»»ä½•å¤´</span><br><span class=\"line\">        config.addAllowedMethod(&quot;*&quot;); &#x2F;&#x2F; å…è®¸ä»»ä½•æ–¹æ³•ï¼ˆpostã€getç­‰ï¼‰</span><br><span class=\"line\">        &#x2F;&#x2F; é¢„æ£€è¯·æ±‚çš„æœ‰æ•ˆæœŸï¼Œå•ä½ä¸ºç§’ã€‚</span><br><span class=\"line\">        &#x2F;&#x2F;        config.setMaxAge(3600L);</span><br><span class=\"line\"></span><br><span class=\"line\">        source.registerCorsConfiguration(&quot;&#x2F;**&quot;, config);</span><br><span class=\"line\">        FilterRegistrationBean bean &#x3D; new FilterRegistrationBean(new CorsFilter(source));</span><br><span class=\"line\">        bean.setOrder(0);</span><br><span class=\"line\">        return bean;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å…·ä½“æ¯å¥è¯çš„æ„æ€åŸºæœ¬ä¸Šæ³¨é‡Šéƒ½æœ‰å†™ã€‚</p>\n<p>ä¸»è¦å°±æ˜¯ä¸ºäº†æ³¨å†Œä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œè¿™é‡Œæ˜¯åŸºæœ¬ä¸Šå…è®¸æ‰€æœ‰çš„è¯·æ±‚ï¼Œåœ¨ç‰¹æ®Šçš„åœºæ™¯å¯ä»¥ä½¿ç”¨åŸŸåæ§åˆ¶ç­‰ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config.addAllowedOrigin(&quot;*&quot;); &#x2F;&#x2F; å…è®¸ä»»ä½•åŸŸåä½¿ç”¨ï¼ˆ*å¯ä»¥æ¢æˆç‰¹å®šçš„åŸŸåï¼‰</span><br></pre></td></tr></table></figure>\n\n\n<h2 id=\"ç»“æœ\"><a href=\"#ç»“æœ\" class=\"headerlink\" title=\"ç»“æœ\"></a>ç»“æœ</h2><p><img src=\"/\" class=\"lazyload\" data-src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/sprng%20boot%20%E8%B7%A8%E5%9F%9F%20%E8%BF%87%E6%BB%A4%E5%99%A8%20fetch%20react%20Response%20to%20preflight%20request%20doesn't%20pass%20access%20control%20check/20190311110721789.png?raw=true\"  alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/sprng%20boot%20%E8%B7%A8%E5%9F%9F%20%E8%BF%87%E6%BB%A4%E5%99%A8%20fetch%20react%20Response%20to%20preflight%20request%20doesn't%20pass%20access%20control%20check/20190311110735834.png?raw=true\"  alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>æµè§ˆå™¨å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œé™åˆ¶äº†JSå‘èµ·è·¨ç«™è¯·æ±‚ï¼Œä½¿ç”¨XHRå¯¹è±¡å‘èµ·è¯·æ±‚å¿…é¡»éµå¾ªåŒæºç­–ç•¥ï¼ˆSOPï¼šSame Origin Policyï¼‰ï¼Œè·¨ç«™è¯·æ±‚ä¼šè¢«æµè§ˆå™¨é˜»æ­¢ï¼Œè¿™å¯¹å¼€å‘è€…æ¥è¯´æ˜¯å¾ˆç—›è‹¦çš„ä¸€ä»¶äº‹ï¼Œå°¤å…¶æ˜¯è¦å¼€å‘å‰åç«¯åˆ†ç¦»çš„åº”ç”¨æ—¶ã€‚</p>\n<p>åœ¨ç°ä»£åŒ–çš„Webå¼€å‘ä¸­ï¼Œä¸åŒç½‘ç»œç¯å¢ƒä¸‹çš„èµ„æºæ•°æ®å…±äº«è¶Šæ¥è¶Šæ™®éï¼ŒåŒæºç­–ç•¥å¯ä»¥è¯´æ˜¯åœ¨ä¸€å®šç¨‹åº¦ä¸Šé™åˆ¶äº†Web APIçš„å‘å±•ã€‚</p>\n<p>ç®€å•çš„è¯´ï¼ŒCORSå°±æ˜¯ä¸ºäº†è¯·æ±‚èƒ½å¤Ÿå®‰å…¨è·¨åŸŸè€Œç”Ÿçš„ã€‚è‡³äºCORSçš„å®‰å…¨æ€§ç ”ç©¶ï¼Œæœ¬æ–‡ä¸åšæ¢è®¨ã€‚</p>\n<h2 id=\"CORSæµ…è¿°\"><a href=\"#CORSæµ…è¿°\" class=\"headerlink\" title=\"CORSæµ…è¿°\"></a>CORSæµ…è¿°</h2><p>åè¯è§£é‡Šï¼šè·¨åŸŸèµ„æºå…±äº«ï¼ˆCross-Origin Resource Sharingï¼‰</p>\n<p>æ¦‚å¿µï¼šæ˜¯ä¸€ç§è·¨åŸŸæœºåˆ¶ã€è§„èŒƒã€æ ‡å‡†ï¼Œæ€ä¹ˆå«éƒ½ä¸€æ ·ï¼Œä½†æ˜¯è¿™å¥—æ ‡å‡†æ˜¯é’ˆå¯¹æœåŠ¡ç«¯çš„ï¼Œè€Œæµè§ˆå™¨ç«¯åªè¦æ”¯æŒHTML5å³å¯ã€‚</p>\n<p>ä½œç”¨ï¼šå¯ä»¥è®©æœåŠ¡ç«¯å†³å®šå“ªäº›è¯·æ±‚æºå¯ä»¥è¿›æ¥æ‹¿æ•°æ®ï¼Œæ‰€ä»¥æœåŠ¡ç«¯èµ·ä¸»å¯¼ä½œç”¨ï¼ˆæ‰€ä»¥å‡ºäº†äº‹æ‰¾åå°ç¨‹åºçŒ¿ï¼Œæ— å…³å‰ç«¯^ ^ï¼‰</p>\n<p>å¸¸ç”¨åœºæ™¯ï¼š</p>\n<ul>\n<li>å‰åç«¯å®Œå…¨åˆ†ç¦»çš„åº”ç”¨</li>\n</ul>\n<h2 id=\"æœåŠ¡ç«¯æœªå…è®¸è·¨åŸŸ\"><a href=\"#æœåŠ¡ç«¯æœªå…è®¸è·¨åŸŸ\" class=\"headerlink\" title=\"æœåŠ¡ç«¯æœªå…è®¸è·¨åŸŸ\"></a>æœåŠ¡ç«¯æœªå…è®¸è·¨åŸŸ</h2><p><img src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/sprng%20boot%20%E8%B7%A8%E5%9F%9F%20%E8%BF%87%E6%BB%A4%E5%99%A8%20fetch%20react%20Response%20to%20preflight%20request%20doesn't%20pass%20access%20control%20check/20190311105909443.png?raw=true\" alt=\"æœåŠ¡ç«¯æœªå…è®¸è·¨åŸŸ\"></p>\n<h2 id=\"å¦‚ä½•è§£å†³\"><a href=\"#å¦‚ä½•è§£å†³\" class=\"headerlink\" title=\"å¦‚ä½•è§£å†³\"></a>å¦‚ä½•è§£å†³</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package pers.yiji.YiJiClientServer.util;</span><br><span class=\"line\"></span><br><span class=\"line\">import org.springframework.boot.web.servlet.FilterRegistrationBean;</span><br><span class=\"line\">import org.springframework.context.annotation.Bean;</span><br><span class=\"line\">import org.springframework.context.annotation.Configuration;</span><br><span class=\"line\">import org.springframework.web.cors.CorsConfiguration;</span><br><span class=\"line\">import org.springframework.web.cors.UrlBasedCorsConfigurationSource;</span><br><span class=\"line\">import org.springframework.web.filter.CorsFilter;</span><br><span class=\"line\"></span><br><span class=\"line\">@Configuration</span><br><span class=\"line\">public class CorsConfig &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;**</span><br><span class=\"line\">     * cors support</span><br><span class=\"line\">     * @return</span><br><span class=\"line\">     *&#x2F;</span><br><span class=\"line\">    @Bean</span><br><span class=\"line\">    public FilterRegistrationBean corsFilter() &#123;</span><br><span class=\"line\">        &#x2F;&#x2F; æ³¨å†ŒCORSè¿‡æ»¤å™¨</span><br><span class=\"line\">        UrlBasedCorsConfigurationSource source &#x3D; new UrlBasedCorsConfigurationSource();</span><br><span class=\"line\">        CorsConfiguration config &#x3D; new CorsConfiguration();</span><br><span class=\"line\">        config.setAllowCredentials(true); &#x2F;&#x2F; æ˜¯å¦æ”¯æŒå®‰å…¨è¯ä¹¦</span><br><span class=\"line\">        config.addAllowedOrigin(&quot;*&quot;); &#x2F;&#x2F; å…è®¸ä»»ä½•åŸŸåä½¿ç”¨</span><br><span class=\"line\">        config.addAllowedHeader(&quot;*&quot;); &#x2F;&#x2F; å…è®¸ä»»ä½•å¤´</span><br><span class=\"line\">        config.addAllowedMethod(&quot;*&quot;); &#x2F;&#x2F; å…è®¸ä»»ä½•æ–¹æ³•ï¼ˆpostã€getç­‰ï¼‰</span><br><span class=\"line\">        &#x2F;&#x2F; é¢„æ£€è¯·æ±‚çš„æœ‰æ•ˆæœŸï¼Œå•ä½ä¸ºç§’ã€‚</span><br><span class=\"line\">        &#x2F;&#x2F;        config.setMaxAge(3600L);</span><br><span class=\"line\"></span><br><span class=\"line\">        source.registerCorsConfiguration(&quot;&#x2F;**&quot;, config);</span><br><span class=\"line\">        FilterRegistrationBean bean &#x3D; new FilterRegistrationBean(new CorsFilter(source));</span><br><span class=\"line\">        bean.setOrder(0);</span><br><span class=\"line\">        return bean;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å…·ä½“æ¯å¥è¯çš„æ„æ€åŸºæœ¬ä¸Šæ³¨é‡Šéƒ½æœ‰å†™ã€‚</p>\n<p>ä¸»è¦å°±æ˜¯ä¸ºäº†æ³¨å†Œä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œè¿™é‡Œæ˜¯åŸºæœ¬ä¸Šå…è®¸æ‰€æœ‰çš„è¯·æ±‚ï¼Œåœ¨ç‰¹æ®Šçš„åœºæ™¯å¯ä»¥ä½¿ç”¨åŸŸåæ§åˆ¶ç­‰ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config.addAllowedOrigin(&quot;*&quot;); &#x2F;&#x2F; å…è®¸ä»»ä½•åŸŸåä½¿ç”¨ï¼ˆ*å¯ä»¥æ¢æˆç‰¹å®šçš„åŸŸåï¼‰</span><br></pre></td></tr></table></figure>\n\n\n<h2 id=\"ç»“æœ\"><a href=\"#ç»“æœ\" class=\"headerlink\" title=\"ç»“æœ\"></a>ç»“æœ</h2><p><img src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/sprng%20boot%20%E8%B7%A8%E5%9F%9F%20%E8%BF%87%E6%BB%A4%E5%99%A8%20fetch%20react%20Response%20to%20preflight%20request%20doesn't%20pass%20access%20control%20check/20190311110721789.png?raw=true\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<p><img src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/sprng%20boot%20%E8%B7%A8%E5%9F%9F%20%E8%BF%87%E6%BB%A4%E5%99%A8%20fetch%20react%20Response%20to%20preflight%20request%20doesn't%20pass%20access%20control%20check/20190311110735834.png?raw=true\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n"},{"title":"Webå‰ç«¯ å­¦ä¹ ç›®å½• å­¦ä¹ æ¡†æ¶ ç³»ç»Ÿæ€§çš„å­¦ä¹ Webå‰ç«¯","date":"2019-06-19T02:28:50.000Z","cover":"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/web.jpeg?raw=true","_content":"\n## å‰è¨€\n\n\nè¿™ä¸ªæ˜¯ç›®å‰ä»ä¸€ä¸ªå¤§ç‰›æ‰‹ä¸Šå¾—åˆ°çš„å›¾è§£ï¼Œè‡ªå·±å­¦ä¹ Webå‰ç«¯å¯èƒ½ä¼šç”¨å¾—åˆ°ï¼Œç‰¹æ­¤è®°å½•ä¸€ä¸‹\n\n\nå¦ä¸€ä¸ªå¤§ç‰›çš„git\n\nhttps://github.com/stephentian/33-js-concepts\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/Web%E5%89%8D%E7%AB%AF%20%E5%AD%A6%E4%B9%A0%E7%9B%AE%E5%BD%95%20%E5%AD%A6%E4%B9%A0%E6%A1%86%E6%9E%B6%20%E7%B3%BB%E7%BB%9F%E6%80%A7%E7%9A%84%E5%AD%A6%E4%B9%A0Web%E5%89%8D%E7%AB%AF/20190328205449472.png?raw=true)\n\n","source":"_posts/Webå‰ç«¯-å­¦ä¹ ç›®å½•-å­¦ä¹ æ¡†æ¶-ç³»ç»Ÿæ€§çš„å­¦ä¹ Webå‰ç«¯.md","raw":"---\ntitle: Webå‰ç«¯ å­¦ä¹ ç›®å½• å­¦ä¹ æ¡†æ¶ ç³»ç»Ÿæ€§çš„å­¦ä¹ Webå‰ç«¯\ndate: 2019-06-19 10:28:50\ntags: [ç³»ç»Ÿæ€§çš„å­¦ä¹ , å­¦ä¹ ç›®å½•, Webå‰ç«¯, å­¦ä¹ æ¡†æ¶]\ncategory: [Webå‰ç«¯]\ncover: https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/web.jpeg?raw=true\n---\n\n## å‰è¨€\n\n\nè¿™ä¸ªæ˜¯ç›®å‰ä»ä¸€ä¸ªå¤§ç‰›æ‰‹ä¸Šå¾—åˆ°çš„å›¾è§£ï¼Œè‡ªå·±å­¦ä¹ Webå‰ç«¯å¯èƒ½ä¼šç”¨å¾—åˆ°ï¼Œç‰¹æ­¤è®°å½•ä¸€ä¸‹\n\n\nå¦ä¸€ä¸ªå¤§ç‰›çš„git\n\nhttps://github.com/stephentian/33-js-concepts\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/Web%E5%89%8D%E7%AB%AF%20%E5%AD%A6%E4%B9%A0%E7%9B%AE%E5%BD%95%20%E5%AD%A6%E4%B9%A0%E6%A1%86%E6%9E%B6%20%E7%B3%BB%E7%BB%9F%E6%80%A7%E7%9A%84%E5%AD%A6%E4%B9%A0Web%E5%89%8D%E7%AB%AF/20190328205449472.png?raw=true)\n\n","slug":"Webå‰ç«¯-å­¦ä¹ ç›®å½•-å­¦ä¹ æ¡†æ¶-ç³»ç»Ÿæ€§çš„å­¦ä¹ Webå‰ç«¯","published":1,"updated":"2020-04-11T11:50:40.451Z","_id":"ck8vk5pae002lo5vmaa0p1odz","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>è¿™ä¸ªæ˜¯ç›®å‰ä»ä¸€ä¸ªå¤§ç‰›æ‰‹ä¸Šå¾—åˆ°çš„å›¾è§£ï¼Œè‡ªå·±å­¦ä¹ Webå‰ç«¯å¯èƒ½ä¼šç”¨å¾—åˆ°ï¼Œç‰¹æ­¤è®°å½•ä¸€ä¸‹</p>\n<p>å¦ä¸€ä¸ªå¤§ç‰›çš„git</p>\n<p><a href=\"https://github.com/stephentian/33-js-concepts\" target=\"_blank\" rel=\"noopener\">https://github.com/stephentian/33-js-concepts</a></p>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/Web%E5%89%8D%E7%AB%AF%20%E5%AD%A6%E4%B9%A0%E7%9B%AE%E5%BD%95%20%E5%AD%A6%E4%B9%A0%E6%A1%86%E6%9E%B6%20%E7%B3%BB%E7%BB%9F%E6%80%A7%E7%9A%84%E5%AD%A6%E4%B9%A0Web%E5%89%8D%E7%AB%AF/20190328205449472.png?raw=true\"  alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>è¿™ä¸ªæ˜¯ç›®å‰ä»ä¸€ä¸ªå¤§ç‰›æ‰‹ä¸Šå¾—åˆ°çš„å›¾è§£ï¼Œè‡ªå·±å­¦ä¹ Webå‰ç«¯å¯èƒ½ä¼šç”¨å¾—åˆ°ï¼Œç‰¹æ­¤è®°å½•ä¸€ä¸‹</p>\n<p>å¦ä¸€ä¸ªå¤§ç‰›çš„git</p>\n<p><a href=\"https://github.com/stephentian/33-js-concepts\" target=\"_blank\" rel=\"noopener\">https://github.com/stephentian/33-js-concepts</a></p>\n<p><img src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/Web%E5%89%8D%E7%AB%AF%20%E5%AD%A6%E4%B9%A0%E7%9B%AE%E5%BD%95%20%E5%AD%A6%E4%B9%A0%E6%A1%86%E6%9E%B6%20%E7%B3%BB%E7%BB%9F%E6%80%A7%E7%9A%84%E5%AD%A6%E4%B9%A0Web%E5%89%8D%E7%AB%AF/20190328205449472.png?raw=true\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n"},{"title":"Webpack CleanWebpackPlugin is not a constructor","date":"2019-06-22T07:55:56.000Z","cover":"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/webpack.png?raw=true","_content":"\n## å‰è¨€\nä»Šå¤©è‡ªå·±è·Ÿç€webpackå®˜ç½‘çš„demoä¸€æ­¥æ­¥èµ°ä¸‹æ¥ã€‚å‘ç°äº†è¿™ä¸ªé—®é¢˜ã€‚\n\n![](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/CleanWebpackPlugin%20is%20not%20a%20constructor/20190622155255789.png?raw=true)\n\næŸ¥äº†ä¸€åœˆã€‚å‘ç°äº†è¿™ä¸ªåšä¸»ã€‚niceï¼\n```\n// webpackç‰ˆæœ¬ï¼š4.34.0\n \n// æŠ›é”™åŸå†™æ³•\nconst CleanWebpackPlugin = require(\"clean-webpack-plugin\");\n \n...\n \nplugins: [\n    new CleanWebpackPlugin(['dist'])\n]\n \n...\n \n// å¦ä¸€ç§é”™è¯¯å†™æ³•\n \nconst CleanWebpackPlugin = require(\"clean-webpack-plugin\");\n \n...\n \nplugins: [\n    new CleanWebpackPlugin(['dist'], {\n        root: path.resolve(__dirname, '../'),   //æ ¹ç›®å½•\n    })\n]\n \n...\n \n// =============================åˆ†å‰²çº¿==============================\n \n// æ­£ç¡®å†™æ³•\n \nconst { CleanWebpackPlugin } = require(\"clean-webpack-plugin\");\n \n...\n \nplugins: [\n    new CleanWebpackPlugin()\n]\n \n```\n\n ç°åœ¨çš„ç‰ˆæœ¬ä¸ç”¨æŒ‡å®šæ–‡ä»¶è·¯å¾„äº†ï¼Œç›´æ¥è°ƒç”¨new CleanWebpackPlugin()\n ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/CleanWebpackPlugin%20is%20not%20a%20constructor/20190622155123842.png?raw=true)\nç´¢å¼•ï¼šhttps://blog.csdn.net/qq_36242361/article/details/90709258\n\n","source":"_posts/Webpack-CleanWebpackPlugin-is-not-a-constructor.md","raw":"---\ntitle: Webpack CleanWebpackPlugin is not a constructor\ndate: 2019-06-22 15:55:56\ntags: [WebPack, clean-webpack-plugin]\ncategory: [WebPack]\ncover: https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/webpack.png?raw=true\n---\n\n## å‰è¨€\nä»Šå¤©è‡ªå·±è·Ÿç€webpackå®˜ç½‘çš„demoä¸€æ­¥æ­¥èµ°ä¸‹æ¥ã€‚å‘ç°äº†è¿™ä¸ªé—®é¢˜ã€‚\n\n![](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/CleanWebpackPlugin%20is%20not%20a%20constructor/20190622155255789.png?raw=true)\n\næŸ¥äº†ä¸€åœˆã€‚å‘ç°äº†è¿™ä¸ªåšä¸»ã€‚niceï¼\n```\n// webpackç‰ˆæœ¬ï¼š4.34.0\n \n// æŠ›é”™åŸå†™æ³•\nconst CleanWebpackPlugin = require(\"clean-webpack-plugin\");\n \n...\n \nplugins: [\n    new CleanWebpackPlugin(['dist'])\n]\n \n...\n \n// å¦ä¸€ç§é”™è¯¯å†™æ³•\n \nconst CleanWebpackPlugin = require(\"clean-webpack-plugin\");\n \n...\n \nplugins: [\n    new CleanWebpackPlugin(['dist'], {\n        root: path.resolve(__dirname, '../'),   //æ ¹ç›®å½•\n    })\n]\n \n...\n \n// =============================åˆ†å‰²çº¿==============================\n \n// æ­£ç¡®å†™æ³•\n \nconst { CleanWebpackPlugin } = require(\"clean-webpack-plugin\");\n \n...\n \nplugins: [\n    new CleanWebpackPlugin()\n]\n \n```\n\n ç°åœ¨çš„ç‰ˆæœ¬ä¸ç”¨æŒ‡å®šæ–‡ä»¶è·¯å¾„äº†ï¼Œç›´æ¥è°ƒç”¨new CleanWebpackPlugin()\n ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/CleanWebpackPlugin%20is%20not%20a%20constructor/20190622155123842.png?raw=true)\nç´¢å¼•ï¼šhttps://blog.csdn.net/qq_36242361/article/details/90709258\n\n","slug":"Webpack-CleanWebpackPlugin-is-not-a-constructor","published":1,"updated":"2020-04-11T11:50:40.608Z","_id":"ck8vk5paq002wo5vmepwe828o","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>ä»Šå¤©è‡ªå·±è·Ÿç€webpackå®˜ç½‘çš„demoä¸€æ­¥æ­¥èµ°ä¸‹æ¥ã€‚å‘ç°äº†è¿™ä¸ªé—®é¢˜ã€‚</p>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/CleanWebpackPlugin%20is%20not%20a%20constructor/20190622155255789.png?raw=true\"  alt=\"\"></p>\n<p>æŸ¥äº†ä¸€åœˆã€‚å‘ç°äº†è¿™ä¸ªåšä¸»ã€‚niceï¼</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F; webpackç‰ˆæœ¬ï¼š4.34.0</span><br><span class=\"line\"> </span><br><span class=\"line\">&#x2F;&#x2F; æŠ›é”™åŸå†™æ³•</span><br><span class=\"line\">const CleanWebpackPlugin &#x3D; require(&quot;clean-webpack-plugin&quot;);</span><br><span class=\"line\"> </span><br><span class=\"line\">...</span><br><span class=\"line\"> </span><br><span class=\"line\">plugins: [</span><br><span class=\"line\">    new CleanWebpackPlugin([&#39;dist&#39;])</span><br><span class=\"line\">]</span><br><span class=\"line\"> </span><br><span class=\"line\">...</span><br><span class=\"line\"> </span><br><span class=\"line\">&#x2F;&#x2F; å¦ä¸€ç§é”™è¯¯å†™æ³•</span><br><span class=\"line\"> </span><br><span class=\"line\">const CleanWebpackPlugin &#x3D; require(&quot;clean-webpack-plugin&quot;);</span><br><span class=\"line\"> </span><br><span class=\"line\">...</span><br><span class=\"line\"> </span><br><span class=\"line\">plugins: [</span><br><span class=\"line\">    new CleanWebpackPlugin([&#39;dist&#39;], &#123;</span><br><span class=\"line\">        root: path.resolve(__dirname, &#39;..&#x2F;&#39;),   &#x2F;&#x2F;æ ¹ç›®å½•</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">]</span><br><span class=\"line\"> </span><br><span class=\"line\">...</span><br><span class=\"line\"> </span><br><span class=\"line\">&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;åˆ†å‰²çº¿&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class=\"line\"> </span><br><span class=\"line\">&#x2F;&#x2F; æ­£ç¡®å†™æ³•</span><br><span class=\"line\"> </span><br><span class=\"line\">const &#123; CleanWebpackPlugin &#125; &#x3D; require(&quot;clean-webpack-plugin&quot;);</span><br><span class=\"line\"> </span><br><span class=\"line\">...</span><br><span class=\"line\"> </span><br><span class=\"line\">plugins: [</span><br><span class=\"line\">    new CleanWebpackPlugin()</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p> ç°åœ¨çš„ç‰ˆæœ¬ä¸ç”¨æŒ‡å®šæ–‡ä»¶è·¯å¾„äº†ï¼Œç›´æ¥è°ƒç”¨new CleanWebpackPlugin()<br> <img src=\"/\" class=\"lazyload\" data-src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/CleanWebpackPlugin%20is%20not%20a%20constructor/20190622155123842.png?raw=true\"  alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>ç´¢å¼•ï¼š<a href=\"https://blog.csdn.net/qq_36242361/article/details/90709258\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/qq_36242361/article/details/90709258</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>ä»Šå¤©è‡ªå·±è·Ÿç€webpackå®˜ç½‘çš„demoä¸€æ­¥æ­¥èµ°ä¸‹æ¥ã€‚å‘ç°äº†è¿™ä¸ªé—®é¢˜ã€‚</p>\n<p><img src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/CleanWebpackPlugin%20is%20not%20a%20constructor/20190622155255789.png?raw=true\" alt=\"\"></p>\n<p>æŸ¥äº†ä¸€åœˆã€‚å‘ç°äº†è¿™ä¸ªåšä¸»ã€‚niceï¼</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F; webpackç‰ˆæœ¬ï¼š4.34.0</span><br><span class=\"line\"> </span><br><span class=\"line\">&#x2F;&#x2F; æŠ›é”™åŸå†™æ³•</span><br><span class=\"line\">const CleanWebpackPlugin &#x3D; require(&quot;clean-webpack-plugin&quot;);</span><br><span class=\"line\"> </span><br><span class=\"line\">...</span><br><span class=\"line\"> </span><br><span class=\"line\">plugins: [</span><br><span class=\"line\">    new CleanWebpackPlugin([&#39;dist&#39;])</span><br><span class=\"line\">]</span><br><span class=\"line\"> </span><br><span class=\"line\">...</span><br><span class=\"line\"> </span><br><span class=\"line\">&#x2F;&#x2F; å¦ä¸€ç§é”™è¯¯å†™æ³•</span><br><span class=\"line\"> </span><br><span class=\"line\">const CleanWebpackPlugin &#x3D; require(&quot;clean-webpack-plugin&quot;);</span><br><span class=\"line\"> </span><br><span class=\"line\">...</span><br><span class=\"line\"> </span><br><span class=\"line\">plugins: [</span><br><span class=\"line\">    new CleanWebpackPlugin([&#39;dist&#39;], &#123;</span><br><span class=\"line\">        root: path.resolve(__dirname, &#39;..&#x2F;&#39;),   &#x2F;&#x2F;æ ¹ç›®å½•</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">]</span><br><span class=\"line\"> </span><br><span class=\"line\">...</span><br><span class=\"line\"> </span><br><span class=\"line\">&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;åˆ†å‰²çº¿&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class=\"line\"> </span><br><span class=\"line\">&#x2F;&#x2F; æ­£ç¡®å†™æ³•</span><br><span class=\"line\"> </span><br><span class=\"line\">const &#123; CleanWebpackPlugin &#125; &#x3D; require(&quot;clean-webpack-plugin&quot;);</span><br><span class=\"line\"> </span><br><span class=\"line\">...</span><br><span class=\"line\"> </span><br><span class=\"line\">plugins: [</span><br><span class=\"line\">    new CleanWebpackPlugin()</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p> ç°åœ¨çš„ç‰ˆæœ¬ä¸ç”¨æŒ‡å®šæ–‡ä»¶è·¯å¾„äº†ï¼Œç›´æ¥è°ƒç”¨new CleanWebpackPlugin()<br> <img src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/CleanWebpackPlugin%20is%20not%20a%20constructor/20190622155123842.png?raw=true\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>ç´¢å¼•ï¼š<a href=\"https://blog.csdn.net/qq_36242361/article/details/90709258\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/qq_36242361/article/details/90709258</a></p>\n"},{"title":"window.history.back(); ç¼“å­˜ è¿”å›ä¸Šçº§é¡µé¢ä¸åˆ·æ–°æ•°æ®","date":"2019-06-19T03:12:34.000Z","cover":"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/history.jpeg?raw=true","_content":"\n## é—®é¢˜\n\n - æˆ‘ä»¬ç»å¸¸ä¼šåšå®Œä¸€ä¸ªæ“ä½œä¹‹åè¿”å›ä¸Šä¸€ä¸ªé¡µé¢ï¼ˆæ¯”å¦‚æ–°å¢å®Œä¸€æ¡è®°å½•ï¼‰\n\n - ç„¶åæˆ‘ä»¬å¸Œæœ›è¿”å›ä¸Šä¸€ä¸ªé¡µé¢çš„æ—¶å€™å°±è‡ªåŠ¨åˆ·æ–°ä»–ã€‚\n - ä½†æ˜¯ç”±äºJSçš„ç¼“å­˜æœºåˆ¶\n - å¯¼è‡´æˆ‘ä»¬çš„æ•°æ®è¿˜æ˜¯ä»å‰ä¸€æ¬¡é‡Œé¢å–çš„ï¼ˆä»–çš„åˆè¡·æ˜¯å¸Œæœ›ä½ æ›´å¿«ï¼Œæ›´çœèµ„æºï¼‰\n - ä½†æ˜¯å’Œæˆ‘ä»¬çš„éœ€æ±‚ä¸åŒ\n - å¦‚å›¾ï¼š\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/window.history.back();%20%E7%BC%93%E5%AD%98%20%E8%BF%94%E5%9B%9E%E4%B8%8A%E7%BA%A7%E9%A1%B5%E9%9D%A2%E4%B8%8D%E5%88%B7%E6%96%B0%E6%95%B0%E6%8D%AE/20190318092239845.png?raw=true)\n\n## æ¢ç´¢\nä»ç½‘ä¸Šæ‰¾çš„ä¸€äº›èµ„æ–™ï¼š\n\n - åœ¨`window.history.back();` åé¢åŠ `location.reload();`\n - `window.history.go(-1);window.location.reload()`\n\nå‡æ— ç»ˆè€Œè¿”\n\n## è§£å†³\n\n - `window.location.replace(document.referrer)`\n - `window.location.href=â€œä¸Šä¸€ä¸ªé¡µé¢URLâ€`ï¼ˆä¸‹ä¸‹ç­–ï¼‰\n","source":"_posts/window-history-back-ç¼“å­˜-è¿”å›ä¸Šçº§é¡µé¢ä¸åˆ·æ–°æ•°æ®.md","raw":"---\ntitle: window.history.back(); ç¼“å­˜ è¿”å›ä¸Šçº§é¡µé¢ä¸åˆ·æ–°æ•°æ®\ndate: 2019-06-19 11:12:34\ntags: [HTML, JavaScript]\ncategory: [Webå‰ç«¯]\ncover: https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/cover/history.jpeg?raw=true\n---\n\n## é—®é¢˜\n\n - æˆ‘ä»¬ç»å¸¸ä¼šåšå®Œä¸€ä¸ªæ“ä½œä¹‹åè¿”å›ä¸Šä¸€ä¸ªé¡µé¢ï¼ˆæ¯”å¦‚æ–°å¢å®Œä¸€æ¡è®°å½•ï¼‰\n\n - ç„¶åæˆ‘ä»¬å¸Œæœ›è¿”å›ä¸Šä¸€ä¸ªé¡µé¢çš„æ—¶å€™å°±è‡ªåŠ¨åˆ·æ–°ä»–ã€‚\n - ä½†æ˜¯ç”±äºJSçš„ç¼“å­˜æœºåˆ¶\n - å¯¼è‡´æˆ‘ä»¬çš„æ•°æ®è¿˜æ˜¯ä»å‰ä¸€æ¬¡é‡Œé¢å–çš„ï¼ˆä»–çš„åˆè¡·æ˜¯å¸Œæœ›ä½ æ›´å¿«ï¼Œæ›´çœèµ„æºï¼‰\n - ä½†æ˜¯å’Œæˆ‘ä»¬çš„éœ€æ±‚ä¸åŒ\n - å¦‚å›¾ï¼š\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/window.history.back();%20%E7%BC%93%E5%AD%98%20%E8%BF%94%E5%9B%9E%E4%B8%8A%E7%BA%A7%E9%A1%B5%E9%9D%A2%E4%B8%8D%E5%88%B7%E6%96%B0%E6%95%B0%E6%8D%AE/20190318092239845.png?raw=true)\n\n## æ¢ç´¢\nä»ç½‘ä¸Šæ‰¾çš„ä¸€äº›èµ„æ–™ï¼š\n\n - åœ¨`window.history.back();` åé¢åŠ `location.reload();`\n - `window.history.go(-1);window.location.reload()`\n\nå‡æ— ç»ˆè€Œè¿”\n\n## è§£å†³\n\n - `window.location.replace(document.referrer)`\n - `window.location.href=â€œä¸Šä¸€ä¸ªé¡µé¢URLâ€`ï¼ˆä¸‹ä¸‹ç­–ï¼‰\n","slug":"window-history-back-ç¼“å­˜-è¿”å›ä¸Šçº§é¡µé¢ä¸åˆ·æ–°æ•°æ®","published":1,"updated":"2020-04-11T11:50:40.675Z","_id":"ck8vk5pav0033o5vme3rj9rpg","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"é—®é¢˜\"><a href=\"#é—®é¢˜\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h2><ul>\n<li><p>æˆ‘ä»¬ç»å¸¸ä¼šåšå®Œä¸€ä¸ªæ“ä½œä¹‹åè¿”å›ä¸Šä¸€ä¸ªé¡µé¢ï¼ˆæ¯”å¦‚æ–°å¢å®Œä¸€æ¡è®°å½•ï¼‰</p>\n</li>\n<li><p>ç„¶åæˆ‘ä»¬å¸Œæœ›è¿”å›ä¸Šä¸€ä¸ªé¡µé¢çš„æ—¶å€™å°±è‡ªåŠ¨åˆ·æ–°ä»–ã€‚</p>\n</li>\n<li><p>ä½†æ˜¯ç”±äºJSçš„ç¼“å­˜æœºåˆ¶</p>\n</li>\n<li><p>å¯¼è‡´æˆ‘ä»¬çš„æ•°æ®è¿˜æ˜¯ä»å‰ä¸€æ¬¡é‡Œé¢å–çš„ï¼ˆä»–çš„åˆè¡·æ˜¯å¸Œæœ›ä½ æ›´å¿«ï¼Œæ›´çœèµ„æºï¼‰</p>\n</li>\n<li><p>ä½†æ˜¯å’Œæˆ‘ä»¬çš„éœ€æ±‚ä¸åŒ</p>\n</li>\n<li><p>å¦‚å›¾ï¼š</p>\n</li>\n</ul>\n<p><img src=\"/\" class=\"lazyload\" data-src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/window.history.back();%20%E7%BC%93%E5%AD%98%20%E8%BF%94%E5%9B%9E%E4%B8%8A%E7%BA%A7%E9%A1%B5%E9%9D%A2%E4%B8%8D%E5%88%B7%E6%96%B0%E6%95%B0%E6%8D%AE/20190318092239845.png?raw=true\"  alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<h2 id=\"æ¢ç´¢\"><a href=\"#æ¢ç´¢\" class=\"headerlink\" title=\"æ¢ç´¢\"></a>æ¢ç´¢</h2><p>ä»ç½‘ä¸Šæ‰¾çš„ä¸€äº›èµ„æ–™ï¼š</p>\n<ul>\n<li>åœ¨<code>window.history.back();</code> åé¢åŠ <code>location.reload();</code></li>\n<li><code>window.history.go(-1);window.location.reload()</code></li>\n</ul>\n<p>å‡æ— ç»ˆè€Œè¿”</p>\n<h2 id=\"è§£å†³\"><a href=\"#è§£å†³\" class=\"headerlink\" title=\"è§£å†³\"></a>è§£å†³</h2><ul>\n<li><code>window.location.replace(document.referrer)</code></li>\n<li><code>window.location.href=â€œä¸Šä¸€ä¸ªé¡µé¢URLâ€</code>ï¼ˆä¸‹ä¸‹ç­–ï¼‰</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"é—®é¢˜\"><a href=\"#é—®é¢˜\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h2><ul>\n<li><p>æˆ‘ä»¬ç»å¸¸ä¼šåšå®Œä¸€ä¸ªæ“ä½œä¹‹åè¿”å›ä¸Šä¸€ä¸ªé¡µé¢ï¼ˆæ¯”å¦‚æ–°å¢å®Œä¸€æ¡è®°å½•ï¼‰</p>\n</li>\n<li><p>ç„¶åæˆ‘ä»¬å¸Œæœ›è¿”å›ä¸Šä¸€ä¸ªé¡µé¢çš„æ—¶å€™å°±è‡ªåŠ¨åˆ·æ–°ä»–ã€‚</p>\n</li>\n<li><p>ä½†æ˜¯ç”±äºJSçš„ç¼“å­˜æœºåˆ¶</p>\n</li>\n<li><p>å¯¼è‡´æˆ‘ä»¬çš„æ•°æ®è¿˜æ˜¯ä»å‰ä¸€æ¬¡é‡Œé¢å–çš„ï¼ˆä»–çš„åˆè¡·æ˜¯å¸Œæœ›ä½ æ›´å¿«ï¼Œæ›´çœèµ„æºï¼‰</p>\n</li>\n<li><p>ä½†æ˜¯å’Œæˆ‘ä»¬çš„éœ€æ±‚ä¸åŒ</p>\n</li>\n<li><p>å¦‚å›¾ï¼š</p>\n</li>\n</ul>\n<p><img src=\"https://github.com/DerrickTel/DerrickTel.github.io/blob/master/img/window.history.back();%20%E7%BC%93%E5%AD%98%20%E8%BF%94%E5%9B%9E%E4%B8%8A%E7%BA%A7%E9%A1%B5%E9%9D%A2%E4%B8%8D%E5%88%B7%E6%96%B0%E6%95%B0%E6%8D%AE/20190318092239845.png?raw=true\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<h2 id=\"æ¢ç´¢\"><a href=\"#æ¢ç´¢\" class=\"headerlink\" title=\"æ¢ç´¢\"></a>æ¢ç´¢</h2><p>ä»ç½‘ä¸Šæ‰¾çš„ä¸€äº›èµ„æ–™ï¼š</p>\n<ul>\n<li>åœ¨<code>window.history.back();</code> åé¢åŠ <code>location.reload();</code></li>\n<li><code>window.history.go(-1);window.location.reload()</code></li>\n</ul>\n<p>å‡æ— ç»ˆè€Œè¿”</p>\n<h2 id=\"è§£å†³\"><a href=\"#è§£å†³\" class=\"headerlink\" title=\"è§£å†³\"></a>è§£å†³</h2><ul>\n<li><code>window.location.replace(document.referrer)</code></li>\n<li><code>window.location.href=â€œä¸Šä¸€ä¸ªé¡µé¢URLâ€</code>ï¼ˆä¸‹ä¸‹ç­–ï¼‰</li>\n</ul>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"ck8vk5ivx0000o5vmf8mff04n","category_id":"ck8vk5ix50002o5vmgqmy75t6","_id":"ck8vk5ixr0006o5vm14ei30b0"},{"post_id":"ck8vk5iwq0001o5vmcfsi51kg","category_id":"ck8vk5ixo0004o5vmherj62hy","_id":"ck8vk5iy9000ao5vmghv24ub6"},{"post_id":"ck8vk5izj000eo5vm8eu9egsv","category_id":"ck8vk5izm000fo5vmhlrpbbsh","_id":"ck8vk5izu000io5vmfndmalfb"},{"post_id":"ck8vk5j0f000no5vm46k5e0uz","category_id":"ck8vk5ix50002o5vmgqmy75t6","_id":"ck8vk5j0u000vo5vmdbm00113"},{"post_id":"ck8vk5j0f000no5vm46k5e0uz","category_id":"ck8vk5j0k000qo5vm6fu15ayz","_id":"ck8vk5j0v000xo5vmacja9fgf"},{"post_id":"ck8vk5j0g000oo5vm3qxa0xf0","category_id":"ck8vk5j0s000so5vm9hhb1bwy","_id":"ck8vk5j0v000yo5vm7v6heayp"},{"post_id":"ck8vk5nhp000zo5vm3i2n0vig","category_id":"ck8vk5ni00010o5vm822ifvox","_id":"ck8vk5ni10013o5vm104zdvqc"},{"post_id":"ck8vk5o160016o5vm10gg1boe","category_id":"ck8vk5o190018o5vmfmse75i5","_id":"ck8vk5o1i001do5vm7l8tbctc"},{"post_id":"ck8vk5o170017o5vm7we3dmtf","category_id":"ck8vk5o1g001ao5vmef4nbk1r","_id":"ck8vk5o1i001fo5vmcb29g645"},{"post_id":"ck8vk5o1o001io5vmencyhf4v","category_id":"ck8vk5o1w001jo5vmeysr8g0k","_id":"ck8vk5o21001oo5vm25s8ees8"},{"post_id":"ck8vk5o1o001io5vmencyhf4v","category_id":"ck8vk5o1z001mo5vm2x7j3k6e","_id":"ck8vk5o21001qo5vmbccjhhoa"},{"post_id":"ck8vk5p7t001to5vmer4962gz","category_id":"ck8vk5p7x001uo5vm7uxfaj2h","_id":"ck8vk5p7z001xo5vmd46u94v0"},{"post_id":"ck8vk5p8p0021o5vm0dsyezm8","category_id":"ck8vk5p7x001uo5vm7uxfaj2h","_id":"ck8vk5p8r0024o5vm2hrnc4xm"},{"post_id":"ck8vk5p8w0025o5vmhgwc307a","category_id":"ck8vk5o190018o5vmfmse75i5","_id":"ck8vk5p900027o5vme2q1hxrp"},{"post_id":"ck8vk5p9d0028o5vm1jfl1fkg","category_id":"ck8vk5p7x001uo5vm7uxfaj2h","_id":"ck8vk5p9k002bo5vmg6ekashm"},{"post_id":"ck8vk5p9f0029o5vmfd9g3x2q","category_id":"ck8vk5o1w001jo5vmeysr8g0k","_id":"ck8vk5p9l002do5vmdswhd1kd"},{"post_id":"ck8vk5p9f0029o5vmfd9g3x2q","category_id":"ck8vk5o1z001mo5vm2x7j3k6e","_id":"ck8vk5p9l002fo5vm7ukod8bk"},{"post_id":"ck8vk5pae002lo5vmaa0p1odz","category_id":"ck8vk5pag002mo5vmgm6413iq","_id":"ck8vk5pan002po5vm5uoi0vxn"},{"post_id":"ck8vk5paq002wo5vmepwe828o","category_id":"ck8vk5pas002xo5vmceo20ucc","_id":"ck8vk5pat0030o5vmgklha1hk"},{"post_id":"ck8vk5pav0033o5vme3rj9rpg","category_id":"ck8vk5pag002mo5vmgm6413iq","_id":"ck8vk5pax0035o5vmczgm3ytn"}],"PostTag":[{"post_id":"ck8vk5ivx0000o5vmf8mff04n","tag_id":"ck8vk5ix90003o5vm6vpnf15s","_id":"ck8vk5ixt0008o5vmdc0j5w32"},{"post_id":"ck8vk5ivx0000o5vmf8mff04n","tag_id":"ck8vk5ixp0005o5vm58m1er6r","_id":"ck8vk5iy80009o5vm8adghquu"},{"post_id":"ck8vk5iwq0001o5vmcfsi51kg","tag_id":"ck8vk5ixr0007o5vm5jj733fc","_id":"ck8vk5iyh000co5vm9xtc4ayc"},{"post_id":"ck8vk5iwq0001o5vmcfsi51kg","tag_id":"ck8vk5iy9000bo5vm1dow95y3","_id":"ck8vk5iyh000do5vm5j0u1oph"},{"post_id":"ck8vk5izj000eo5vm8eu9egsv","tag_id":"ck8vk5izn000go5vmggm64n4w","_id":"ck8vk5izu000ko5vmdjvzgdvo"},{"post_id":"ck8vk5izj000eo5vm8eu9egsv","tag_id":"ck8vk5izo000ho5vm4tnsho6y","_id":"ck8vk5izv000lo5vmejxl1m5g"},{"post_id":"ck8vk5izj000eo5vm8eu9egsv","tag_id":"ck8vk5izu000jo5vme73s6gqh","_id":"ck8vk5izv000mo5vme5nd35dl"},{"post_id":"ck8vk5j0f000no5vm46k5e0uz","tag_id":"ck8vk5ix90003o5vm6vpnf15s","_id":"ck8vk5j0t000to5vmdit7aelr"},{"post_id":"ck8vk5j0f000no5vm46k5e0uz","tag_id":"ck8vk5j0j000po5vm76jh49xc","_id":"ck8vk5j0u000uo5vmhowtco58"},{"post_id":"ck8vk5j0g000oo5vm3qxa0xf0","tag_id":"ck8vk5j0l000ro5vmb70phayu","_id":"ck8vk5j0u000wo5vm28eh3gyg"},{"post_id":"ck8vk5nhp000zo5vm3i2n0vig","tag_id":"ck8vk5ni00011o5vmay2w49sv","_id":"ck8vk5ni10014o5vm2cm7btsh"},{"post_id":"ck8vk5nhp000zo5vm3i2n0vig","tag_id":"ck8vk5ni10012o5vm6m2u8ey1","_id":"ck8vk5ni20015o5vme3mpg9kd"},{"post_id":"ck8vk5o160016o5vm10gg1boe","tag_id":"ck8vk5o1e0019o5vm34o5ctyq","_id":"ck8vk5o1h001co5vmd4h6dvq2"},{"post_id":"ck8vk5o170017o5vm7we3dmtf","tag_id":"ck8vk5o1g001bo5vm6gsfdlvq","_id":"ck8vk5o1j001go5vm0zw07rrt"},{"post_id":"ck8vk5o170017o5vm7we3dmtf","tag_id":"ck8vk5o1i001eo5vm90o03slo","_id":"ck8vk5o1j001ho5vm4xe71kep"},{"post_id":"ck8vk5o1o001io5vmencyhf4v","tag_id":"ck8vk5o1x001ko5vm4ul2h63y","_id":"ck8vk5o21001po5vm3h995u20"},{"post_id":"ck8vk5o1o001io5vmencyhf4v","tag_id":"ck8vk5o1y001lo5vmgt4qc2k7","_id":"ck8vk5o21001ro5vmbxzd5b6u"},{"post_id":"ck8vk5o1o001io5vmencyhf4v","tag_id":"ck8vk5o20001no5vmdu08ghld","_id":"ck8vk5o21001so5vm4rw0dvgb"},{"post_id":"ck8vk5p7t001to5vmer4962gz","tag_id":"ck8vk5p7x001vo5vm1jt2cup6","_id":"ck8vk5p7z001yo5vm3kje2ppa"},{"post_id":"ck8vk5p7t001to5vmer4962gz","tag_id":"ck8vk5ixr0007o5vm5jj733fc","_id":"ck8vk5p7z001zo5vm0o7vdrs9"},{"post_id":"ck8vk5p7t001to5vmer4962gz","tag_id":"ck8vk5p7y001wo5vmbbdxdo6n","_id":"ck8vk5p800020o5vm0khj0zbi"},{"post_id":"ck8vk5p8p0021o5vm0dsyezm8","tag_id":"ck8vk5p7x001vo5vm1jt2cup6","_id":"ck8vk5p8q0022o5vmandhb4nv"},{"post_id":"ck8vk5p8p0021o5vm0dsyezm8","tag_id":"ck8vk5ixr0007o5vm5jj733fc","_id":"ck8vk5p8r0023o5vm4v1w8zy9"},{"post_id":"ck8vk5p8w0025o5vmhgwc307a","tag_id":"ck8vk5o1e0019o5vm34o5ctyq","_id":"ck8vk5p8z0026o5vmaa3zemfh"},{"post_id":"ck8vk5p9d0028o5vm1jfl1fkg","tag_id":"ck8vk5ixr0007o5vm5jj733fc","_id":"ck8vk5p9l002eo5vm69jr8sg0"},{"post_id":"ck8vk5p9d0028o5vm1jfl1fkg","tag_id":"ck8vk5p9j002ao5vm7v081hyt","_id":"ck8vk5p9l002go5vmcz7whg83"},{"post_id":"ck8vk5p9f0029o5vmfd9g3x2q","tag_id":"ck8vk5p9k002co5vmg4ja8ka2","_id":"ck8vk5p9n002io5vmh7ih7tk1"},{"post_id":"ck8vk5p9f0029o5vmfd9g3x2q","tag_id":"ck8vk5p9m002ho5vmdkmr6tu2","_id":"ck8vk5p9n002jo5vm8799d6ut"},{"post_id":"ck8vk5p9f0029o5vmfd9g3x2q","tag_id":"ck8vk5o1y001lo5vmgt4qc2k7","_id":"ck8vk5p9n002ko5vmhv8jeioe"},{"post_id":"ck8vk5pae002lo5vmaa0p1odz","tag_id":"ck8vk5paj002no5vma1o7duus","_id":"ck8vk5pan002so5vm1abng9p4"},{"post_id":"ck8vk5pae002lo5vmaa0p1odz","tag_id":"ck8vk5pam002oo5vm3kdx6twe","_id":"ck8vk5pan002to5vm4dr61xi2"},{"post_id":"ck8vk5pae002lo5vmaa0p1odz","tag_id":"ck8vk5pan002qo5vmamsc6bah","_id":"ck8vk5pan002uo5vmd4mq0fv1"},{"post_id":"ck8vk5pae002lo5vmaa0p1odz","tag_id":"ck8vk5pan002ro5vmgf1igehh","_id":"ck8vk5pan002vo5vm2dyf6vt7"},{"post_id":"ck8vk5paq002wo5vmepwe828o","tag_id":"ck8vk5pat002yo5vm3gzc10wg","_id":"ck8vk5pau0031o5vmdczqa5c2"},{"post_id":"ck8vk5paq002wo5vmepwe828o","tag_id":"ck8vk5pat002zo5vm9o9h5ggx","_id":"ck8vk5pau0032o5vmfg159f8m"},{"post_id":"ck8vk5pav0033o5vme3rj9rpg","tag_id":"ck8vk5paw0034o5vmfz4o7e08","_id":"ck8vk5pax0037o5vmew0a9ra6"},{"post_id":"ck8vk5pav0033o5vme3rj9rpg","tag_id":"ck8vk5pax0036o5vm831s3axa","_id":"ck8vk5pax0038o5vm3pwd1y3a"}],"Tag":[{"name":"Ant-Design-Form","_id":"ck8vk5ix90003o5vm6vpnf15s"},{"name":"Ant-Design","_id":"ck8vk5ixp0005o5vm58m1er6r"},{"name":"React","_id":"ck8vk5ixr0007o5vm5jj733fc"},{"name":"ES6","_id":"ck8vk5iy9000bo5vm1dow95y3"},{"name":"React-Router","_id":"ck8vk5izn000go5vmggm64n4w"},{"name":"UMI","_id":"ck8vk5izo000ho5vm4tnsho6y"},{"name":"Ant-Design-Pro","_id":"ck8vk5izu000jo5vme73s6gqh"},{"name":"Ant-Designç»„ä»¶åˆé›†","_id":"ck8vk5j0j000po5vm76jh49xc"},{"name":"CSS-Module","_id":"ck8vk5j0l000ro5vmb70phayu"},{"name":"Hexo","_id":"ck8vk5ni00011o5vmay2w49sv"},{"name":"GitHub","_id":"ck8vk5ni10012o5vm6m2u8ey1"},{"name":"HTTP","_id":"ck8vk5o1e0019o5vm34o5ctyq"},{"name":"æ·±æ‹·è´","_id":"ck8vk5o1g001bo5vm6gsfdlvq"},{"name":"æµ…æ‹·è´","_id":"ck8vk5o1i001eo5vm90o03slo"},{"name":"Spring-Boot-2.0","_id":"ck8vk5o1x001ko5vm4ul2h63y"},{"name":"Java","_id":"ck8vk5o1y001lo5vmgt4qc2k7"},{"name":"JWT","_id":"ck8vk5o20001no5vmdu08ghld"},{"name":"ReactHook","_id":"ck8vk5p7x001vo5vm1jt2cup6"},{"name":"å€’è®¡æ—¶","_id":"ck8vk5p7y001wo5vmbbdxdo6n"},{"name":"State","_id":"ck8vk5p9j002ao5vm7v081hyt"},{"name":"Spring-Boot","_id":"ck8vk5p9k002co5vmg4ja8ka2"},{"name":"è·¨åŸŸ","_id":"ck8vk5p9m002ho5vmdkmr6tu2"},{"name":"ç³»ç»Ÿæ€§çš„å­¦ä¹ ","_id":"ck8vk5paj002no5vma1o7duus"},{"name":"å­¦ä¹ ç›®å½•","_id":"ck8vk5pam002oo5vm3kdx6twe"},{"name":"Webå‰ç«¯","_id":"ck8vk5pan002qo5vmamsc6bah"},{"name":"å­¦ä¹ æ¡†æ¶","_id":"ck8vk5pan002ro5vmgf1igehh"},{"name":"WebPack","_id":"ck8vk5pat002yo5vm3gzc10wg"},{"name":"clean-webpack-plugin","_id":"ck8vk5pat002zo5vm9o9h5ggx"},{"name":"HTML","_id":"ck8vk5paw0034o5vmfz4o7e08"},{"name":"JavaScript","_id":"ck8vk5pax0036o5vm831s3axa"}]}}