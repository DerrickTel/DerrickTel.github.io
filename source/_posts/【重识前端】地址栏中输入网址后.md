---
title: ã€é‡è¯†å‰ç«¯ã€‘åœ°å€æ ä¸­è¾“å…¥ç½‘å€åŽå‘ç”Ÿäº†ä»€ä¹ˆ
date: 2020-10-09 10:08:31
tags: [æµè§ˆå™¨]
category: [é‡æ‹¾å‰ç«¯]
cover: /image/cover/web.jpeg
---

# å‰è¨€

ä¸è¯´å¤ªå¤šåºŸè¯äº†ï¼Œè¿™ä¸ªé¢˜ç›®å…¶å®žåŸºæœ¬ä¸Šæ˜¯çŽ°åœ¨é¢è¯•çš„é«˜é¢‘è€ƒç‚¹äº†ï¼ŒçŽ°åœ¨æˆ‘ä¹Ÿæƒ³è‡ªå·±è®¤è®¤çœŸçœŸçš„æ‹ä¸€éï¼Œåˆ°æ—¶å€™é¢è¯•ä¹Ÿå¯ä»¥æµåˆ©çš„å›žç­”ã€‚

# å¼€å§‹

let's go

## URLè§£æž

å…¶å®žæœ‰äººä¸€å¼€å§‹ä¼šæœ‰ç–‘æƒ‘ï¼Œè‡³å°‘æˆ‘ä¸€å¼€å§‹ä¹Ÿæœ‰ç–‘æƒ‘ï¼Œä¸æ˜¯åº”è¯¥å…ˆDNSè§£æžå—ï¼Ÿ

å…¶å®žä¸æ˜¯çš„ï¼ŒçŽ°åœ¨çš„æµè§ˆå™¨ä»–ä¼šä¼˜å…ˆè§£æžä½ æ˜¯ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„URLï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿæ¯”å¦‚æˆ‘ä»¬åœ¨Chromeè¾“å…¥ä¸­æ–‡â€œDerrickæ˜¯å¸…å“¥å—â€ï¼Œè¿™æ ·çš„ä¸æ˜¯ä¸€ä¸ªæ­£å¸¸çš„åˆæ³•çš„URLï¼Œå°±ä¼šä¼˜å…ˆè°ƒç”¨ä½ é»˜è®¤çš„æœç´¢å¼•æ“Žå¼€å§‹æœç´¢ã€‚

å½“ç„¶äº†ï¼Œåˆæ³•çš„URLåŒ…æ‹¬äº†åè®®å’Œç½‘ç»œåœ°å€ï¼Œæœ€å¸¸ç”¨çš„åè®®æ˜¯

- HTTPï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰
- FTPï¼ˆæ–‡ä»¶ä¼ è¾“åè®®ï¼‰

ç½‘ç»œåœ°å€ä¹Ÿå¯ä»¥æ˜¯ipåœ°å€ï¼Œä»¥åŠç«¯å£å·ï¼Œæ²¡æœ‰ç«¯å£é»˜è®¤æ˜¯80ç«¯å£

## DNSåŸŸåè§£æž

è¿™ä¸€æ­¥å…¶å®žç®€å•æ¥è¯´å°±æ˜¯"baidu.com"è¿™ä¸ªåŸŸåï¼Œè§£æžæˆä¸€ä¸ªæ•´ä¸ªçš„åœ°å€ã€‚

æ¯”å¦‚æˆ‘ä»¬çš„å®¶åº­ä½å€éƒ½æœ‰ä¸€ä¸ªé—¨ç‰Œå·ï¼Œxxå°åŒºxxæ ‹xxå·

è¿™æ ·çš„ä¸€ä¸²æ ‡è¯†ç¬¦å°±å¯ä»¥ç²¾å‡†çš„æ‰¾åˆ°æˆ‘ä»¬çš„å®¶åº­ä½å€ï¼Œè€Œæ¯ä¸€ä¸ªipåœ°å€å°±æ˜¯è¿™æ ·çš„ä¸€ä¸ªé—¨ç‰Œå·ï¼Œæ¯”å¦‚`baidu.com`è¿™ä¸ªä¸æ˜¯ä¸€ä¸ªé—¨ç‰Œå·ï¼Œè¿™ä¸ªå¯ä»¥ç†è§£ä¸ºç™¾åº¦çš„å®¶ï¼Œä½ å‘Šè¯‰æµè§ˆå™¨ä½ è¦åŽ»ç™¾åº¦çš„å®¶ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šå¼€å§‹è¿›è¡ŒDNSè§£æžä»–ä¼šè§£æžæˆç™¾åº¦çš„é—¨ç‰Œå·ï¼Œç„¶åŽæ‰¾åˆ°ç™¾åº¦çš„å®¶ã€‚

### ç¼“å­˜

è¿™é‡Œé¢åˆä¼šæ¶‰åŠåˆ°ç¼“å­˜çš„æ¦‚å¿µï¼Œä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ

å°±æ˜¯ä¹‹å‰æˆ‘æŸ¥è¿‡ç™¾åº¦çš„å®¶äº†ï¼Œå·²ç»è®°å½•ä¸‹æ¥ç™¾åº¦çš„å®¶çš„é—¨ç‰Œå·äº†ï¼Œå°±ä¸éœ€è¦é‡æ–°çš„è¿›è¡Œè§£æžäº†ï¼Œç›´æŽ¥è¯»å–å°±å¥½äº†ï¼ŒèŠ‚çº¦æ—¶é—´ã€‚



è¿™é‡Œé¢æ¶‰åŠçš„çŸ¥è¯†å¤ªå¤šäº†ï¼Œä¸åœ¨è¿™æ¬¡çš„è®¨è®ºèŒƒå›´å†…ã€‚æ‰€ä»¥åªç®€å•çš„è¯´ä¸€ä¸‹ã€‚

![demo1](/image/åœ°å€æ /dns.png)



ä¸Šå›¾å…¶å®žå¾ˆå¥½çš„è§£ç­”äº†DNSçš„æ•´ä¸ªè§£æžè¿‡ç¨‹ã€‚

1. ä»Žæµè§ˆå™¨èŽ·å–ç¼“å­˜ç»“æžœã€‚
2. å¦‚æžœæµè§ˆå™¨æ²¡æœ‰ç¼“å­˜å°±ä»Žæœ¬åœ°ç³»ç»Ÿçš„ç¼“å­˜ä¸­è¯»å–ï¼Œæ¯”å¦‚hostæ–‡ä»¶ç­‰ç­‰ï¼Œåƒæˆ‘ä»¬å¹³å¸¸ä¸ŠGitHubå¦‚æžœæ…¢çš„è¯æˆ‘ä»¬éƒ½ä¼šä¿®æ”¹hostæ–‡ä»¶ï¼Œç»™ä»–é…ä¸€ä¸ªå¿«ä¸€ç‚¹çš„ipä¹‹ç±»çš„ç­‰ç­‰ã€‚
3. ç„¶åŽæ˜¯å›¾é‡Œé¢æ²¡æœ‰æåˆ°çš„è·¯ç”±å™¨ç¼“å­˜ï¼Œä¸€èˆ¬çš„è·¯ç”±å™¨ä¹Ÿä¼šæœ‰è‡ªå·±çš„ç¼“å­˜ã€‚
4. è·¯ç”±å™¨ä¹Ÿæ‰¾ä¸åˆ°åªèƒ½å¼€å§‹è§£æžäº†ã€‚æœ¬åœ°åŸŸåæœåŠ¡å™¨ä¼šå‘æ ¹åŸŸåæœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œ å¦‚æžœæ ¹åŸŸåæœåŠ¡å™¨ä¹Ÿä¸å­˜åœ¨è¯¥åŸŸåæ—¶ï¼Œ æœ¬åœ°åŸŸåä¼šå‘comé¡¶çº§åŸŸåæœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œ ä¾æ¬¡ç±»æŽ¨ä¸‹åŽ»ã€‚ ç›´åˆ°æœ€åŽæ‰¾åˆ°ç›®æ ‡ç½‘å€æ‰€å¯¹åº”çš„ IPï¼Œ å¹¶å°†å…¶ç¼“å­˜åˆ°æœ¬åœ°ï¼Œ ä»¥ä¾›ä¸‹æ¬¡ä½¿ç”¨ã€‚



### DNSé‡å®šå‘

è¿™é‡Œé¡ºä¾¿è¯´ä¸€ä¸‹DNSçš„é‡å®šå‘å§

> DNSæ¯æ¬¡è¿”å›žçš„ipåœ°å€å¯èƒ½ä¼šä¸ä¸€æ ·ï¼Œå› ä¸ºä¸–ç•Œä¸Šä¸æ˜¯åªæœ‰ä¸€ä¸ªæœºå™¨å¯ä»¥å¤„ç†"baidu.com"çš„è¿™ä¸ªè¯·æ±‚ï¼Œæœ‰å¾ˆå¤šæœºå™¨å¯ä»¥å¤„ç†ï¼ŒDNSåªéœ€è¦è¿”å›žå¯ä»¥å¤„ç†çš„æœºå™¨çš„ipåœ°å€å°±å¯ä»¥äº†ã€‚ä¾‹å¦‚å¯ä»¥æ ¹æ®æ¯å°æœºå™¨çš„è´Ÿè½½é‡ï¼Œ è¯¥æœºå™¨ç¦»ç”¨æˆ·åœ°ç†ä½ç½®çš„è·ç¦»ç­‰ç­‰ï¼Œ è¿™ç§è¿‡ç¨‹å°±æ˜¯DNSè´Ÿè½½å‡è¡¡ï¼Œ åˆå«åšDNSé‡å®šå‘ã€‚

å¾ˆç®€å•ï¼Œå‡ ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æˆ‘åœ¨æ•…å®«çš„åŒ—é—¨ï¼Œæ‰“å¼€åœ°å›¾è¦æŸ¥è¯¢æ•…å®«è‚¯å®šä¼šè®©æˆ‘ä»ŽåŒ—é—¨è¿›åŽ»ã€‚è€Œå¦‚æžœæˆ‘åœ¨æ•…å®«çš„å—é—¨ï¼Œè¦å¯¼èˆªåˆ°æ•…å®«å°±ä¼šè®©æˆ‘ä»Žå—é—¨è¿›åŽ»ã€‚

### DNSæ±¡æŸ“

DNS æ±¡æŸ“ï¼ˆDNS cache pollutionï¼‰ï¼Œ åˆç§°åŸŸåæœåŠ¡å™¨ç¼“å­˜æŠ•æ¯’ï¼ˆDNS cache poisoningï¼‰ï¼Œ æ˜¯æŒ‡ä¸€äº›åˆ»æ„åˆ¶é€ æˆ–æ— æ„ä¸­åˆ¶é€ å‡ºæ¥çš„åŸŸåæœåŠ¡å™¨æ•°æ®åŒ…ï¼Œ æŠŠåŸŸåæŒ‡å¾€**ä¸æ­£ç¡®çš„IPåœ°å€**ã€‚

æŸäº›ç½‘ç»œè¿è¥å•†ä¸ºäº†æŸäº›ç›®çš„ï¼Œ å¯¹DNSè¿›è¡Œäº†æŸäº›æ“ä½œï¼Œ å¯¼è‡´ä¸Šç½‘çš„ç”¨æˆ·æ— æ³•é€šè¿‡åŸŸåå–å¾—æ­£ç¡®çš„IPåœ°å€ã€‚ æŸäº›å›½å®¶æˆ–åœ°åŒºå‡ºäºŽæŸäº›ç›®çš„ä¸ºäº†é˜²æ­¢æŸç½‘ç«™è¢«è®¿é—®ï¼Œ è€Œä¸”å…¶åˆæŽŒæ¡éƒ¨åˆ†å›½é™…DNSæ ¹ç›®å½•æœåŠ¡å™¨æˆ–é•œåƒï¼Œ ä¹Ÿä¼šåˆ©ç”¨æ­¤æ–¹æ³•è¿›è¡Œå±è”½ã€‚ ï¼ˆGoogleã€ Facebookç­‰ï¼‰

è‡³äºŽå¦‚æžœé˜²æ­¢DNSæ±¡æŸ“ï¼Œ è¿™é‡Œåªè¯´ä¸€ä¸ªæ–¹æ³•å°±æ˜¯ä¿®æ”¹hostsæ–‡ä»¶ï¼Œ å…¶ä»–çš„è‡ªè¡Œæœç´¢å§ã€‚



## TCPå»ºç«‹è¿žæŽ¥

å…¶å®žæˆ‘ä»¬è§£æžä¹‹åŽï¼Œæ‰¾åˆ°çœŸæ­£çš„æœåŠ¡å™¨ï¼Œæˆ‘ä»¬å°±éœ€è¦èŽ·å–ä»–çš„èµ„æºï¼Œæœ€ç®€å•çš„å°±æ˜¯èŽ·å–ä»–çš„HTMLæ–‡ä»¶ï¼Œæ¥æ¸²æŸ“å¯¹å§ï¼Ÿæ€Žä¹ˆèŽ·å–å‘¢ï¼Œæˆ‘ä»¬éœ€è¦TCPè¿žæŽ¥æ¥èŽ·å–ã€‚

è¿™é‡Œæ¶‰åŠåˆ°ä¸‰æ¬¡æ¡æ‰‹ï¼Œå’Œå››æ¬¡æŒ¥æ‰‹ä»¥åŠUDPçš„ä¸€äº›ç»†ä¸€ç‚¹çš„çŸ¥è¯†ç‚¹ã€‚

è¯´TCPä¹‹å‰æˆ‘æƒ³æŠŠä¸€äº›é‡Œé¢å¯èƒ½ç”¨åˆ°çš„ä¸œè¥¿å…ˆè¯´è¯´æ¸…æ¥šï¼Œæ–¹ä¾¿æŸ¥æ‰¾ã€‚

> ä½ç å³tcpæ ‡å¿—ä½ï¼Œæœ‰6ç§æ ‡ç¤ºï¼šSYN(synchronouså»ºç«‹è”æœº) ACK(acknowledgement ç¡®è®¤) PSH(pushä¼ é€) FIN(finishç»“æŸ) RST(reseté‡ç½®) URG(urgentç´§æ€¥)Sequence number(é¡ºåºå·ç ) Acknowledge number(ç¡®è®¤å·ç )

### ä¸‰æ¬¡æ¡æ‰‹

![demo2](/image/åœ°å€æ /woshou.png)



ä¸‰æ¬¡æ¡æ‰‹åŸºæœ¬ä¸Šå°±æ˜¯ðŸ‘†çš„å›¾ç‰‡äº†ï¼Œé‡Œé¢çš„ä½ç åœ¨ä¹‹å‰ä¹Ÿæœ‰è§£é‡Šã€‚

è¿™é‡Œé‡ç‚¹è¯´ä¸€ä¸‹ä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡æ¡æ‰‹ðŸ¤ï¼Œè€Œä¸æ˜¯ä¸¤æ¬¡æˆ–è€…å››æ¬¡ã€‚

Aåœ¨è¡—ä¸Šçœ‹è§äº†éš”äº†100ç±³çš„Bï¼Œï¼ˆæ­£å¸¸æƒ…å†µä¸‹å¦‚æžœé¢å¯¹é¢äº¤æµæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯è¡—ä¸Šå¾ˆåµï¼Œå„ç§è½¦é¸£å£°ï¼Œåº—é“ºå¹¿å‘Šå£°ä¹‹ç±»çš„ã€‚ï¼‰æ‰€ä»¥Aæƒ³å’ŒBè¿›è¡Œå¯¹è¯ï¼Œï¼ˆåˆ«é—®é¢˜ä¸ºä»€ä¹ˆä¸æ‰“ç”µè¯ï¼ŒèŠ‚çº¦é’±ï¼ï¼‰

Aå–Šäº†Bä¸€å£°ï¼Œä¸çŸ¥é“Bå¬ä¸å¬å¾—è§ï¼Œæ‰€ä»¥åªèƒ½åœ¨è¿œå¤„ç­‰Bçš„å›žåº”ã€‚

Bå¬è§äº†ï¼Œä¹Ÿå›žåº”äº†Aï¼Œä½†æ˜¯ä»–ä¸çŸ¥é“Aèƒ½ä¸èƒ½å¬è§æ‰€ä»¥ä¹Ÿè¦ç­‰Aå›žåº”ã€‚

ç„¶åŽAç»™å‡ºäº†å›žåº”ï¼Œä¹‹åŽAå’ŒBå°±å¿«ä¹çš„äº¤æµèµ·æ¥ã€‚

okï¼Œæˆ‘ä»¬å†æ¦‚æ‹¬ä¸€ä¸‹ã€‚

å¯¹åº”åˆ°ä¸‰æ¬¡æ¡æ‰‹å°±æ˜¯A -> clientï¼›B->server

1. ç¬¬ä¸€æ¬¡ðŸ¤ï¼ˆAå–ŠBï¼‰æ˜¯ä¸ºäº†ç¡®è®¤ä¸€ä¸‹Bèƒ½ä¸èƒ½å¬è§ï¼Œä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯è¦ç¡®è®¤æœåŠ¡ç«¯çš„æŽ¥å—åŠŸèƒ½æ­£ä¸æ­£å¸¸
2. ç¬¬äºŒæ¬¡ðŸ¤ï¼ˆBå–ŠAï¼‰æ˜¯å‘Šè¯‰Aï¼Œæˆ‘èƒ½å¬è§ï¼ŒçŽ°åœ¨æˆ‘çŽ°åœ¨çŸ¥é“ä½ èƒ½ä¸èƒ½å¬è§ï¼Œä¹Ÿå°±æ˜¯æœåŠ¡ç«¯å‘Šè¯‰å®¢æˆ·ç«¯æˆ‘æŽ¥å—åŠŸèƒ½æ­£å¸¸ï¼ŒçŽ°åœ¨æˆ‘æƒ³çŸ¥é“ä½ æŽ¥æ”¶åŠŸèƒ½æ­£ä¸æ­£å¸¸ã€‚
3. ç¬¬ä¸‰æ¬¡ðŸ¤ï¼ˆAå–ŠBï¼‰æ˜¯ä¸ºäº†å‘Šè¯‰Bæˆ‘å¬è§äº†ï¼Œä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯è®©æœåŠ¡ç«¯çŸ¥é“å®¢æˆ·ç«¯çš„æŽ¥æ”¶åŠŸèƒ½æ­£å¸¸ï¼Œå¹¶ä¸”å¯ä»¥å¼€å§‹ä¼ è¾“ã€‚

ä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œå› ä¸ºåªæœ‰è¿™ä¸‰æ¬¡å¯ä»¥å®Œç¾Žçš„ç¡®è®¤åŒæ–¹çš„æŽ¥æ”¶å’Œå‘é€åŠŸèƒ½æ­£å¸¸ã€‚

ä¸ºä»€ä¹ˆä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹ï¼ŸæŒ‰ç…§ä¸Šé¢çš„è¯´æ³•ï¼ŒBç›´æŽ¥å¼€å§‹å‘é€æ•°æ®ï¼Œå¯æ˜¯ä»–æ ¹æœ¬ä¸çŸ¥é“Aèƒ½ä¸èƒ½æŽ¥æ”¶å•Šï¼Œå‘å‡ºåŽ»å²‚ä¸æ˜¯æµªè´¹äº†ï¼Œå¯¹å§ï¼Ÿä¸‡ä¸€Aä¸èƒ½æŽ¥æ”¶å‘¢ï¼Ÿæ‰€ä»¥åªèƒ½ç­‰å¾…Açš„å›žåº”

ä¸ºä»€ä¹ˆä¸æ˜¯å››æ¬¡æ¡æ‰‹ï¼Ÿå› ä¸ºä¸‰æ¬¡å°±å·²ç»å®Œæˆäº†ä»–ä»¬äº’ç›¸æƒ³çŸ¥é“çš„ä¿¡æ¯ä¸éœ€è¦ç»§ç»­æµªè´¹èµ„æºäº†ï¼Œèµ¶ç´§å¼€å§‹é€šä¿¡å§ï¼

### å››æ¬¡æŒ¥æ‰‹

å››æ¬¡æŒ¥æ‰‹å…¶å®žåŽé¢æ‰ä¼šè®²åˆ°ï¼Œä½†æ˜¯å› ä¸ºçŸ¥è¯†ç‚¹æ˜¯ä¸€èµ·çš„ï¼Œæ‰€ä»¥å°±æ”¾åœ¨ä¸€èµ·è®²äº†

è€è§„çŸ©ï¼Œçœ‹å›¾å’Œä¸Šé¢çš„ä½ç æ„æ€ï¼Œå°±ä¸å¤šè§£é‡Šäº†ã€‚

![demo3](/image/åœ°å€æ /huishou.png)



è¿™é‡Œé‡ç‚¹è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆæ˜¯å››æ¬¡æŒ¥æ‰‹ðŸ‘‹

çœ‹å›¾æˆ‘ä»¬å¯ä»¥å¾ˆæ˜Žæ˜¾çš„çœ‹åˆ°å…¶å®žå°±å¤šäº†ä¸€æ¬¡æœåŠ¡ç«¯å‘Šè¯‰å®¢æˆ·ç«¯è¦ç»ˆæ­¢çš„æ¶ˆæ¯ã€‚

è¿˜æ˜¯ä¸¾åˆšåˆšAå’ŒBçš„ä¾‹å­å§ã€‚

Aè§‰å¾—å’ŒBèŠçš„å·®ä¸å¤šäº†ï¼Œæƒ³ç»“æŸå¯¹è¯ï¼Œå› ä¸ºå¤©è‰²å¾ˆæ™šäº†è¦å›žå®¶åƒé¥­ðŸšäº†ã€‚

æ‰€ä»¥Aå‘Šè¯‰Bï¼Œæˆ‘æƒ³èµ°äº†ï¼Œä¸æƒ³èŠäº†ã€‚

Bæ”¶åˆ°åŽå‘Šè¯‰Aï¼Œå¥½çš„ï¼Œæˆ‘çŸ¥é“äº†ï¼Œä½†æ˜¯ä½ ç­‰æˆ‘ä¸€ä¸‹ï¼Œæˆ‘æ’’æ³¡å°¿ï¼Œæ’’å®Œä¸€èµ·èµ°ã€‚

Bæ’’å®Œå°¿ä¹‹åŽï¼Œå‘Šè¯‰Aæˆ‘æ’’å®Œå°¿äº†ã€‚

Aæ”¶åˆ°ä¸¤å¥è¯ï¼ˆ1.Bå¬åˆ°ðŸ‘‚Aæƒ³å›žå®¶çš„æ¶ˆæ¯ï¼Œ2.Bæ’’å®Œå°¿ä¹‹åŽçš„ä¸€å¥è¯ï¼‰åŽï¼Œå‘Šè¯‰Bï¼Œæˆ‘èµ°äº†ã€‚

Bå¬åˆ°åŽä¹Ÿå›žå®¶äº†ã€‚

okï¼Œæˆ‘ä»¬å†æ¦‚æ‹¬ä¸€ä¸‹ã€‚

å¯¹åº”åˆ°ä¸‰æ¬¡æ¡æ‰‹å°±æ˜¯A -> clientï¼›B->server

1. ç¬¬ä¸€æ¬¡ðŸ‘‹ Aå‘Šè¯‰Bæˆ‘æƒ³å›žå®¶åƒé¥­äº†ã€‚ä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯å‘Šè¯‰æœåŠ¡ç«¯ï¼Œæƒ³æ–­å¼€è¿žæŽ¥äº†ã€‚
2. ç¬¬äºŒæ¬¡ðŸ‘‹Bå‘Šè¯‰Aæˆ‘æ”¶åˆ°ä½ çš„æ¶ˆæ¯äº†ï¼Œä¸è¿‡æˆ‘å°¿æ‹‰å®Œå°±ä¸€èµ·å›žå®¶å§ã€‚ä¹Ÿå°±æ˜¯æœåŠ¡ç«¯å‘Šè¯‰å®¢æˆ·ç«¯æˆ‘æ”¶åˆ°ä½ çš„æ¶ˆæ¯äº†ï¼Œä½†æ˜¯æˆ‘è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªæ–‡ä»¶æ²¡æœ‰ä¼ è¾“å®Œï¼Œæžå®šäº†å°±å…³é—­é“¾æŽ¥ã€‚
3. ç¬¬ä¸‰æ¬¡ðŸ‘‹Bå‘Šè¯‰Aæˆ‘æ’’å®Œå°¿äº†ã€‚ä¹Ÿå°±æ˜¯æœåŠ¡ç«¯å‘Šè¯‰å®¢æˆ·ç«¯æˆ‘æ–‡ä»¶ä¼ è¾“å®Œäº†ï¼Œå¯ä»¥å…³é—­é“¾æŽ¥äº†ã€‚
4. ç¬¬å››æ¬¡ðŸ‘‹Aå‘Šè¯‰Bä½ çš„ä¸¤å¥è¯éƒ½å¬åˆ°äº†ï¼ˆ1.Bå¬åˆ°äº†Aæƒ³å›žå®¶çš„æ¶ˆæ¯ï¼Œ2.Bæ’’å®Œå°¿äº†ï¼‰ã€‚ä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯å‘Šè¯‰æœåŠ¡ç«¯æˆ‘å…³é—­é“¾æŽ¥äº†ï¼Œä½ ä¹Ÿåˆ«å‘äº†ã€‚

åŒæ–¹ç»“æŸé“¾æŽ¥ã€‚

ç›¸æ¯”äºŽä¸‰æ¬¡æ¡æ‰‹ï¼Œå¤šå‡ºæ¥çš„é‚£ä¸€æ¬¡å›žæ”¶å°±æ˜¯æœåŠ¡ç«¯éœ€è¦æœ‰ä¸€ä¸ªå…³é—­ä¼ è¾“çš„è¿™ä¹ˆä¸€ä¸ªè¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯èƒ½éœ€è¦æ—¶é—´ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯éœ€è¦ç­‰å¾…ä¼ è¾“ã€‚

### UDP

è¿™é‡Œè™½ç„¶ä¸åœ¨èŒƒå›´å†…ï¼Œä½†æ˜¯æˆ‘æƒ³è®²éƒ½è®²äº†ï¼Œé¡ºä¾¿å§UDPä¸€èµ·è¯´å§ï¼

UDPåè®®å…¨ç§°æ˜¯ç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼Œåœ¨ç½‘ç»œä¸­å®ƒä¸ŽTCPåè®®ä¸€æ ·ç”¨äºŽå¤„ç†æ•°æ®åŒ…ï¼Œæ˜¯ä¸€ç§æ— è¿žæŽ¥çš„åè®®ã€‚åœ¨OSIæ¨¡åž‹ä¸­ï¼Œåœ¨ç¬¬å››å±‚â€”â€”ä¼ è¾“å±‚ï¼Œå¤„äºŽIPåè®®çš„ä¸Šä¸€å±‚ã€‚UDPæœ‰ä¸æä¾›æ•°æ®åŒ…åˆ†ç»„ã€ç»„è£…å’Œä¸èƒ½å¯¹æ•°æ®åŒ…è¿›è¡ŒæŽ’åºçš„ç¼ºç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æŠ¥æ–‡å‘é€ä¹‹åŽï¼Œæ˜¯æ— æ³•å¾—çŸ¥å…¶æ˜¯å¦å®‰å…¨å®Œæ•´åˆ°è¾¾çš„ã€‚

å®ƒæœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š

#### 1.é¢å‘æ— è¿žæŽ¥

é¦–å…ˆ UDP æ˜¯ä¸éœ€è¦å’Œ TCPä¸€æ ·åœ¨å‘é€æ•°æ®å‰è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿žæŽ¥çš„ï¼Œæƒ³å‘æ•°æ®å°±å¯ä»¥å¼€å§‹å‘é€äº†ã€‚å¹¶ä¸”ä¹Ÿåªæ˜¯æ•°æ®æŠ¥æ–‡çš„æ¬è¿å·¥ï¼Œä¸ä¼šå¯¹æ•°æ®æŠ¥æ–‡è¿›è¡Œä»»ä½•æ‹†åˆ†å’Œæ‹¼æŽ¥æ“ä½œã€‚

å…·ä½“æ¥è¯´å°±æ˜¯ï¼š

- åœ¨å‘é€ç«¯ï¼Œåº”ç”¨å±‚å°†æ•°æ®ä¼ é€’ç»™ä¼ è¾“å±‚çš„ UDP åè®®ï¼ŒUDP åªä¼šç»™æ•°æ®å¢žåŠ ä¸€ä¸ª UDP å¤´æ ‡è¯†ä¸‹æ˜¯ UDP åè®®ï¼Œç„¶åŽå°±ä¼ é€’ç»™ç½‘ç»œå±‚äº†
- åœ¨æŽ¥æ”¶ç«¯ï¼Œç½‘ç»œå±‚å°†æ•°æ®ä¼ é€’ç»™ä¼ è¾“å±‚ï¼ŒUDP åªåŽ»é™¤ IP æŠ¥æ–‡å¤´å°±ä¼ é€’ç»™åº”ç”¨å±‚ï¼Œä¸ä¼šä»»ä½•æ‹¼æŽ¥æ“ä½œ

#### 2.æœ‰å•æ’­ï¼Œå¤šæ’­ï¼Œå¹¿æ’­çš„åŠŸèƒ½

UDP ä¸æ­¢æ”¯æŒä¸€å¯¹ä¸€çš„ä¼ è¾“æ–¹å¼ï¼ŒåŒæ ·æ”¯æŒä¸€å¯¹å¤šï¼Œå¤šå¯¹å¤šï¼Œå¤šå¯¹ä¸€çš„æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯è¯´ UDP æä¾›äº†å•æ’­ï¼Œå¤šæ’­ï¼Œå¹¿æ’­çš„åŠŸèƒ½ã€‚

#### 3.UDPæ˜¯é¢å‘æŠ¥æ–‡çš„

å‘é€æ–¹çš„UDPå¯¹åº”ç”¨ç¨‹åºäº¤ä¸‹æ¥çš„æŠ¥æ–‡ï¼Œåœ¨æ·»åŠ é¦–éƒ¨åŽå°±å‘ä¸‹äº¤ä»˜IPå±‚ã€‚UDPå¯¹åº”ç”¨å±‚äº¤ä¸‹æ¥çš„æŠ¥æ–‡ï¼Œæ—¢ä¸åˆå¹¶ï¼Œä¹Ÿä¸æ‹†åˆ†ï¼Œè€Œæ˜¯ä¿ç•™è¿™äº›æŠ¥æ–‡çš„è¾¹ç•Œã€‚å› æ­¤ï¼Œåº”ç”¨ç¨‹åºå¿…é¡»é€‰æ‹©åˆé€‚å¤§å°çš„æŠ¥æ–‡

#### 4.ä¸å¯é æ€§

é¦–å…ˆä¸å¯é æ€§ä½“çŽ°åœ¨æ— è¿žæŽ¥ä¸Šï¼Œé€šä¿¡éƒ½ä¸éœ€è¦å»ºç«‹è¿žæŽ¥ï¼Œæƒ³å‘å°±å‘ï¼Œè¿™æ ·çš„æƒ…å†µè‚¯å®šä¸å¯é ã€‚

å¹¶ä¸”æ”¶åˆ°ä»€ä¹ˆæ•°æ®å°±ä¼ é€’ä»€ä¹ˆæ•°æ®ï¼Œå¹¶ä¸”ä¹Ÿä¸ä¼šå¤‡ä»½æ•°æ®ï¼Œå‘é€æ•°æ®ä¹Ÿä¸ä¼šå…³å¿ƒå¯¹æ–¹æ˜¯å¦å·²ç»æ­£ç¡®æŽ¥æ”¶åˆ°æ•°æ®äº†ã€‚

å†è€…ç½‘ç»œçŽ¯å¢ƒæ—¶å¥½æ—¶åï¼Œä½†æ˜¯ UDP å› ä¸ºæ²¡æœ‰æ‹¥å¡žæŽ§åˆ¶ï¼Œä¸€ç›´ä¼šä»¥æ’å®šçš„é€Ÿåº¦å‘é€æ•°æ®ã€‚å³ä½¿ç½‘ç»œæ¡ä»¶ä¸å¥½ï¼Œä¹Ÿä¸ä¼šå¯¹å‘é€é€ŸçŽ‡è¿›è¡Œè°ƒæ•´ã€‚è¿™æ ·å®žçŽ°çš„å¼Šç«¯å°±æ˜¯åœ¨ç½‘ç»œæ¡ä»¶ä¸å¥½çš„æƒ…å†µä¸‹å¯èƒ½ä¼šå¯¼è‡´ä¸¢åŒ…ï¼Œä½†æ˜¯ä¼˜ç‚¹ä¹Ÿå¾ˆæ˜Žæ˜¾ï¼Œåœ¨æŸäº›å®žæ—¶æ€§è¦æ±‚é«˜çš„åœºæ™¯ï¼ˆæ¯”å¦‚ç”µè¯ä¼šè®®ï¼‰å°±éœ€è¦ä½¿ç”¨ UDP è€Œä¸æ˜¯ TCPã€‚

UDPåªæƒ³æŠŠæ•°æ®å‘å‡ºåŽ»ï¼Œå…·ä½“æœ‰æ²¡æœ‰æˆåŠŸä»–ä¸å…³å¿ƒ

#### 5.å¤´éƒ¨å¼€é”€å°ï¼Œä¼ è¾“æ•°æ®æŠ¥æ–‡æ—¶æ˜¯å¾ˆé«˜æ•ˆçš„ã€‚

UDP å¤´éƒ¨åŒ…å«äº†ä»¥ä¸‹å‡ ä¸ªæ•°æ®ï¼š

- ä¸¤ä¸ªåå…­ä½çš„ç«¯å£å·ï¼Œåˆ†åˆ«ä¸ºæºç«¯å£ï¼ˆå¯é€‰å­—æ®µï¼‰å’Œç›®æ ‡ç«¯å£
- æ•´ä¸ªæ•°æ®æŠ¥æ–‡çš„é•¿åº¦
- æ•´ä¸ªæ•°æ®æŠ¥æ–‡çš„æ£€éªŒå’Œï¼ˆIPv4 å¯é€‰ å­—æ®µï¼‰ï¼Œè¯¥å­—æ®µç”¨äºŽå‘çŽ°å¤´éƒ¨ä¿¡æ¯å’Œæ•°æ®ä¸­çš„é”™è¯¯

å› æ­¤ UDP çš„å¤´éƒ¨å¼€é”€å°ï¼Œåªæœ‰å…«å­—èŠ‚ï¼Œç›¸æ¯” TCP çš„è‡³å°‘äºŒåå­—èŠ‚è¦å°‘å¾—å¤šï¼Œåœ¨ä¼ è¾“æ•°æ®æŠ¥æ–‡æ—¶æ˜¯å¾ˆé«˜æ•ˆçš„

#### 6.æ€»ç»“



|              | UDP                                        | TCP                                    |
| ------------ | ------------------------------------------ | -------------------------------------- |
| æ˜¯å¦è¿žæŽ¥     | æ— è¿žæŽ¥                                     | é¢å‘è¿žæŽ¥                               |
| æ˜¯å¦å¯é      | ä¸å¯é ä¼ è¾“ï¼Œä¸ä½¿ç”¨æµé‡æŽ§åˆ¶å’Œæ‹¥å¡žæŽ§åˆ¶       | å¯é ä¼ è¾“ï¼Œä½¿ç”¨æµé‡æŽ§åˆ¶å’Œæ‹¥å¡žæŽ§åˆ¶       |
| è¿žæŽ¥å¯¹è±¡ä¸ªæ•° | æ”¯æŒä¸€å¯¹ä¸€ï¼Œä¸€å¯¹å¤šï¼Œå¤šå¯¹ä¸€å’Œå¤šå¯¹å¤šäº¤äº’é€šä¿¡ | åªèƒ½æ˜¯ä¸€å¯¹ä¸€é€šä¿¡                       |
| ä¼ è¾“æ–¹å¼     | é¢å‘æŠ¥æ–‡                                   | é¢å‘å­—èŠ‚æµ                             |
| é¦–éƒ¨å¼€é”€     | é¦–éƒ¨å¼€é”€å°ï¼Œä»…8å­—èŠ‚                        | é¦–éƒ¨æœ€å°20å­—èŠ‚ï¼Œæœ€å¤§60å­—èŠ‚             |
| é€‚ç”¨åœºæ™¯     | é€‚ç”¨äºŽå®žæ—¶åº”ç”¨ï¼ˆIPç”µè¯ã€è§†é¢‘ä¼šè®®ã€ç›´æ’­ç­‰ï¼‰ | é€‚ç”¨äºŽè¦æ±‚å¯é ä¼ è¾“çš„åº”ç”¨ï¼Œä¾‹å¦‚æ–‡ä»¶ä¼ è¾“ |

## SSL/TLSåŠ å¯†

åœ¨HTTPè¯·æ±‚ä¹‹å‰ï¼Œå¦‚æžœæœ‰åŠ å¯†çš„ï¼ˆå°±æ˜¯HTTPSï¼‰ï¼Œéœ€è¦å…ˆç¡®è®¤ä¸€ä¸‹åŒæ–¹æ˜¯å¦æ˜¯è‡ªå·±æƒ³è¦æ‰¾çš„é‚£ä¸ªäººã€‚

æ€Žä¹ˆçŸ¥é“é‚£ä¸ªä»–æ˜¯ä¸æ˜¯è‡ªå·±è¦æ‰¾çš„äººå‘¢ï¼Ÿæœ‰ä¸¤ç§æ–¹æ³•ï¼šå¯¹ç§°åŠ å¯†å’Œéžå¯¹ç§°åŠ å¯†

### å¯¹ç§°åŠ å¯†

å¯¹ç§°åŠ å¯†å…¶å®žå°±æ˜¯Aå’ŒBéƒ½æœ‰ä¸€ä¸ªè§£å¯†çš„è§„åˆ™ï¼ŒåŒæ–¹éƒ½å¿ƒçŸ¥è‚šæ˜Žã€‚è¿™æ ·å°±å¯ä»¥è§£å¯†ã€‚

å¯¹ç§°åŠ å¯†çš„ä¸€å¤§ç¼ºç‚¹æ˜¯å¯†é’¥çš„ç®¡ç†ä¸Žåˆ†é…ï¼Œæ¢å¥è¯è¯´ï¼Œå¦‚ä½•æŠŠå¯†é’¥å‘é€åˆ°éœ€è¦è§£å¯†ä½ çš„æ¶ˆæ¯çš„äººçš„æ‰‹é‡Œæ˜¯ä¸€ä¸ªé—®é¢˜ã€‚åœ¨å‘é€å¯†é’¥çš„è¿‡ç¨‹ä¸­ï¼Œå¯†é’¥æœ‰å¾ˆå¤§çš„é£Žé™©ä¼šè¢«é»‘å®¢ä»¬æ‹¦æˆªã€‚çŽ°å®žä¸­é€šå¸¸çš„åšæ³•æ˜¯å°†å¯¹ç§°åŠ å¯†çš„å¯†é’¥è¿›è¡Œéžå¯¹ç§°åŠ å¯†ï¼Œç„¶åŽä¼ é€ç»™éœ€è¦å®ƒçš„äººã€‚

### éžå¯¹ç§°åŠ å¯†

é‚£ä¹ˆä»€ä¹ˆæ˜¯éžå¯¹ç§°åŠ å¯†å‘¢ï¼Ÿ

éžå¯¹ç§°åŠ å¯†ä¸ºæ•°æ®çš„åŠ å¯†ä¸Žè§£å¯†æä¾›äº†ä¸€ä¸ªéžå¸¸å®‰å…¨çš„æ–¹æ³•ï¼Œå®ƒä½¿ç”¨äº†ä¸€å¯¹å¯†é’¥ï¼Œå…¬é’¥ï¼ˆpublic keyï¼‰å’Œç§é’¥ï¼ˆprivate keyï¼‰ã€‚ç§é’¥åªèƒ½ç”±ä¸€æ–¹å®‰å…¨ä¿ç®¡ï¼Œä¸èƒ½å¤–æ³„ï¼Œè€Œå…¬é’¥åˆ™å¯ä»¥å‘ç»™ä»»ä½•è¯·æ±‚å®ƒçš„äººã€‚éžå¯¹ç§°åŠ å¯†ä½¿ç”¨è¿™å¯¹å¯†é’¥ä¸­çš„ä¸€ä¸ªè¿›è¡ŒåŠ å¯†ï¼Œè€Œè§£å¯†åˆ™éœ€è¦å¦ä¸€ä¸ªå¯†é’¥ã€‚æ¯”å¦‚ï¼Œä½ å‘é“¶è¡Œè¯·æ±‚å…¬é’¥ï¼Œé“¶è¡Œå°†å…¬é’¥å‘ç»™ä½ ï¼Œä½ ä½¿ç”¨å…¬é’¥å¯¹æ¶ˆæ¯åŠ å¯†ï¼Œé‚£ä¹ˆåªæœ‰ç§é’¥çš„æŒæœ‰äºº--é“¶è¡Œæ‰èƒ½å¯¹ä½ çš„æ¶ˆæ¯è§£å¯†ã€‚ä¸Žå¯¹ç§°åŠ å¯†ä¸åŒçš„æ˜¯ï¼Œé“¶è¡Œä¸éœ€è¦å°†ç§é’¥é€šè¿‡ç½‘ç»œå‘é€å‡ºåŽ»ï¼Œå› æ­¤å®‰å…¨æ€§å¤§å¤§æé«˜ã€‚

### æ€»ç»“

æ‰€ä»¥åŸºæœ¬ä¸Šéƒ½æ˜¯å…ˆç”¨éžå¯¹ç§°åŠ å¯†ä¼ è¾“å¯¹ç§°åŠ å¯†çš„ç§˜é’¥ã€‚

## HTTPè¯·æ±‚

HTTPè¯·æ±‚å¾—åˆ°èµ„æºæ–‡ä»¶ï¼Œå¦‚æžœæœ‰gzipåŽ‹ç¼©çš„è¯è¿˜éœ€è¦è§£åŽ‹ï¼Œç„¶åŽæ˜¯ä¸€äº›HTTPå°çš„é›¶ç¢ŽçŸ¥è¯†ç‚¹ã€‚

### HTTPæŠ¥æ–‡

HTTP æŠ¥æ–‡æ˜¯ç”± è¯·æ±‚æŠ¥æ–‡+å“åº”æŠ¥æ–‡ å…±åŒç»„æˆ

- è¯·æ±‚æŠ¥æ–‡ï¼š
  - å®šä¹‰ï¼šæ‰€æœ‰ç»è¿‡ä¼ è¾“åè®®ï¼Œå®¢æˆ·ç«¯ä¼ é€’ç»™æœåŠ¡å™¨çš„å†…å®¹ï¼Œéƒ½è¢«æˆä¸ºè¯·æ±‚æŠ¥æ–‡
  - åŒ…å«ï¼š
    - èµ·å§‹è¡Œ
    - è¯·æ±‚å¤´ï¼ˆè¯·æ±‚é¦–éƒ¨ï¼‰
    - è¯·æ±‚ä¸»ä½“
- å“åº”æŠ¥æ–‡ï¼š
  - å®šä¹‰ï¼šæ‰€æœ‰ç»è¿‡ä¼ è¾“åè®®ï¼ŒæœåŠ¡å™¨è¿”å›žç»™å®¢æˆ·ç«¯çš„å†…å®¹ï¼Œéƒ½è¢«æˆä¸ºå“åº”æŠ¥æ–‡
  - åŒ…å«ï¼š
    - HTTPçŠ¶æ€ç 
    - å“åº”å¤´
    - å“åº”ä¸»ä½“



### HTTPçŠ¶æ€ç 

1~5å¼€å¤´ï¼Œä¸‰ä½æ•°å­—

- 1 å¼€å¤´çš„ä»£è¡¨å¤„ç†ä¸­ï¼Œä¸€èˆ¬è§ä¸åˆ°
- 2å¼€å¤´ï¼šéƒ½æ˜¯æˆåŠŸ
  - 200ï¼šOKï¼šæˆåŠŸ
  - 201ï¼šCREATEDï¼šä¸€èˆ¬åº”ç”¨äºŽå‘Šè¯‰æœåŠ¡å™¨åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œæœ€åŽæœåŠ¡å™¨åˆ›å»ºæˆåŠŸåŽè¿”å›žçš„çŠ¶æ€ç 
  - 204ï¼šNO CONTENTï¼šå¯¹äºŽæŸäº›è¯·æ±‚ï¼ˆä¾‹å¦‚ï¼šPUTæˆ–è€…DELETEï¼‰ï¼ŒæœåŠ¡å™¨ä¸æƒ³å¤„ç†ï¼Œå¯ä»¥è¿”å›žç©ºå†…å®¹ï¼Œå¹¶ä¸”ç”¨204çŠ¶æ€ç å‘ŠçŸ¥
- 3å¼€å¤´ï¼šä»£è¡¨æˆåŠŸï¼Œåªä¸è¿‡ä¸­é—´éœ€è¦ä¸­è½¬ä¸€ä¸‹
  - 301ï¼šMoved Permanentlyï¼šæ°¸ä¹…é‡å®šå‘ï¼ˆæ°¸ä¹…è½¬ç§»ï¼‰
  - 302ï¼šMoved Temporarilyï¼šä¸´æ—¶è½¬ç§»ï¼Œå¾ˆæ—©ä»¥å‰åŸºæœ¬ä¸Šç”¨302æ¥åšï¼Œä½†æ˜¯çŽ°åœ¨ä¸»è¦ç”¨307æ¥å¤„ç†è¿™ä¸ªäº‹æƒ…ï¼Œ
  - 307çš„æ„æ€å°±æ˜¯ä¸´æ—¶é‡å®šå‘Temporary Redirect =>ä¸»è¦ç”¨äºŽï¼šæœåŠ¡å™¨çš„è´Ÿè½½å‡è¡¡ç­‰
  - 304ï¼šNot Modifiedï¼šè®¾ç½®HTTPçš„åå•†ç¼“å­˜
- 4å¼€å¤´ï¼šéƒ½æ˜¯å¤±è´¥
  - 400ï¼šBad Requestï¼šä¼ é€’ç»™æœåŠ¡å™¨çš„å‚æ•°é”™è¯¯
  - 401ï¼šUnauthorizedï¼šæ— æƒé™è®¿é—®
  - 404ï¼šNot Foundï¼šè¯·æ±‚åœ°å€é”™è¯¯
- 5å¼€å¤´ï¼šéƒ½æ˜¯å¤±è´¥
  - 500ï¼šInternal Server Errorï¼šæœªçŸ¥æœåŠ¡å™¨é”™è¯¯
  - 503ï¼šService Unavailableï¼šæœåŠ¡å™¨è¶…è´Ÿè·



### HTTPè¯·æ±‚æ–¹å¼

å…¶å®žæ­£å¸¸ä¼šè¯´åˆ°ä»€ä¹ˆ`POST`, `GET`ä¹‹ç±»çš„ï¼Œä½†æ˜¯æˆ‘è¿™é‡Œæƒ³è¯´ä¸€ä¸‹corsé‡Œé¢çš„ä¸œè¥¿ã€‚

è¿˜æ˜¯æœ¬ç€æ—¢ç„¶å­¦åˆ°è¿™é‡Œé¡ºè·¯æžæžæ¸…æ¥š

æµè§ˆå™¨å°†CORSè¯·æ±‚åˆ†æˆä¸¤ç±»ï¼šç®€å•è¯·æ±‚ï¼ˆsimple requestï¼‰å’Œéžç®€å•è¯·æ±‚ï¼ˆnot-so-simple requestï¼‰ã€‚

#### ç®€å•è¯·æ±‚

åªè¦åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸¤å¤§æ¡ä»¶ï¼Œå°±å±žäºŽç®€å•è¯·æ±‚ã€‚

> ï¼ˆ1) è¯·æ±‚æ–¹æ³•æ˜¯ä»¥ä¸‹ä¸‰ç§æ–¹æ³•ä¹‹ä¸€ï¼š
>
> - HEAD
> - GET
> - POST
>
> ï¼ˆ2ï¼‰HTTPçš„å¤´ä¿¡æ¯ä¸è¶…å‡ºä»¥ä¸‹å‡ ç§å­—æ®µï¼š
>
> - Accept
> - Accept-Language
> - Content-Language
> - Last-Event-ID
> - Content-Typeï¼šåªé™äºŽä¸‰ä¸ªå€¼`application/x-www-form-urlencoded`ã€`multipart/form-data`ã€`text/plain`





#### éžç®€å•è¯·æ±‚

å‡¡æ˜¯ä¸åŒæ—¶æ»¡è¶³ä¸Šé¢ä¸¤ä¸ªæ¡ä»¶ï¼Œå°±å±žäºŽéžç®€å•è¯·æ±‚ã€‚

éžç®€å•è¯·æ±‚æ˜¯é‚£ç§å¯¹æœåŠ¡å™¨æœ‰ç‰¹æ®Šè¦æ±‚çš„è¯·æ±‚ï¼Œæ¯”å¦‚è¯·æ±‚æ–¹æ³•æ˜¯`PUT`æˆ–`DELETE`ï¼Œæˆ–è€…`Content-Type`å­—æ®µçš„ç±»åž‹æ˜¯`application/json`ã€‚

éžç®€å•è¯·æ±‚çš„CORSè¯·æ±‚ï¼Œä¼šåœ¨æ­£å¼é€šä¿¡ä¹‹å‰ï¼Œå¢žåŠ ä¸€æ¬¡HTTPæŸ¥è¯¢è¯·æ±‚ï¼Œç§°ä¸º"é¢„æ£€"è¯·æ±‚ï¼ˆpreflightï¼‰ã€‚

æµè§ˆå™¨å…ˆè¯¢é—®æœåŠ¡å™¨ï¼Œå½“å‰ç½‘é¡µæ‰€åœ¨çš„åŸŸåæ˜¯å¦åœ¨æœåŠ¡å™¨çš„è®¸å¯åå•ä¹‹ä¸­ï¼Œä»¥åŠå¯ä»¥ä½¿ç”¨å“ªäº›HTTPåŠ¨è¯å’Œå¤´ä¿¡æ¯å­—æ®µã€‚åªæœ‰å¾—åˆ°è‚¯å®šç­”å¤ï¼Œæµè§ˆå™¨æ‰ä¼šå‘å‡ºæ­£å¼çš„`XMLHttpRequest`è¯·æ±‚ï¼Œå¦åˆ™å°±æŠ¥é”™ã€‚

ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„è·¨åŸŸï¼Œè¿™ä¸ªé—®é¢˜å¯ä»¥äº¤ç”±åŽç«¯çš„åŒå­¦è®¾ç½®ç™½åå•æˆ–è€…è¿ç»´çš„åŒå­¦è®¾ç½®ã€‚

å¦‚æžœæ˜¯å‰ç«¯çš„åŒå­¦åšè¿™ç§è·¨åŸŸçš„é—®é¢˜çš„è¯ä¸å¤ªæ–¹ä¾¿

æ¯”å¦‚

- **JSONP**

- #### **document.domain + iframeè·¨åŸŸ**

- ####  **location.hash + iframeè·¨åŸŸ**

- ####  **window.name + iframeè·¨åŸŸ**

- #### **postMessageè·¨åŸŸ**

ä½†æ˜¯åŸºæœ¬ä¸Šæˆ‘ä»¬å¸¸ç”¨çš„å°±æ˜¯`JSONP`

å…·ä½“è¿™äº›æ–¹æ³•å’Œåœºæ™¯æœ‰æœºä¼šçš„è¯å…·ä½“è¯´ä¸€ä¸‹ã€‚

## æ–­å¼€TCPè¿žæŽ¥

ä¹Ÿå°±æ˜¯ä¹‹å‰çš„å››æ¬¡æŒ¥æ‰‹ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ä¸Šé¢çš„è¯´çš„å››æ¬¡æŒ¥æ‰‹

## æµè§ˆå™¨æ¸²æŸ“é¡µé¢

æ–‡ä»¶è§£ç æˆåŠŸåŽä¼šæ­£å¼å¼€å§‹æ¸²æŸ“æµç¨‹ï¼Œå…ˆä¼šæ ¹æ® HTML æž„å»º DOM æ ‘ï¼Œæœ‰ CSS çš„è¯ä¼šåŽ»æž„å»º CSSOM æ ‘ã€‚å¦‚æžœé‡åˆ° script æ ‡ç­¾çš„è¯ï¼Œä¼šåˆ¤æ–­æ˜¯å¦å­˜åœ¨ async æˆ–è€… defer ï¼Œå‰è€…ä¼šå¹¶è¡Œè¿›è¡Œä¸‹è½½å¹¶æ‰§è¡Œ JSï¼ŒåŽè€…ä¼šå…ˆä¸‹è½½æ–‡ä»¶ï¼Œç„¶åŽç­‰å¾… HTML è§£æžå®ŒæˆåŽé¡ºåºæ‰§è¡Œã€‚

å¦‚æžœä»¥ä¸Šéƒ½æ²¡æœ‰ï¼Œå°±ä¼šé˜»å¡žä½æ¸²æŸ“æµç¨‹ç›´åˆ° JS æ‰§è¡Œå®Œæ¯•ã€‚é‡åˆ°æ–‡ä»¶ä¸‹è½½çš„ä¼šåŽ»ä¸‹è½½æ–‡ä»¶ï¼Œè¿™é‡Œå¦‚æžœä½¿ç”¨ HTTP/2 åè®®çš„è¯ä¼šæžå¤§çš„æé«˜å¤šå›¾çš„ä¸‹è½½æ•ˆçŽ‡ã€‚

CSSOM æ ‘å’Œ DOM æ ‘æž„å»ºå®ŒæˆåŽä¼šå¼€å§‹ç”Ÿæˆ Render æ ‘ï¼Œè¿™ä¸€æ­¥å°±æ˜¯ç¡®å®šé¡µé¢å…ƒç´ çš„å¸ƒå±€ã€æ ·å¼ç­‰ç­‰è¯¸å¤šæ–¹é¢çš„ä¸œè¥¿

åœ¨ç”Ÿæˆ Render æ ‘çš„è¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨å°±å¼€å§‹è°ƒç”¨ GPU ç»˜åˆ¶ï¼Œåˆæˆå›¾å±‚ï¼Œå°†å†…å®¹æ˜¾ç¤ºåœ¨å±å¹•ä¸Šäº†ã€‚



# æ€»ç»“

1. URLè§£æž
2. DNSè§£æž
3. å»ºç«‹è¿žæŽ¥
4. å¦‚æžœæœ‰åŠ å¯†çš„è¯è¦å…ˆè§£å¯†
5. ç„¶åŽhttpè¯·æ±‚èŽ·å–èµ„æº
6. æ–­å¼€è¿žæŽ¥
7. å¾—åˆ°èµ„æºä¹‹åŽå¦‚æžœæœ‰gzipåŽ‹ç¼©è¦å…ˆè§£åŽ‹
8. ç„¶åŽå…ˆæž„å»ºDOMæ ‘ï¼ŒCSSæ ‘ã€‚ä¸‹è½½JSæ–‡ä»¶ï¼Œç„¶åŽä¸‹è½½å›¾ç‰‡ã€‚ç„¶åŽç”ŸæˆRenderæ ‘ï¼Œæœ€åŽç¡®å®šå¸ƒå±€ï¼ŒGPUç»˜åˆ¶ã€‚

# ç´¢å¼•

> https://www.ruanyifeng.com/blog/2016/04/cors.html
>
> å‰ç«¯é¢è¯•ä¹‹é“ï¼ˆæŽ˜é‡‘å°å†Œ
>
> https://juejin.im/post/6844904162166063118#heading-30