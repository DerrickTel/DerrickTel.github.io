<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>面试官：听说你对package.json很熟？ | Derrick</title><meta name="description" content="面试官：听说你对package.json很熟？"><meta name="keywords" content="JavaScript"><meta name="author" content="Derrick"><meta name="copyright" content="Derrick"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="面试官：听说你对package.json很熟？"><meta name="twitter:description" content="面试官：听说你对package.json很熟？"><meta name="twitter:image" content="http://derricktel.github.io/image/cover/web.jpeg"><meta property="og:type" content="article"><meta property="og:title" content="面试官：听说你对package.json很熟？"><meta property="og:url" content="http://derricktel.github.io/2021/06/22/%E9%9D%A2%E8%AF%95%E5%AE%98%EF%BC%9A%E5%90%AC%E8%AF%B4%E4%BD%A0%E5%AF%B9package-json%E5%BE%88%E7%86%9F%EF%BC%9F/"><meta property="og:site_name" content="Derrick"><meta property="og:description" content="面试官：听说你对package.json很熟？"><meta property="og:image" content="http://derricktel.github.io/image/cover/web.jpeg"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://derricktel.github.io/2021/06/22/%E9%9D%A2%E8%AF%95%E5%AE%98%EF%BC%9A%E5%90%AC%E8%AF%B4%E4%BD%A0%E5%AF%B9package-json%E5%BE%88%E7%86%9F%EF%BC%9F/"><link rel="prev" title="面试官：小伙子canvas你知道多少啊(奸笑)" href="http://derricktel.github.io/2021/06/24/%E9%9D%A2%E8%AF%95%E5%AE%98%EF%BC%9A%E5%B0%8F%E4%BC%99%E5%AD%90canvas%E4%BD%A0%E7%9F%A5%E9%81%93%E5%A4%9A%E5%B0%91%E5%95%8A-%E5%A5%B8%E7%AC%91/"><link rel="next" title="全网最全React源码调试傻瓜式教程" href="http://derricktel.github.io/2021/06/17/%E5%85%A8%E7%BD%91%E6%9C%80%E5%85%A8React%E6%BA%90%E7%A0%81%E8%B0%83%E8%AF%95%E6%95%99%E7%A8%8B/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">40</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">44</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">19</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-about"></i><span> 关于我</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#由浅入深-核心内容"><span class="toc-number">2.</span> <span class="toc-text">由浅入深-核心内容</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#准备工作"><span class="toc-number">2.1.</span> <span class="toc-text">准备工作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#scripts（快捷脚本）"><span class="toc-number">2.2.</span> <span class="toc-text">scripts（快捷脚本）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dependencies-amp-devDependencies（项目依赖）"><span class="toc-number">2.3.</span> <span class="toc-text">dependencies &amp; devDependencies（项目依赖）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-1"><span class="toc-number">2.3.1.</span> <span class="toc-text">~1.1.1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-1-1"><span class="toc-number">2.3.2.</span> <span class="toc-text">^1.1.1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-x"><span class="toc-number">2.3.3.</span> <span class="toc-text">1.1.x</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-1-1-1-2"><span class="toc-number">2.3.4.</span> <span class="toc-text">1.1.1 - 1.1.2</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#engines（指定项目-node-版本）"><span class="toc-number">2.4.</span> <span class="toc-text">engines（指定项目 node 版本）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#os（模块适用系统）"><span class="toc-number">2.5.</span> <span class="toc-text">os（模块适用系统）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#cpu（指定模块适用-cpu-架构）"><span class="toc-number">2.6.</span> <span class="toc-text">cpu（指定模块适用 cpu 架构）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#private（定义私有模块）"><span class="toc-number">2.7.</span> <span class="toc-text">private（定义私有模块）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#次重要（可以当百科全书）"><span class="toc-number">3.</span> <span class="toc-text">次重要（可以当百科全书）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#name（项目名称）"><span class="toc-number">3.1.</span> <span class="toc-text">name（项目名称）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#version（版本号）"><span class="toc-number">3.2.</span> <span class="toc-text">version（版本号）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#description（项目描述）"><span class="toc-number">3.3.</span> <span class="toc-text">description（项目描述）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#keywords"><span class="toc-number">3.4.</span> <span class="toc-text">keywords</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#homepage（项目主页）"><span class="toc-number">3.5.</span> <span class="toc-text">homepage（项目主页）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bugs（问题追踪）"><span class="toc-number">3.6.</span> <span class="toc-text">bugs（问题追踪）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#license（执照）"><span class="toc-number">3.7.</span> <span class="toc-text">license（执照）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#author-contributors（作者和贡献者）"><span class="toc-number">3.8.</span> <span class="toc-text">author, contributors（作者和贡献者）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#funding（档案）"><span class="toc-number">3.9.</span> <span class="toc-text">funding（档案）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#main（主要入口）"><span class="toc-number">3.10.</span> <span class="toc-text">main（主要入口）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#browser（浏览器）"><span class="toc-number">3.11.</span> <span class="toc-text">browser（浏览器）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bin（自定义命令）"><span class="toc-number">3.12.</span> <span class="toc-text">bin（自定义命令）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#man（快捷入口）"><span class="toc-number">3.13.</span> <span class="toc-text">man（快捷入口）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#directories（目录）"><span class="toc-number">3.14.</span> <span class="toc-text">directories（目录）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#目录-bin"><span class="toc-number">3.14.0.1.</span> <span class="toc-text">目录.bin</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#目录-man"><span class="toc-number">3.14.0.2.</span> <span class="toc-text">目录.man</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#repository（代码存储位置）"><span class="toc-number">3.15.</span> <span class="toc-text">repository（代码存储位置）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#config（配置内容）"><span class="toc-number">3.16.</span> <span class="toc-text">config（配置内容）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#peerDependencies（对等依赖）"><span class="toc-number">3.17.</span> <span class="toc-text">peerDependencies（对等依赖）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#peerDependenciesMeta（捆绑依赖）"><span class="toc-number">3.18.</span> <span class="toc-text">peerDependenciesMeta（捆绑依赖）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#optionalDependencies（可选依赖项）"><span class="toc-number">3.19.</span> <span class="toc-text">optionalDependencies（可选依赖项）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#publishConfig（发布配置）"><span class="toc-number">3.20.</span> <span class="toc-text">publishConfig（发布配置）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#workspaces（工作区）"><span class="toc-number">3.21.</span> <span class="toc-text">workspaces（工作区）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#总结"><span class="toc-number">4.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#参考资料-📖"><span class="toc-number">5.</span> <span class="toc-text">参考资料 📖</span></a></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(/image/cover/web.jpeg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Derrick</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-about"></i><span> 关于我</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">面试官：听说你对package.json很熟？</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2021-06-22 20:11:07"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2021-06-22</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2021-06-29 11:10:08"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2021-06-29</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E9%87%8D%E6%8B%BE%E5%89%8D%E7%AB%AF/">重拾前端</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div id="article-container"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>平常在工作中，对<code>package.json</code>这个文件的接触非常非常少。</p>
<ul>
<li><p>一些同学可能还会看一下script里面有什么命令，执行了哪些方法。</p>
</li>
<li><p>又或者了解一下<code>dependencies</code>和<code>devDependencies</code></p>
</li>
<li><p>其他大部分的同学可能直接就<code>npm i</code>和<code>npm start</code>就开始工作了。</p>
</li>
<li><p>但是<code>package.json</code>的魅力远不止如此</p>
</li>
<li><p>今天就和我一起探索一下这个项目中不可或缺的——<code>package.json</code>吧！</p>
</li>
</ul>
<h1 id="由浅入深-核心内容"><a href="#由浅入深-核心内容" class="headerlink" title="由浅入深-核心内容"></a>由浅入深-核心内容</h1><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>手摸手新建一个空的package.json</p>
<p><img src="/" class="lazyload" data-src="/image/package/init.gif"  alt="init"></p>
<ol>
<li><code>npm init</code></li>
<li><code>上万个回车</code></li>
</ol>
<p>或者直接执行</p>
<ol>
<li><code>npm init -y</code></li>
<li>其意思就是全部都略过，和我们上面的无数个回车的效果一样</li>
</ol>
<p>先看看上面有的东西。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "name": "package.json", # 项目名称</span><br><span class="line">  "version": "1.0.0", # 项目版本（格式：大版本.次要版本.小版本）</span><br><span class="line">  "description": "", # 项目描述</span><br><span class="line">  "main": "index.js", # 入口文件</span><br><span class="line">  "scripts": &#123; # 指定运行脚本命令的 npm 命令行缩写</span><br><span class="line">    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"</span><br><span class="line">  &#125;,</span><br><span class="line">  "keywords": [], # 关键词</span><br><span class="line">  "author": "", # 作者</span><br><span class="line">  "license": "ISC" # 许可证</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="scripts（快捷脚本）"><a href="#scripts（快捷脚本）" class="headerlink" title="scripts（快捷脚本）"></a>scripts（快捷脚本）</h2><ul>
<li><code>scripts</code> 字段是 <code>package.json</code> 中的一种元数据功能，它接受一个对象，对象的属性为可以通过 <code>npm run</code>运行的脚本，值为实际运行的命令（通常是终端命令），如：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;start&quot;: &quot;node index.js&quot;</span><br><span class="line">&#125;,</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<ul>
<li>将终端命令放入 <code>scripts</code> 字段，既可以记录它们又可以实现轻松重用。</li>
</ul>
<h2 id="dependencies-amp-devDependencies（项目依赖）"><a href="#dependencies-amp-devDependencies（项目依赖）" class="headerlink" title="dependencies &amp; devDependencies（项目依赖）"></a>dependencies &amp; devDependencies（项目依赖）</h2><ul>
<li><code>dependencies</code> 字段指定了项目运行所依赖的模块<ul>
<li>可以理解为我们的项目在生产环境运行中要用到的东西。</li>
<li>比如说我们常用的<code>antd</code>只能哪个代码块就会用到里面的组件，所以要放到<code>dependencies</code>里面去</li>
</ul>
</li>
<li><code>devDependencies</code>字段指定了项目开发所需要的模块<ul>
<li>开发环境会用到的东西，比如说webpack。我们打包的时候会用到，但是项目运行的时候却用不到，所以只需要放到<code>devDependencies</code>中去就好了</li>
<li>类似的<code>eslint</code>之类的</li>
</ul>
</li>
</ul>
<p>这里重点谈一下这些版本号直接的差异</p>
<h3 id="1-1-1"><a href="#1-1-1" class="headerlink" title="~1.1.1"></a>~1.1.1</h3><ul>
<li><code>~1.2.3</code>:= <code>&gt;=1.2.3 &lt;1.(2+1).0</code>:=<code>&gt;=1.2.3 &lt;1.3.0-0</code></li>
<li><code>~1.2</code>:= <code>&gt;=1.2.0 &lt;1.(2+1).0</code>:= <code>&gt;=1.2.0 &lt;1.3.0-0</code>(同<code>1.2.x</code>)</li>
<li><code>~1</code>:= <code>&gt;=1.0.0 &lt;(1+1).0.0</code>:= <code>&gt;=1.0.0 &lt;2.0.0-0</code>(同<code>1.x</code>)</li>
<li><code>~0.2.3</code>:= <code>&gt;=0.2.3 &lt;0.(2+1).0</code>:=<code>&gt;=0.2.3 &lt;0.3.0-0</code></li>
<li><code>~0.2</code>:= <code>&gt;=0.2.0 &lt;0.(2+1).0</code>:= <code>&gt;=0.2.0 &lt;0.3.0-0</code>(同<code>0.2.x</code>)</li>
<li><code>~0</code>:= <code>&gt;=0.0.0 &lt;(0+1).0.0</code>:= <code>&gt;=0.0.0 &lt;1.0.0-0</code>(同<code>0.x</code>)</li>
<li><code>~1.2.3-beta.2</code>:=<code>&gt;=1.2.3-beta.2 &lt;1.3.0-0</code>请注意，<code>1.2.3</code>版本中的预发布将被允许，如果它们大于或等于<code>beta.2</code>. 所以，<code>1.2.3-beta.4</code>会被允许，但 <code>1.2.4-beta.2</code>不会，因为它是不同<code>[major, minor, patch]</code>元组的预发布。</li>
</ul>
<h3 id="1-1-1-1"><a href="#1-1-1-1" class="headerlink" title="^1.1.1"></a>^1.1.1</h3><p>允许不修改<code>[major, minor, patch]</code>元组中最左边的非零元素的更改 。换句话说，这允许版本<code>1.0.0</code>及以上版本的补丁和次要更新，版本的补丁更新<code>0.X &gt;=0.1.0</code>，以及版本的<em>不</em>更新<code>0.0.X</code>。</p>
<p>许多作者将<code>0.x</code>版本视为<code>x</code>主要的“重大变化”指标。</p>
<p>当作者可能在发行版<code>0.2.4</code>和<code>0.3.0</code>发行版之间进行重大更改时，插入符范围是理想的，这是一种常见做法。但是，它假定和之间<em>不会</em>有重大变化 。根据通常观察到的做法，它允许进行假定为附加（但不会破坏）的更改。<code>0.2.4``0.2.5</code></p>
<ul>
<li><code>^1.2.3</code> := <code>&gt;=1.2.3 &lt;2.0.0-0</code></li>
<li><code>^0.2.3</code> := <code>&gt;=0.2.3 &lt;0.3.0-0</code></li>
<li><code>^0.0.3</code> := <code>&gt;=0.0.3 &lt;0.0.4-0</code></li>
<li><code>^1.2.3-beta.2</code>:=<code>&gt;=1.2.3-beta.2 &lt;2.0.0-0</code>请注意，<code>1.2.3</code>版本中的预发布将被允许，如果它们大于或等于<code>beta.2</code>. 所以，<code>1.2.3-beta.4</code>会被允许，但 <code>1.2.4-beta.2</code>不会，因为它是不同<code>[major, minor, patch]</code>元组的预发布。</li>
<li><code>^0.0.3-beta</code>:=<code>&gt;=0.0.3-beta &lt;0.0.4-0</code> 请注意，<em>仅</em>允许<code>0.0.3</code>版本中的预发布 ，如果它们大于或等于. 所以，会被允许。<code>beta``0.0.3-pr.2</code></li>
</ul>
<p>解析插入符范围时，缺失<code>patch</code>值会被减为数字<code>0</code>，但即使主要版本和次要版本都是<code>0</code>.</p>
<ul>
<li><code>^1.2.x</code> := <code>&gt;=1.2.0 &lt;2.0.0-0</code></li>
<li><code>^0.0.x</code> := <code>&gt;=0.0.0 &lt;0.1.0-0</code></li>
<li><code>^0.0</code> := <code>&gt;=0.0.0 &lt;0.1.0-0</code></li>
</ul>
<p>缺失值<code>minor</code>和<code>patch</code>值将脱糖为零，但也允许在这些值内具有灵活性，即使主要版本为零。</p>
<ul>
<li><code>^1.x</code> := <code>&gt;=1.0.0 &lt;2.0.0-0</code></li>
<li><code>^0.x</code> := <code>&gt;=0.0.0 &lt;1.0.0-0</code></li>
</ul>
<h3 id="1-1-x"><a href="#1-1-x" class="headerlink" title="1.1.x"></a>1.1.x</h3><p>任何的<code>X</code>，<code>x</code>或<code>*</code>可被用来“立场在”在数字值中的一个<code>[major, minor, patch]</code>元组。</p>
<ul>
<li><code>*</code>:= <code>&gt;=0.0.0</code>(任何版本都满足)</li>
<li><code>1.x</code>:= <code>&gt;=1.0.0 &lt;2.0.0-0</code>(匹配主要版本)</li>
<li><code>1.2.x</code>:= <code>&gt;=1.2.0 &lt;1.3.0-0</code>（匹配主要和次要版本）</li>
</ul>
<p>部分版本范围被视为 X 范围，因此特殊字符实际上是可选的。</p>
<ul>
<li><code>&quot;&quot;</code>（空字符串）:= <code>*</code>:=<code>&gt;=0.0.0</code></li>
<li><code>1</code>:= <code>1.x.x</code>:=<code>&gt;=1.0.0 &lt;2.0.0-0</code></li>
<li><code>1.2</code>:= <code>1.2.x</code>:=<code>&gt;=1.2.0 &lt;1.3.0-0</code></li>
</ul>
<h3 id="1-1-1-1-1-2"><a href="#1-1-1-1-1-2" class="headerlink" title="1.1.1 - 1.1.2"></a>1.1.1 - 1.1.2</h3><p>指定一个包含集。</p>
<ul>
<li><code>1.2.3 - 2.3.4</code> := <code>&gt;=1.2.3 &lt;=2.3.4</code></li>
</ul>
<p>如果部分版本作为包含范围中的第一个版本提供，则缺失的部分将替换为零。</p>
<ul>
<li><code>1.2 - 2.3.4</code> := <code>&gt;=1.2.0 &lt;=2.3.4</code></li>
</ul>
<p>如果部分版本作为包含范围中的第二个版本提供，则接受以元组提供的部分开头的所有版本，但不会大于提供的元组部分。</p>
<ul>
<li><code>1.2.3 - 2.3</code> := <code>&gt;=1.2.3 &lt;2.4.0-0</code></li>
<li><code>1.2.3 - 2</code> := <code>&gt;=1.2.3 &lt;3.0.0-0</code></li>
</ul>
<h2 id="engines（指定项目-node-版本）"><a href="#engines（指定项目-node-版本）" class="headerlink" title="engines（指定项目 node 版本）"></a>engines（指定项目 node 版本）</h2><ul>
<li>有时候，新拉一个项目的时候，由于和其他开发使用的 <code>node</code> 版本不同，导致会出现很多奇奇怪怪的问题（如某些依赖安装报错、依赖安装完项目跑步起来等）。</li>
<li>为了实现项目开箱即用的伟大理想，这时候可以使用 <code>package.json</code> 的 <code>engines</code> 字段来指定项目 node 版本：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;engines&quot;: &#123;</span><br><span class="line">   &quot;node&quot;: &quot;&gt;&#x3D; 8.16.0&quot;</span><br><span class="line">&#125;,</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<ul>
<li>该字段也可以指定适用的 <code>npm</code> 版本：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;engines&quot;: &#123;</span><br><span class="line">   &quot;npm&quot;: &quot;&gt;&#x3D; 6.9.0&quot;</span><br><span class="line"> &#125;,</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<ul>
<li>需要注意的是，engines属性仅起到一个说明的作用，当用户版本不符合指定值时也不影响依赖的安装。</li>
</ul>
<h2 id="os（模块适用系统）"><a href="#os（模块适用系统）" class="headerlink" title="os（模块适用系统）"></a>os（模块适用系统）</h2><ul>
<li>假如我们开发了一个模块，只能跑在 <code>darwin</code> 系统下，我们需要保证 <code>windows</code> 用户不会安装到该模块，从而避免发生不必要的错误。</li>
<li>这时候，使用 <code>os</code> 属性则可以帮助我们实现以上的需求，该属性可以指定模块适用系统的系统，或者指定不能安装的系统黑名单（当在系统黑名单中的系统中安装模块则会报错）：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;os&quot; : [ &quot;darwin&quot;, &quot;linux&quot; ] # 适用系统</span><br><span class="line">&quot;os&quot; : [ &quot;!win32&quot; ] # 黑名单</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Tips：在 <code>node</code> 环境下可以使用 <code>process.platform</code> 来判断操作系统。</p>
</blockquote>
<h2 id="cpu（指定模块适用-cpu-架构）"><a href="#cpu（指定模块适用-cpu-架构）" class="headerlink" title="cpu（指定模块适用 cpu 架构）"></a>cpu（指定模块适用 cpu 架构）</h2><ul>
<li>和上面的 <code>os</code> 字段类似，我们可以用 <code>cpu</code> 字段更精准的限制用户安装环境：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;cpu&quot; : [ &quot;x64&quot;, &quot;ia32&quot; ] # 适用 cpu</span><br><span class="line">&quot;cpu&quot; : [ &quot;!arm&quot;, &quot;!mips&quot; ] # 黑名单</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Tips：在 <code>node</code> 环境下可以使用 <code>process.arch</code> 来判断 <code>cpu</code> 架构。</p>
</blockquote>
<h2 id="private（定义私有模块）"><a href="#private（定义私有模块）" class="headerlink" title="private（定义私有模块）"></a>private（定义私有模块）</h2><ul>
<li>一般公司的非开源项目，都会设置 <code>private</code> 属性的值为 <code>true</code>，这是因为 <code>npm</code> 拒绝发布私有模块，通过设置该字段可以防止私有模块被无意间发布出去。</li>
</ul>
<h1 id="次重要（可以当百科全书）"><a href="#次重要（可以当百科全书）" class="headerlink" title="次重要（可以当百科全书）"></a>次重要（可以当百科全书）</h1><h2 id="name（项目名称）"><a href="#name（项目名称）" class="headerlink" title="name（项目名称）"></a>name（项目名称）</h2><ul>
<li>这个名称和你要发布项目到<code>npm</code>上的有关系。</li>
<li>假如你不想发布的话那这个<code>name</code>和<code>version</code>就不是必填项了</li>
</ul>
<p>名字就是你的东西叫什么。（name名称）和（version版本号）构成一个唯一的标识符。</p>
<p>名称的一些规则：</p>
<ul>
<li>名称必须小于或等于 214 个字符。这包括范围包的范围。</li>
<li>作用域包的名称可以以点或下划线开头。这在没有范围的情况下是不允许的。</li>
<li>新包的名称中不得包含大写字母。</li>
<li>该名称最终成为 URL 的一部分、命令行上的参数和文件夹名称。因此，名称不能包含任何非 URL 安全字符。</li>
</ul>
<p>一些技巧：</p>
<ul>
<li>不要使用与核心节点模块相同的名称。</li>
<li>不要在名称中加入“js”或“node”。假设它是 js，因为您正在编写 package.json 文件，并且您可以使用“engines”字段指定引擎。（见下文。）</li>
<li>该名称可能会作为参数传递给 require()，因此它应该是简短的，但也应该具有合理的描述性。</li>
<li>您可能需要检查 npm 注册表以查看是否已经存在使用该名称的内容，以免过于依赖它。 <a href="https://www.npmjs.com/" target="_blank" rel="noopener">https://www.npmjs.com/</a><ul>
<li>方法一：直接到npm官网去搜</li>
<li>方法二：<code>npm view &lt;packageName&gt;</code></li>
</ul>
</li>
</ul>
<p>如果模块存在，可以查看该模块的一些基本信息：</p>
<p><img src="/" class="lazyload" data-src="/image/package/view.png"  alt="view"></p>
<p>如果该模块名从未被使用过，则会抛出 404 错误：</p>
<p><img src="/" class="lazyload" data-src="/image/package/notFound.png"  alt="notFound"></p>
<h2 id="version（版本号）"><a href="#version（版本号）" class="headerlink" title="version（版本号）"></a>version（版本号）</h2><ul>
<li><p><code>version</code>和<code>name</code>组成在<code>npm</code>内部的一个唯一标识符。</p>
</li>
<li><p>假如你不想发布的话那这个<code>name</code>和<code>version</code>就不是必填项了</p>
</li>
<li><p>版本必须可由<a href="https://github.com/npm/node-semver" target="_blank" rel="noopener">node-semver</a>解析 ，它作为依赖项与 npm 捆绑在一起。（<code>npm install semver</code>自己使用。）</p>
</li>
<li><p>我们可以执行以下命令查看模块的版本：</p>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm view &lt;packageName&gt; version # 查看某个模块的最新版本</span><br><span class="line">npm view &lt;packageName&gt; versions # 查看某个模块的所有历史版本</span><br></pre></td></tr></table></figure>

<ul>
<li><code>npm view &lt;packageName&gt; version</code></li>
</ul>
<p><img src="/" class="lazyload" data-src="/image/package/version.png"  alt="notFound"></p>
<ul>
<li><code>npm view &lt;packageName&gt; versions</code></li>
</ul>
<p><img src="/" class="lazyload" data-src="/image/package/versions.png"  alt="notFound"></p>
<h2 id="description（项目描述）"><a href="#description（项目描述）" class="headerlink" title="description（项目描述）"></a>description（项目描述）</h2><p>此文档是您需要了解的有关 <code>package.json</code> 文件中所需内容的全部信息。它必须是实际的 <code>JSON</code>，而不仅仅是 <code>JavaScript</code>对象文字。</p>
<p>本文档中描述的许多行为受 中描述的配置设置的影响<a href="https://docs.npmjs.com/cli/v7/using-npm/config" target="_blank" rel="noopener"><code>config</code></a>。</p>
<h2 id="keywords"><a href="#keywords" class="headerlink" title="keywords"></a>keywords</h2><p>把关键字放进去。它是一个字符串数组。这有助于人们发现您的包裹，因为它在 中列出<code>npm search</code>。</p>
<h2 id="homepage（项目主页）"><a href="#homepage（项目主页）" class="headerlink" title="homepage（项目主页）"></a>homepage（项目主页）</h2><p>项目主页的<code>url</code>。</p>
<p>例子：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"homepage" ：“https://github.com/owner/project#readme”</span><br></pre></td></tr></table></figure>

<h2 id="bugs（问题追踪）"><a href="#bugs（问题追踪）" class="headerlink" title="bugs（问题追踪）"></a>bugs（问题追踪）</h2><p>项目问题跟踪器的 url 和/或应报告问题的电子邮件地址。这些对于遇到包裹问题的人很有帮助。</p>
<p>它应该是这样的：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"url"</span> : <span class="string">"https://github.com/owner/project/issues"</span> ,  </span><br><span class="line">  "email" ："project@hostname.com"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>您可以指定一个或两个值。如果您只想提供一个 url，您可以将“bugs”的值指定为一个简单的字符串而不是一个对象。</p>
<p>如果提供了<code>url</code>，它将被<code>npm bugs</code>命令使用。</p>
<h2 id="license（执照）"><a href="#license（执照）" class="headerlink" title="license（执照）"></a>license（执照）</h2><p>你应该为你的包指定一个许可证，以便人们知道他们如何被允许使用它，以及你对它施加的任何限制。</p>
<p>如果您使用的是 BSD-2-Clause 或 MIT 等通用许可证，请为您使用的许可证添加当前的<code>SPDX</code> 许可证标识符，如下所示：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"license"</span> : <span class="string">"BSD-3-Clause"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>您可以查看<a href="https://spdx.org/licenses/" target="_blank" rel="noopener">SPDX 许可证 ID 的完整列表</a>。理想情况下，您应该选择 <a href="https://opensource.org/licenses/alphabetical" target="_blank" rel="noopener">OSI</a>批准的一种。</p>
<p>如果您的软件包在多个通用许可下获得许可，请使用<a href="https://www.npmjs.com/package/spdx" target="_blank" rel="noopener">SPDX 许可表达式语法版本 2.0 string</a>，如下所示：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"license"</span> : <span class="string">"(ISC OR GPL-3.0)"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果您使用的许可证尚未分配<code>SPDX</code> 标识符，或者您使用的是自定义许可证，请使用如下字符串值：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"license"</span> : <span class="string">"SEE LICENSE IN &lt;filename&gt;"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后包含一个<code>&lt;filename&gt;</code>在包的顶层命名的文件。</p>
<p>一些旧包使用许可证对象或包含许可证对象数组的“许可证”属性：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 无效的元数据</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"license"</span> : &#123;</span><br><span class="line">    <span class="attr">"type"</span> : <span class="string">"ISC"</span>,</span><br><span class="line">    <span class="attr">"url"</span> : <span class="string">"https://opensource.org/licenses/ISC"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 无效的元数据</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"licenses"</span> : [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"MIT"</span>,</span><br><span class="line">      <span class="attr">"url"</span>: <span class="string">"https://www.opensource.org/licenses/mit-license.php"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"Apache-2.0"</span>,</span><br><span class="line">      <span class="attr">"url"</span>: <span class="string">"https://opensource.org/licenses/apache2.0.php"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这些样式现在已被弃用。相反，使用<code>SPDX</code>表达式，如下所示：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"(MIT OR Apache-2.0)"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最后，如果您不希望根据任何条款授予他人使用私有或未发布包的权利：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"UNLICENSED"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>还要考虑设置<code>&quot;private&quot;: true</code>以防止意外发布。</p>
<h2 id="author-contributors（作者和贡献者）"><a href="#author-contributors（作者和贡献者）" class="headerlink" title="author, contributors（作者和贡献者）"></a>author, contributors（作者和贡献者）</h2><p>“作者”是一个人。“贡献者”是一群人。“person”是一个带有“name”字段和可选的“url”和“email”的对象，像这样：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span> : <span class="string">"Barney Rubble"</span>,</span><br><span class="line">  <span class="attr">"email"</span> : <span class="string">"b@rubble.com"</span>,</span><br><span class="line">  <span class="attr">"url"</span> : <span class="string">"http://barnyrubble.tumblr.com/"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>或者，您可以将其全部缩短为一个字符串，然后 npm 将为您解析它：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">"Barney Rubble &lt;b@rubble.com&gt; (http://barnyrubble.tumblr.com/)"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>email 和 url 都是可选的。</p>
<p>npm 还使用您的 npm 用户信息设置顶级“维护者”字段。</p>
<h2 id="funding（档案）"><a href="#funding（档案）" class="headerlink" title="funding（档案）"></a>funding（档案）</h2><p>可选<code>files</code>字段是一个文件模式数组，它描述了当您的包作为依赖项安装时要包含的条目。文件模式遵循与 类似的语法<code>.gitignore</code>，但相反：包含文件、目录或 glob 模式（<code>*</code>,<code>**/*</code>等）将使该文件在打包时包含在 tarball 中。省略该字段将使其默认为<code>[&quot;*&quot;]</code>，这意味着它将包含所有文件。</p>
<p>一些特殊的文件和目录也会被包含或排除，无论它们是否存在于<code>files</code>数组中（见下文）。</p>
<p>您还可以<code>.npmignore</code>在包的根目录或子目录中提供一个文件，以防止文件被包含在内。在包的根目录中，它不会覆盖“文件”字段，但在子目录中会覆盖。该<code>.npmignore</code>文件就像一个<code>.gitignore</code>. 如果有一个<code>.gitignore</code>文件，并且<code>.npmignore</code>丢失了，<code>.gitignore</code>则将使用 的内容。</p>
<p>文件包含了“的package.json＃文件”栏中<em>无法</em>通过排除<code>.npmignore</code>或<code>.gitignore</code>。</p>
<p>无论设置如何，始终包含某些文件：</p>
<ul>
<li><code>package.json</code></li>
<li><code>README</code></li>
<li><code>CHANGES</code>/ <code>CHANGELOG</code>/<code>HISTORY</code></li>
<li><code>LICENSE</code> / <code>LICENCE</code></li>
<li><code>NOTICE</code></li>
<li>“主要”字段中的文件</li>
</ul>
<p><code>README</code>, <code>CHANGES</code>, <code>LICENSE</code>&amp;<code>NOTICE</code>可以有任何大小写和扩展名。</p>
<p>相反，一些文件总是被忽略：</p>
<ul>
<li><code>.git</code></li>
<li><code>CVS</code></li>
<li><code>.svn</code></li>
<li><code>.hg</code></li>
<li><code>.lock-wscript</code></li>
<li><code>.wafpickle-N</code></li>
<li><code>.*.swp</code></li>
<li><code>.DS_Store</code></li>
<li><code>._*</code></li>
<li><code>npm-debug.log</code></li>
<li><code>.npmrc</code></li>
<li><code>node_modules</code></li>
<li><code>config.gypi</code></li>
<li><code>*.orig</code></li>
<li><code>package-lock.json</code>（ <a href="https://docs.npmjs.com/cli/v7/configuring-npm/npm-shrinkwrap-json" target="_blank" rel="noopener"><code>npm-shrinkwrap.json</code></a>如果您希望发布，请使用）</li>
</ul>
<h2 id="main（主要入口）"><a href="#main（主要入口）" class="headerlink" title="main（主要入口）"></a>main（主要入口）</h2><ul>
<li><p><code>main</code> 字段是 <code>package.json</code> 中的另一种元数据功能，它可以用来指定加载的入口文件。假如你的项目是一个 <code>npm</code> 包，当用户安装你的包后，<code>require(&#39;my-module&#39;)</code> 返回的是 <code>main</code> 字段中所列出文件的 <code>module.exports</code> 属性。</p>
</li>
<li><p>当不指定<code>main</code> 字段时，默认值是模块根目录下面的<code>index.js</code> 文件。</p>
</li>
</ul>
<h2 id="browser（浏览器）"><a href="#browser（浏览器）" class="headerlink" title="browser（浏览器）"></a>browser（浏览器）</h2><p>如果您的模块打算在客户端使用，则应使用浏览器字段而不是主字段。这有助于提示用户它可能依赖于 Node.js 模块中不可用的原语。（例如 <code>window</code>）</p>
<h2 id="bin（自定义命令）"><a href="#bin（自定义命令）" class="headerlink" title="bin（自定义命令）"></a>bin（自定义命令）</h2><p>很多包都有一个或多个他们想要安装到 PATH 中的可执行文件。npm 使这变得非常简单（实际上，它使用此功能来安装“npm”可执行文件。）</p>
<p>要使用它，请<code>bin</code>在 package.json 中提供一个字段，它是命令名到本地文件名的映射。在安装时，npm 会将该文件符号链接到<code>prefix/bin</code>全局安装或<code>./node_modules/.bin/</code>本地安装。</p>
<p>给大家看看我自己做一个简单的demo：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"react-cli-library"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"0.0.2"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"bin"</span>: &#123;</span><br><span class="line">    <span class="attr">"react-cli"</span>: <span class="string">"./bin/index.js"</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我的名称叫做react-cli-library。</p>
<p>所以，<code>npm i react-cli-library</code></p>
<p><img src="/" class="lazyload" data-src="/image/package/install.png"  alt="notFound"></p>
<p>安装完成之后，执行react-cli就会有一些命令，他会执行我的根目录底下<code>./bin/index.js</code>这个文件。</p>
<p><img src="/" class="lazyload" data-src="/image/package/use.png"  alt="notFound"></p>
<p>虽然我的项目名称是：<code>react-cli-library</code>。但是我执行的内容却是<code>react-cli</code>，这个取决于bin的内容</p>
<h2 id="man（快捷入口）"><a href="#man（快捷入口）" class="headerlink" title="man（快捷入口）"></a>man（快捷入口）</h2><p>用来给Linux下的man命令查找文档地址，是个单一文件或者文件数组。 如果是单一文件，安装完成后，他就是man + <pkgname>的结果，和此文件名无关，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;foo&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.2.3&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;A packaged foo fooer for fooing foos&quot;,</span><br><span class="line">  &quot;main&quot;: &quot;foo.js&quot;,</span><br><span class="line">  &quot;man&quot;: &quot;.&#x2F;man&#x2F;doc.1&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过man foo命令会得到 ./man/doc.1 文件的内容。<br>如果man文件名称不是以模块名称开头的，安装的时候会给加上模块名称前缀。因此，下面这段配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;foo&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.2.3&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;A packaged foo fooer for fooing foos&quot;,</span><br><span class="line">  &quot;main&quot;: &quot;foo.js&quot;,</span><br><span class="line">  &quot;man&quot;: [</span><br><span class="line">    &quot;.&#x2F;man&#x2F;foo.1&quot;,</span><br><span class="line">    &quot;.&#x2F;man&#x2F;bar.1&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>会创建一些文件来作为man foo和man foo-bar命令的结果。<br>man文件必须以数字结尾，或者如果被压缩了，以.gz结尾。数字表示文件将被安装到man的哪个部分。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;foo&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.2.3&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;A packaged foo fooer for fooing foos&quot;,</span><br><span class="line">  &quot;main&quot;: &quot;foo.js&quot;,</span><br><span class="line">  &quot;man&quot;: [</span><br><span class="line">    &quot;.&#x2F;man&#x2F;foo.1&quot;,</span><br><span class="line">    &quot;.&#x2F;man&#x2F;foo.2&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>会创建 man foo 和 man 2 foo 两条命令。</p>
<h2 id="directories（目录）"><a href="#directories（目录）" class="headerlink" title="directories（目录）"></a>directories（目录）</h2><p>CommonJS <a href="http://wiki.commonjs.org/wiki/Packages/1.0" target="_blank" rel="noopener">Packages</a>规范详细说明了一些可以使用<code>directories</code>对象指示包结构的方法。如果您查看<a href="https://registry.npmjs.org/npm/latest" target="_blank" rel="noopener">npm 的 package.json</a>，您会看到它包含 doc、lib 和 man 目录。</p>
<p>将来，这些信息可能会以其他创造性的方式使用。</p>
<h4 id="目录-bin"><a href="#目录-bin" class="headerlink" title="目录.bin"></a>目录.bin</h4><p>如果在 中指定<code>bin</code>目录<code>directories.bin</code>，则将添加该文件夹中的所有文件。</p>
<p>由于<code>bin</code>指令的工作方式，同时指定<code>bin</code>路径和设置<code>directories.bin</code>是错误的。如果要指定单个文件，请使用<code>bin</code>，对于现有<code>bin</code> 目录中的所有文件，请使用<code>directories.bin</code>。</p>
<h4 id="目录-man"><a href="#目录-man" class="headerlink" title="目录.man"></a>目录.man</h4><p>一个充满手册页的文件夹。Sugar 通过遍历文件夹来生成“man”数组。</p>
<h2 id="repository（代码存储位置）"><a href="#repository（代码存储位置）" class="headerlink" title="repository（代码存储位置）"></a>repository（代码存储位置）</h2><p>指定代码所在的位置。这对想要贡献的人很有帮助。如果 git repo 在 GitHub 上，那么该<code>npm docs</code> 命令将能够找到您。</p>
<p>像这样做：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"repository"</span>: &#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"git"</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://github.com/npm/cli.git"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>URL 应该是一个公开可用的（可能是只读的）url，可以直接传递给 VCS 程序，无需任何修改。它不应该是您放入浏览器的 html 项目页面的 url。是给电脑用的。</p>
<p>对于 GitHub、GitHub gist、Bitbucket 或 GitLab 存储库，您可以使用与 相同的快捷语法<code>npm install</code>：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"repository"</span>: <span class="string">"npm/npm"</span>,</span><br><span class="line"></span><br><span class="line">  <span class="attr">"repository"</span>: <span class="string">"github:user/repo"</span>,</span><br><span class="line"></span><br><span class="line">  <span class="attr">"repository"</span>: <span class="string">"gist:11081aaa281"</span>,</span><br><span class="line"></span><br><span class="line">  <span class="attr">"repository"</span>: <span class="string">"bitbucket:user/repo"</span>,</span><br><span class="line"></span><br><span class="line">  <span class="attr">"repository"</span>: <span class="string">"gitlab:user/repo"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果<code>package.json</code>您的包的 不在根目录中（例如，如果它是 monorepo 的一部分），您可以指定它所在的目录：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"repository"</span>: &#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"git"</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://github.com/facebook/react.git"</span>,</span><br><span class="line">    <span class="attr">"directory"</span>: <span class="string">"packages/react-dom"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="config（配置内容）"><a href="#config（配置内容）" class="headerlink" title="config（配置内容）"></a>config（配置内容）</h2><p>“config”对象可用于设置在升级过程中持续存在的包脚本中使用的配置参数。例如，如果一个包具有以下内容：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"foo"</span>,</span><br><span class="line">  <span class="attr">"config"</span>: &#123;</span><br><span class="line">    <span class="attr">"port"</span>: <span class="string">"8080"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后有一个“开始”命令，然后引用 <code>npm_package_config_port</code>环境变量，然后用户可以通过执行<code>npm config set foo:port 8001</code>.</p>
<p>查看<a href="https://docs.npmjs.com/cli/v7/using-npm/config" target="_blank" rel="noopener"><code>config</code></a>和<a href="https://docs.npmjs.com/cli/v7/using-npm/scripts" target="_blank" rel="noopener"><code>scripts</code></a>了解更多关于包配置的信息。</p>
<h2 id="peerDependencies（对等依赖）"><a href="#peerDependencies（对等依赖）" class="headerlink" title="peerDependencies（对等依赖）"></a>peerDependencies（对等依赖）</h2><p>在某些情况下，您希望表达您的包与主机工具或库的兼容性，而不必执行<code>require</code>此主机的操作。这通常称为<em>插件</em>。值得注意的是，您的模块可能会公开主机文档所预期和指定的特定接口。</p>
<p>例如：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"tea-latte"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.3.5"</span>,</span><br><span class="line">  <span class="attr">"peerDependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"tea"</span>: <span class="string">"2.x"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这确保您的软件包<code>tea-latte</code>只能与主机软件包的第二个主要版本<em>一起</em>安装<code>tea</code>。<code>npm install tea-latte</code>可能会产生以下依赖图：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">├── tea-latte@1.3.5</span><br><span class="line">└── tea@2.2.0</span><br></pre></td></tr></table></figure>

<p>在 npm 版本 3 到 6 中，<code>peerDependencies</code>不会自动安装，如果在树中发现对等依赖项的无效版本，则会发出警告。由于NPM V7的，peerDependencies<em>被</em> 默认安装。</p>
<p>如果无法正确解析树，尝试安装具有冲突要求的另一个插件可能会导致错误。因此，请确保您的插件要求尽可能广泛，而不是将其锁定为特定的补丁版本。</p>
<p>假设主机符合<a href="https://semver.org/" target="_blank" rel="noopener">semver</a>，只有主机包的主要版本中的更改才会破坏您的插件。因此，如果您使用过主机包的每个 1.x 版本，请使用<code>&quot;^1.0&quot;</code>或<code>&quot;1.x&quot;</code> 来表达这一点。如果您依赖 1.5.2 中引入的功能，请使用 <code>&quot;^1.5.2&quot;</code>.</p>
<h2 id="peerDependenciesMeta（捆绑依赖）"><a href="#peerDependenciesMeta（捆绑依赖）" class="headerlink" title="peerDependenciesMeta（捆绑依赖）"></a>peerDependenciesMeta（捆绑依赖）</h2><p>这定义了在发布包时将捆绑的包名称数组。</p>
<p>如果您需要在本地保留 npm 包或通过单个文件下载使它们可用，您可以通过在<code>bundledDependencies</code> 数组中指定包名称并执行<code>npm pack</code>.</p>
<p>例如：</p>
<p>如果我们像这样定义 package.json：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"awesome-web-framework"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"bundledDependencies"</span>: [</span><br><span class="line">    <span class="string">"renderized"</span>,</span><br><span class="line">    <span class="string">"super-streams"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们可以<code>awesome-web-framework-1.0.0.tgz</code>通过运行获取文件<code>npm pack</code>。此文件包含的依赖关系<code>renderized</code>，并<code>super-streams</code>可以通过执行安装在一个新的项目<code>npm install awesome-web-framework-1.0.0.tgz</code>。请注意，包名称不包含任何版本，因为该信息在<code>dependencies</code>.</p>
<p>如果这是拼写<code>&quot;bundleDependencies&quot;</code>，那么这也很荣幸。</p>
<h2 id="optionalDependencies（可选依赖项）"><a href="#optionalDependencies（可选依赖项）" class="headerlink" title="optionalDependencies（可选依赖项）"></a>optionalDependencies（可选依赖项）</h2><p>如果可以使用依赖项，但如果找不到或安装失败，您希望 npm 继续，那么您可以将其放入 <code>optionalDependencies</code>对象中。这是包名称到版本或 url 的映射，就像<code>dependencies</code>对象一样。不同之处在于构建失败不会导致安装失败。运行<code>npm install --no-optional</code>将阻止安装这些依赖项。</p>
<p>处理缺少依赖项仍然是您的程序的责任。例如，这样的事情：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> foo = <span class="built_in">require</span>(<span class="string">'foo'</span>)</span><br><span class="line">  <span class="keyword">var</span> fooVersion = <span class="built_in">require</span>(<span class="string">'foo/package.json'</span>).version</span><br><span class="line">&#125; <span class="keyword">catch</span> (er) &#123;</span><br><span class="line">  foo = <span class="literal">null</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> ( notGoodFooVersion(fooVersion) ) &#123;</span><br><span class="line">  foo = <span class="literal">null</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// .. then later in your program ..</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (foo) &#123;</span><br><span class="line">  foo.doFooThings()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>中的条目<code>optionalDependencies</code>将覆盖 中的同名条目 <code>dependencies</code>，因此通常最好只放在一个地方。</p>
<h2 id="publishConfig（发布配置）"><a href="#publishConfig（发布配置）" class="headerlink" title="publishConfig（发布配置）"></a>publishConfig（发布配置）</h2><p>这是一组将在发布时使用的配置值。如果您想设置标记、注册表或访问权限，这将特别方便，这样您就可以确保给定的包没有被标记为“最新”、未发布到全局公共注册表或默认情况下范围模块是私有的。</p>
<p>查看<a href="https://docs.npmjs.com/cli/v7/using-npm/config" target="_blank" rel="noopener"><code>config</code></a>可覆盖的配置选项列表。</p>
<h2 id="workspaces（工作区）"><a href="#workspaces（工作区）" class="headerlink" title="workspaces（工作区）"></a>workspaces（工作区）</h2><p>可选<code>workspaces</code>字段是一个文件模式数组，它描述了本地文件系统内的位置，安装客户端应该查找这些位置以找到需要符号链接到顶级文件夹的每个<a href="https://docs.npmjs.com/cli/v7/using-npm/workspaces" target="_blank" rel="noopener">工作区</a><code>node_modules</code>。</p>
<p>它可以描述要用作工作区的文件夹的直接路径，也可以定义将解析为这些相同文件夹的 glob。</p>
<p>在以下示例中，<code>./packages</code>只要文件夹中包含有效<code>package.json</code>文件，位于文件夹内的所有文件夹 都将被视为工作区 ：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"workspace-example"</span>,</span><br><span class="line">  <span class="attr">"workspaces"</span>: [</span><br><span class="line">    <span class="string">"./packages/*"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>有关<a href="https://docs.npmjs.com/cli/v7/using-npm/workspaces" target="_blank" rel="noopener"><code>workspaces</code></a>更多示例，请参见。</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>本文几乎是全网最全的package.json的讲解了。一些常用的和不常用的都有区分，不常用的可以当百科全书查一下，面试主要也是会问一些主要内容。</p>
<blockquote>
<p>如果觉得本文对你有帮助的话，请点个赞。👍👍👍👍</p>
</blockquote>
<h1 id="参考资料-📖"><a href="#参考资料-📖" class="headerlink" title="参考资料 📖"></a>参考资料 📖</h1><p><a href="https://docs.npmjs.com/cli/v7/configuring-npm/package-json#workspaces" target="_blank" rel="noopener">https://docs.npmjs.com/cli/v7/configuring-npm/package-json#workspaces</a></p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Derrick</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://derricktel.github.io/2021/06/22/%E9%9D%A2%E8%AF%95%E5%AE%98%EF%BC%9A%E5%90%AC%E8%AF%B4%E4%BD%A0%E5%AF%B9package-json%E5%BE%88%E7%86%9F%EF%BC%9F/">http://derricktel.github.io/2021/06/22/%E9%9D%A2%E8%AF%95%E5%AE%98%EF%BC%9A%E5%90%AC%E8%AF%B4%E4%BD%A0%E5%AF%B9package-json%E5%BE%88%E7%86%9F%EF%BC%9F/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://derricktel.github.io" target="_blank">Derrick</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JavaScript/">JavaScript</a></div><div class="post_share"><div class="social-share" data-image="/image/cover/svg.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/DerrickWechat.png" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/DerrickAlipay.jpg" alt="支付寶"/><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2021/06/24/%E9%9D%A2%E8%AF%95%E5%AE%98%EF%BC%9A%E5%B0%8F%E4%BC%99%E5%AD%90canvas%E4%BD%A0%E7%9F%A5%E9%81%93%E5%A4%9A%E5%B0%91%E5%95%8A-%E5%A5%B8%E7%AC%91/"><img class="prev_cover lazyload" data-src="/image/cover/webpack.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">面试官：小伙子canvas你知道多少啊(奸笑)</div></div></a></div><div class="next-post pull_right"><a href="/2021/06/17/%E5%85%A8%E7%BD%91%E6%9C%80%E5%85%A8React%E6%BA%90%E7%A0%81%E8%B0%83%E8%AF%95%E6%95%99%E7%A8%8B/"><img class="next_cover lazyload" data-src="/image/cover/react.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">全网最全React源码调试傻瓜式教程</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2019/06/19/window-history-back-缓存-返回上级页面不刷新数据/" title="window.history.back(); 缓存 返回上级页面不刷新数据"><img class="relatedPosts_cover lazyload"data-src="/image/cover/history.jpeg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2019-06-19</div><div class="relatedPosts_title">window.history.back(); 缓存 返回上级页面不刷新数据</div></div></a></div><div class="relatedPosts_item"><a href="/2020/08/10/【重识前端】一次搞定事件循环/" title="【重识前端】一次搞定JavaScript的执行机制"><img class="relatedPosts_cover lazyload"data-src="/image/cover/web.jpeg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-08-10</div><div class="relatedPosts_title">【重识前端】一次搞定JavaScript的执行机制</div></div></a></div><div class="relatedPosts_item"><a href="/2020/07/13/【重识前端】原型原型链和继承/" title="【重识前端】原型/原型链和继承"><img class="relatedPosts_cover lazyload"data-src="/image/cover/web.jpeg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-07-13</div><div class="relatedPosts_title">【重识前端】原型/原型链和继承</div></div></a></div><div class="relatedPosts_item"><a href="/2020/07/16/【重识前端】全面攻破this/" title="【重识前端】全面攻破this"><img class="relatedPosts_cover lazyload"data-src="/image/cover/web.jpeg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-07-16</div><div class="relatedPosts_title">【重识前端】全面攻破this</div></div></a></div><div class="relatedPosts_item"><a href="/2020/08/25/【重识前端】深入内存世界/" title="【重识前端】深入内存世界"><img class="relatedPosts_cover lazyload"data-src="/image/cover/web.jpeg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-08-25</div><div class="relatedPosts_title">【重识前端】深入内存世界</div></div></a></div><div class="relatedPosts_item"><a href="/2020/08/28/【重识前端】暴走的异步编程/" title="【重识前端】暴走的异步编程"><img class="relatedPosts_cover lazyload"data-src="/image/cover/web.jpeg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-08-28</div><div class="relatedPosts_title">【重识前端】暴走的异步编程</div></div></a></div></div><div class="clear_both"></div></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Derrick</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script></body></html>